{"version":3,"sources":["node_modules/browser-pack/_prelude.js","public/assets/scripts/actions/access.js","public/assets/scripts/actions/action-types.js","public/assets/scripts/actions/alerts.js","public/assets/scripts/actions/auth.js","public/assets/scripts/actions/comments.js","public/assets/scripts/actions/config.js","public/assets/scripts/actions/domains.js","public/assets/scripts/actions/filters.js","public/assets/scripts/actions/formats.js","public/assets/scripts/actions/languages.js","public/assets/scripts/actions/message-types.js","public/assets/scripts/actions/resources.js","public/assets/scripts/actions/scripts.js","public/assets/scripts/actions/subjects.js","public/assets/scripts/actions/terms.js","public/assets/scripts/actions/user.js","public/assets/scripts/actions/years.js","public/assets/scripts/app.js","public/assets/scripts/components/auth/loginButton.js","public/assets/scripts/components/auth/loginForm.js","public/assets/scripts/components/auth/logoutButton.js","public/assets/scripts/components/auth/protectedButton.js","public/assets/scripts/components/auth/signupForm.js","public/assets/scripts/components/blocks/contribute.js","public/assets/scripts/components/blocks/explore.js","public/assets/scripts/components/common/alerts.js","public/assets/scripts/components/common/breadcrumbs.js","public/assets/scripts/components/common/collapse.js","public/assets/scripts/components/common/fileInput.js","public/assets/scripts/components/common/radioGroup.js","public/assets/scripts/components/common/rating.js","public/assets/scripts/components/common/svg.js","public/assets/scripts/components/common/tags.js","public/assets/scripts/components/common/textarea.js","public/assets/scripts/components/dashboard/index.js","public/assets/scripts/components/dashboard/resources/common/list.js","public/assets/scripts/components/dashboard/resources/myResources.js","public/assets/scripts/components/formats/index.js","public/assets/scripts/components/formats/list.js","public/assets/scripts/components/navigation/bottomNav.js","public/assets/scripts/components/navigation/dashboardMenu.js","public/assets/scripts/components/navigation/profileNav.js","public/assets/scripts/components/navigation/topNav.js","public/assets/scripts/components/resources/actions/email.js","public/assets/scripts/components/resources/actions/embed.js","public/assets/scripts/components/resources/actions/favorite.js","public/assets/scripts/components/resources/actions/share.js","public/assets/scripts/components/resources/carousel.js","public/assets/scripts/components/resources/comments/comment.js","public/assets/scripts/components/resources/comments/comments.js","public/assets/scripts/components/resources/comments/form.js","public/assets/scripts/components/resources/comments/list.js","public/assets/scripts/components/resources/common/deleteCollective.js","public/assets/scripts/components/resources/common/deleteResource.js","public/assets/scripts/components/resources/common/filters.js","public/assets/scripts/components/resources/common/list.js","public/assets/scripts/components/resources/common/order.js","public/assets/scripts/components/resources/common/resource.js","public/assets/scripts/components/resources/details/index.js","public/assets/scripts/components/resources/details/mediaDisplay.js","public/assets/scripts/components/resources/details/mediaFooter.js","public/assets/scripts/components/resources/details/scripts.js","public/assets/scripts/components/resources/highlights.js","public/assets/scripts/components/resources/listing.js","public/assets/scripts/components/resources/newResource/newResourceFormFirstPage.js","public/assets/scripts/components/resources/newResource/newResourceFormSecondPage.js","public/assets/scripts/components/resources/newResource/validateFirstPage.js","public/assets/scripts/components/resources/newResource/validateSecondPage.js","public/assets/scripts/components/resources/recent.js","public/assets/scripts/components/resources/related.js","public/assets/scripts/components/resources/techFile/index.js","public/assets/scripts/components/scripts/common/domains.js","public/assets/scripts/components/scripts/newScriptForm.js","public/assets/scripts/components/scripts/validate.js","public/assets/scripts/components/search/searchBar.js","public/assets/scripts/components/search/searchForm.js","public/assets/scripts/components/user/resume.js","public/assets/scripts/containers/auth/isAdmin.js","public/assets/scripts/containers/auth/isAuth.js","public/assets/scripts/containers/auth/isNotAuth.js","public/assets/scripts/containers/auth/loginForm.js","public/assets/scripts/containers/auth/requireAuth.js","public/assets/scripts/containers/auth/signupForm.js","public/assets/scripts/containers/blocks/contribute.js","public/assets/scripts/containers/comments/commentForm.js","public/assets/scripts/containers/comments/index.js","public/assets/scripts/containers/common/alerts.js","public/assets/scripts/containers/dashboard/menu.js","public/assets/scripts/containers/dashboard/myResources.js","public/assets/scripts/containers/dashboard/newResourceForm.js","public/assets/scripts/containers/dashboard/newScriptForm.js","public/assets/scripts/containers/filters/index.js","public/assets/scripts/containers/formats/index.js","public/assets/scripts/containers/header/index.js","public/assets/scripts/containers/highlights/index.js","public/assets/scripts/containers/resources/deleteCollective.js","public/assets/scripts/containers/resources/deleteResource.js","public/assets/scripts/containers/resources/details.js","public/assets/scripts/containers/resources/index.js","public/assets/scripts/containers/resources/recent.js","public/assets/scripts/containers/resources/related.js","public/assets/scripts/containers/search/index.js","public/assets/scripts/containers/user/resume.js","public/assets/scripts/layouts/app.js","public/assets/scripts/layouts/empty.js","public/assets/scripts/middleware/api.js","public/assets/scripts/pages/dashboardPage.js","public/assets/scripts/pages/discoverPage.js","public/assets/scripts/pages/indexPage.js","public/assets/scripts/pages/newResourcePage.js","public/assets/scripts/pages/newScriptPage.js","public/assets/scripts/pages/notFoundPage.js","public/assets/scripts/pages/resourceDetailsPage.js","public/assets/scripts/pages/signupFormPage.js","public/assets/scripts/reducers/access.js","public/assets/scripts/reducers/alerts.js","public/assets/scripts/reducers/auth.js","public/assets/scripts/reducers/comments.js","public/assets/scripts/reducers/config.js","public/assets/scripts/reducers/domains.js","public/assets/scripts/reducers/filters.js","public/assets/scripts/reducers/formats.js","public/assets/scripts/reducers/index.js","public/assets/scripts/reducers/languages.js","public/assets/scripts/reducers/resources.js","public/assets/scripts/reducers/scripts.js","public/assets/scripts/reducers/subjects.js","public/assets/scripts/reducers/terms.js","public/assets/scripts/reducers/user.js","public/assets/scripts/reducers/years.js","public/assets/scripts/routes/index.js","public/assets/scripts/utils/index.js"],"names":[],"mappings":"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","file":"bundle.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","'use strict';\n\nrequire('es6-promise').polyfill();\nimport fetch from 'isomorphic-fetch';\n\nimport { \n\tACCESS_REQUEST, \n\tACCESS_SUCCESS,\n\tACCESS_FAILURE,\n\tACCESS_RESET\n} from './action-types';\nimport { CALL_API } from '../middleware/api';\n\n\n// FORMATS\nfunction requestAccess(){\n\treturn {\n\t\ttype: ACCESS_REQUEST\n\t}\n}\n\nfunction receiveAccess(data){\n\treturn {\n\t\ttype: ACCESS_SUCCESS,\n\t\tdata: data\n\t}\n}\n\nfunction accessError(message){\n\treturn {\n\t\ttype: ACCESS_FAILURE,\n\t\tmessage: message\n\t}\n}\n\nexport function resetAccess(){\n\treturn {\n\t\ttype: ACCESS_RESET\n\t}\n}\n\nexport function fetchAccess(isRequired){\n\t/*return dispatch => {\n\t\tdispatch(requestAccess());\n\n\t\treturn fetch('/assets/scripts/dummy.json')\n\t\t.then(response => {\n\t\t\tif (response.status >= 400) {\n\t          throw new Error('Bad response');\n\t        }\n\t        return response.json();\n\t\t})\n\t\t.then(json => {\n\t\t\tdispatch(receiveAccess(json.access));\n\t\t})\n\t\t.catch(message => {\n\t\t\tdispatch(accessError(message));\n\t\t})\n\t}*/\n\n\tlet params = '';\n\n\tif (isRequired){\n\t\tparams = '?required=true';\n\t}\n\n\treturn {\n\t\t[CALL_API]: {\n\t\t  endpoint: 'modes'+params,\n\t\t  types: [ACCESS_REQUEST, ACCESS_SUCCESS, ACCESS_FAILURE]\n\t\t}\n\t}\n}","'use strict';\n\n// CONFIG\nexport const CONFIG_REQUEST = 'CONFIG_REQUEST';\nexport const CONFIG_SUCCESS = 'CONFIG_SUCCESS';\nexport const CONFIG_FAILURE = 'CONFIG_FAILURE';\n\n// RESOURCES\nexport const RESOURCES_REQUEST = 'RESOURCES_REQUEST';\nexport const RESOURCES_SUCCESS = 'RESOURCES_SUCCESS';\nexport const RESOURCES_FAILURE = 'RESOURCES_FAILURE';\nexport const RESOURCES_RESET = 'RESOURCES_RESET';\n\n// SINGLE RESOURCE\nexport const RESOURCE_REQUEST = 'RESOURCE_REQUEST';\nexport const RESOURCE_SUCCESS = 'RESOURCE_SUCCESS';\nexport const RESOURCE_FAILURE = 'RESOURCE_FAILURE';\nexport const RESOURCE_RESET = 'RESOURCE_RESET';\nexport const TOGGLE_FAVORITE_RESOURCE = 'TOGGLE_FAVORITE_RESOURCE';\n\n// RELATED RESOURCES\nexport const RELATED_RESOURCES_REQUEST = 'RELATED_RESOURCES_REQUEST';\nexport const RELATED_RESOURCES_SUCCESS = 'RELATED_RESOURCES_SUCCESS';\nexport const RELATED_RESOURCES_FAILURE = 'RELATED_RESOURCES_FAILURE';\nexport const RELATED_RESOURCES_RESET = 'RELATED_RESOURCES_RESET';\n\n// HIGHLIGHTS\nexport const HIGHLIGHTS_REQUEST = 'HIGHLIGHTS_REQUEST';\nexport const HIGHLIGHTS_SUCCESS = 'HIGHLIGHTS_SUCCESS';\nexport const HIGHLIGHTS_FAILURE = 'HIGHLIGHTS_FAILURE';\nexport const HIGHLIGHTS_RESET = 'HIGHLIGHTS_RESET';\nexport const TOGGLE_HIGHLIGHT_RESOURCE = 'TOGGLE_HIGHLIGHT_RESOURCE';\n\n// SCRIPTS\nexport const SCRIPTS_REQUEST = 'SCRIPTS_REQUEST';\nexport const SCRIPTS_SUCCESS = 'SCRIPTS_SUCCESS';\nexport const SCRIPTS_FAILURE = 'SCRIPTS_FAILURE';\nexport const SCRIPTS_RESET = 'SCRIPTS_RESET';\n\n// FORMATS\nexport const FORMATS_REQUEST = 'FORMATS_REQUEST';\nexport const FORMATS_SUCCESS = 'FORMATS_SUCCESS';\nexport const FORMATS_FAILURE = 'FORMATS_FAILURE';\nexport const FORMATS_RESET = 'FORMATS_RESET';\n\n// ACCESS\nexport const ACCESS_REQUEST = 'ACCESS_REQUEST';\nexport const ACCESS_SUCCESS = 'ACCESS_SUCCESS';\nexport const ACCESS_FAILURE = 'ACCESS_FAILURE';\nexport const ACCESS_RESET = 'ACCESS_RESET';\n\n// SUBJECTS\nexport const SUBJECTS_REQUEST = 'SUBJECTS_REQUEST';\nexport const SUBJECTS_SUCCESS = 'SUBJECTS_SUCCESS';\nexport const SUBJECTS_FAILURE = 'SUBJECTS_FAILURE';\nexport const SUBJECTS_RESET = 'SUBJECTS_RESET';\n\n// DOMAINS\nexport const DOMAINS_REQUEST = 'DOMAINS_REQUEST';\nexport const DOMAINS_SUCCESS = 'DOMAINS_SUCCESS';\nexport const DOMAINS_FAILURE = 'DOMAINS_FAILURE';\nexport const DOMAINS_RESET = 'DOMAINS_RESET';\n\n// YEARS\nexport const YEARS_REQUEST = 'YEARS_REQUEST';\nexport const YEARS_SUCCESS = 'YEARS_SUCCESS';\nexport const YEARS_FAILURE = 'YEARS_FAILURE';\nexport const YEARS_RESET = 'YEARS_RESET';\n\n// LANGUAGES\nexport const LANGUAGES_REQUEST = 'LANGUAGES_REQUEST';\nexport const LANGUAGES_SUCCESS = 'LANGUAGES_SUCCESS';\nexport const LANGUAGES_FAILURE = 'LANGUAGES_FAILURE';\nexport const LANGUAGES_RESET = 'LANGUAGES_RESET';\n\n// LOGIN\nexport const LOGIN_REQUEST = 'LOGIN_REQUEST';\nexport const LOGIN_SUCCESS = 'LOGIN_SUCCESS';\nexport const LOGIN_FAILURE = 'LOGIN_FAILURE';\n\n// SIGNUP\nexport const SIGNUP_REQUEST = 'SIGNUP_REQUEST';\nexport const SIGNUP_SUCCESS = 'SIGNUP_SUCCESS';\nexport const SIGNUP_FAILURE = 'SIGNUP_FAILURE';\n\n// LOGOUT\nexport const LOGOUT_REQUEST = 'LOGOUT_REQUEST';\n\n// COMMENTS\nexport const COMMENTS_REQUEST = 'COMMENTS_REQUEST';\nexport const COMMENTS_SUCCESS = 'COMMENTS_SUCCESS';\nexport const COMMENTS_FAILURE = 'COMMENTS_FAILURE';\nexport const COMMENTS_RESET = 'COMMENTS_RESET';\n\n// USER\nexport const USER_REQUEST = 'USER_REQUEST';\nexport const USER_SUCCESS = 'USER_SUCCESS';\nexport const USER_FAILURE = 'USER_FAILURE';\n\n// USER\nexport const FILTERS_GET = 'FILTERS_GET';\nexport const FILTERS_SET = 'FILTERS_SET';\nexport const FILTERS_RESET = 'FILTERS_RESET';\n\n// TERMS AND CONDITIONS\nexport const TERMSANDCONDITIONS_REQUEST = 'TERMSANDCONDITIONS_REQUEST';\nexport const TERMSANDCONDITIONS_SUCCESS = 'TERMSANDCONDITIONS_SUCCESS';\nexport const TERMSANDCONDITIONS_FAILURE = 'TERMSANDCONDITIONS_FAILURE';\n\n// ALERTS\nexport const ALERT_ADD = 'ALERT_ADD';\nexport const ALERT_REMOVE = 'ALERT_REMOVE';","'use strict';\n\nrequire('es6-promise').polyfill();\nimport fetch from 'isomorphic-fetch';\n\nimport { \n\tALERT_ADD, \n\tALERT_REMOVE\n} from './action-types';\n\nimport * as messages from './message-types';\n\nexport function addAlert(message, resultType){\n\treturn {\n\t\ttype: ALERT_ADD,\n\t\tmessage,\n\t\tresultType\n\t}\n}\n\nexport function removeAlert(data){\n\treturn {\n\t\ttype: ALERT_REMOVE\n\t}\n}","'use strict';\n\nrequire('es6-promise').polyfill();\nimport fetch from 'isomorphic-fetch';\n\nimport { \n\tLOGIN_REQUEST, \n\tLOGIN_SUCCESS,\n\tLOGIN_FAILURE,\n\tLOGOUT_REQUEST,\n\tSIGNUP_REQUEST, \n\tSIGNUP_SUCCESS,\n\tSIGNUP_FAILURE\n} from './action-types';\n\nimport * as alertMessages from './message-types';\nimport * as alertActions from './alerts';\n\n// LOGIN\nfunction requestLogin(){\n\treturn {\n\t\ttype: LOGIN_REQUEST\n\t}\n}\n\nexport function receiveLogin(data){\n\treturn {\n\t\ttype: LOGIN_SUCCESS,\n\t\tdata: data\n\t}\n}\n\nfunction loginError(errors){\n\treturn {\n\t\ttype: LOGIN_FAILURE,\n\t\terrors\n\t}\n}\n\nexport function loginUser(props){\n\tlet config = {\n\t\tmethod: 'POST',\n\t\theaders: { 'Content-Type':'application/x-www-form-urlencoded' },\n\t\tbody: `email=${props.email}&password=${props.password}`\n\t}\n\n\treturn dispatch => {\n\t\tdispatch(requestLogin());\n\n\t\t/* Change this to API Call */\n\t\treturn fetch('http://devbox.dev/api/users/signin', config)\n\t\t.then(response => {\n\t\t\tif (!response.ok) {\t \n\t\t\t\tlet message = response.status == 401 ? \"Email ou Palavra-chave incorretos\" : \"Não foi possível entrar. Contate o administrador da REDA\";\n          \t\tdispatch(loginError(message));\n          \t\treturn Promise.reject(message);\n\t        }\n\n\t        return response.json();\n\t\t})\n\t\t.then(json => {\n\n\t\t\t// If login was successful, set the token in local storage\n          \tlocalStorage.setItem('token', json.token);\n          \tlocalStorage.setItem('user', JSON.stringify(json.user));\n\n\t\t\tdispatch(alertActions.addAlert(alertMessages.ALERT_LOGIN_SUCCESS, alertMessages.SUCCESS))\n\t        dispatch(receiveLogin(json));\t\t\t\n\t\t})\n\t\t.catch(errors => {\n\t\t\tdispatch(loginError(errors));\n\t\t})\n\t}\n}\n\nexport function logout(){\n\treturn dispatch => {\n\t\tlocalStorage.removeItem('token');\n      \tlocalStorage.removeItem('user');\n      \tdispatch(alertActions.addAlert(alertMessages.ALERT_LOGOUT_SUCCESS, alertMessages.SUCCESS));\n\t\tdispatch(requestLogout());\n\t\t\n\t}\n}\n\nfunction requestLogout(){\n\treturn {\n\t\ttype: LOGOUT_REQUEST\n\t}\n}\n\n// SIGNUP\nfunction requestSignup(){\n\treturn {\n\t\ttype: SIGNUP_REQUEST\n\t}\n}\n\nfunction receiveSignup(data){\n\treturn {\n\t\ttype: SIGNUP_SUCCESS,\n\t\tdata: data\n\t}\n}\n\nfunction signupError(errors){\n\treturn {\n\t\ttype: SIGNUP_FAILURE,\n\t\terrors\n\t}\n}\n\nexport function signupUser(props){\n\treturn dispatch => {\n\t\tdispatch(requestSignup());\n\n\t\t/* Change this to API Call */\n\t\treturn fetch('/assets/scripts/dummy.json')\n\t\t.then(response => {\n\t\t\tif (response.status >= 400) {\n\t          throw new Error('Bad response');\n\t        }\n\n\t        return response.json();\n\t\t})\n\t\t.then(json => {\n\n\t        dispatch(receiveSignup(json.users[0]));\t\t\t\n\t\t})\n\t\t.catch(errors => {\n\n\t\t\t// Errors simulation\n\t\t\tlet data = {\n\t\t\t\temail: \"Email já existe\",\n\t\t\t\tpassword: \"Faltam caracteres\"\n\t\t\t}\n\n\t\t\tdispatch(signupError(data));\n\t\t})\n\t}\n}","'use strict';\n\nrequire('es6-promise').polyfill();\nimport fetch from 'isomorphic-fetch';\n\nimport { \n\tCOMMENTS_REQUEST, \n\tCOMMENTS_SUCCESS,\n\tCOMMENTS_FAILURE,\n\tCOMMENTS_RESET\n} from './action-types';\n\nfunction requestComments(){\n\treturn {\n\t\ttype: COMMENTS_REQUEST\n\t}\n}\n\nfunction receiveComments(data){\n\treturn {\n\t\ttype: COMMENTS_SUCCESS,\n\t\tdata: data\n\t}\n}\n\nfunction commentsError(errors){\n\treturn {\n\t\ttype: COMMENTS_FAILURE,\n\t\terrors\n\t}\n}\n\nexport function resetComments(){\n\treturn {\n\t\ttype: COMMENTS_RESET\n\t}\n}\n\nexport function fetchComments(resourceId){\n\treturn dispatch => {\n\t\tdispatch(requestComments());\n\n\t\t/* Change this to API Call */\n\t\treturn fetch('/assets/scripts/dummy.json')\n\t\t.then(response => {\n\t\t\tif (response.status >= 400) {\n\t          throw new Error('Bad response');\n\t        }\n\n\t        return response.json();\n\t\t})\n\t\t.then(json => {\n\t\t\tvar filtered = json.resources.filter((obj) => {\t\t\t\t\n\t\t\t\treturn obj.id == resourceId;\n\t\t\t});\n\t\t\t\n\t\t\tif (filtered.length==0){\n\t\t\t\tthrow new Error('No data');\n\t\t\t}\n\t        \n\t        dispatch(receiveComments(filtered[0].comments));\t\t\t\n\t\t})\n\t\t.catch(errors => {\n\t\t\tdispatch(commentsError(errors));\n\t\t})\n\t}\n}","'use strict';\r\n\r\nrequire('es6-promise').polyfill();\r\nimport fetch from 'isomorphic-fetch';\r\n\r\nimport { \r\n\tCONFIG_REQUEST, \r\n\tCONFIG_SUCCESS,\r\n\tCONFIG_FAILURE\r\n} from './action-types';\r\n\r\n\r\n// CONFFIG\r\nfunction requestConfig(){\r\n\treturn {\r\n\t\ttype: CONFIG_REQUEST\r\n\t}\r\n}\r\n\r\nfunction receiveConfig(data){\r\n\treturn {\r\n\t\ttype: CONFIG_SUCCESS,\r\n\t\tdata: data\r\n\t}\r\n}\r\n\r\nfunction configError(message){\r\n\treturn {\r\n\t\ttype: CONFIG_FAILURE,\r\n\t\tmessage: message\r\n\t}\r\n}\r\n\r\nexport function fetchConfig(){\r\n\treturn dispatch => {\r\n\t\tdispatch(requestConfig());\r\n\r\n\t\treturn fetch('/config/config.json')\r\n\t\t.then(response => {\r\n\t\t\tif (response.status >= 400) {\r\n\t          throw new Error('Bad response');\r\n\t        }\r\n\t        return response.json();\r\n\t\t})\r\n\t\t.then(json => {\r\n\t\t\tdispatch(receiveConfig(json));\r\n\t\t})\r\n\t\t.catch(message => {\r\n\t\t\tdispatch(configError(message));\r\n\t\t})\r\n\t}\r\n}","'use strict';\n\nrequire('es6-promise').polyfill();\nimport fetch from 'isomorphic-fetch';\n\nimport { \n\tDOMAINS_REQUEST, \n\tDOMAINS_SUCCESS,\n\tDOMAINS_FAILURE,\n\tDOMAINS_RESET\n} from './action-types';\nimport { CALL_API } from '../middleware/api';\n\n\n// FORMATS\nfunction requestDomains(){\n\treturn {\n\t\ttype: DOMAINS_REQUEST\n\t}\n}\n\nfunction receiveDomains(data){\n\treturn {\n\t\ttype: DOMAINS_SUCCESS,\n\t\tdata: data\n\t}\n}\n\nfunction domainsError(message){\n\treturn {\n\t\ttype: DOMAINS_FAILURE,\n\t\tmessage: message\n\t}\n}\n\nexport function resetDomains(){\n\treturn {\n\t\ttype: DOMAINS_RESET\n\t}\n}\n\nexport function fetchDomains(isRequired){\n\tlet params = '';\n\n\tif (isRequired){\n\t\tparams = '?required=true';\n\t}\n\n\treturn {\n\t\t[CALL_API]: {\n\t\t  endpoint: 'domains'+params,\n\t\t  types: [DOMAINS_REQUEST, DOMAINS_SUCCESS, DOMAINS_FAILURE]\n\t\t}\n\t}\n}\n\nexport function fetchDomainsFromSubject(subId, isRequired){\n\n\tlet params = '?subject='+subId;\n\n\tif (isRequired){\n\t\tparams += '&required=true'\n\t}\n\n\treturn {\n\t\t[CALL_API]: {\n\t\t  endpoint: 'domains/from-subject'+params,\n\t\t  types: [DOMAINS_REQUEST, DOMAINS_SUCCESS, DOMAINS_FAILURE]\n\t\t}\n\t}\n}\n\nexport function fetchDomainsWithSubject(){\n\treturn {\n\t\t[CALL_API]: {\n\t\t  endpoint: 'domains/with-subjects',\n\t\t  types: [DOMAINS_REQUEST, DOMAINS_SUCCESS, DOMAINS_FAILURE]\n\t\t}\n\t}\n}","'use strict';\r\n\r\nrequire('es6-promise').polyfill();\r\nimport fetch from 'isomorphic-fetch';\r\n\r\n// Utils\r\nimport { toQueryString } from '../utils';\r\n\r\nimport { \r\n\tFILTERS_SET, \r\n\tFILTERS_GET,\r\n\tFILTERS_RESET,\r\n\tRESOURCES_REQUEST, \r\n\tRESOURCES_SUCCESS,\r\n\tRESOURCES_FAILURE\r\n} from './action-types';\r\nimport { CALL_API } from '../middleware/api';\r\n\r\n\r\n// FORMATS\r\nexport function getFilters(){\r\n\treturn {\r\n\t\ttype: FILTERS_GET\r\n\t}\r\n}\r\n\r\nexport function setFilters(filters){\r\n\treturn {\r\n\t\ttype: FILTERS_SET,\r\n\t\tfilters\r\n\t}\r\n}\r\n\r\nexport function resetFilters(){\r\n\treturn {\r\n\t\ttype: FILTERS_RESET\r\n\t}\r\n}\r\n\r\nexport function searchResourcesFilters(filters){\r\n\treturn {\r\n\t\t[CALL_API]: {\r\n\t\t  endpoint: 'resources/search?'+toQueryString(filters),\r\n\t\t  sendToken: true,\r\n\t\t  types: [RESOURCES_REQUEST, RESOURCES_SUCCESS, RESOURCES_FAILURE]\r\n\t\t}\r\n\t}\r\n}","'use strict';\n\nrequire('es6-promise').polyfill();\nimport fetch from 'isomorphic-fetch';\n\nimport { \n\tFORMATS_REQUEST, \n\tFORMATS_SUCCESS,\n\tFORMATS_FAILURE,\n\tFORMATS_RESET\n} from './action-types';\nimport { CALL_API } from '../middleware/api';\n\n\n// FORMATS\nfunction requestFormats(){\n\treturn {\n\t\ttype: FORMATS_REQUEST\n\t}\n}\n\nfunction receiveFormats(data){\n\treturn {\n\t\ttype: FORMATS_SUCCESS,\n\t\tdata: data\n\t}\n}\n\nfunction formatsError(message){\n\treturn {\n\t\ttype: FORMATS_FAILURE,\n\t\tmessage: message\n\t}\n}\n\nexport function resetFormats(){\n\treturn {\n\t\ttype: FORMATS_RESET\n\t}\n}\n\n\nexport function fetchFormats(isRequired){\n\t/*return dispatch => {\n\t\tdispatch(requestFormats());\n\n\t\treturn fetch('/assets/scripts/dummy.json')\n\t\t.then(response => {\n\t\t\tif (response.status >= 400) {\n\t          throw new Error('Bad response');\n\t        }\n\t        return response.json();\n\t\t})\n\t\t.then(json => {\n\t\t\tdispatch(receiveFormats(json.formats));\n\t\t})\n\t\t.catch(message => {\n\t\t\tdispatch(formatsError(message));\n\t\t})\n\t}*/\n\n\tlet params = '';\n\n\tif (isRequired){\n\t\tparams = '?required=true';\n\t}\n\n\treturn {\n\t\t[CALL_API]: {\n\t\t  endpoint: 'formats'+params,\n\t\t  types: [FORMATS_REQUEST, FORMATS_SUCCESS, FORMATS_FAILURE]\n\t\t}\n\t}\n}","'use strict';\n\nrequire('es6-promise').polyfill();\nimport fetch from 'isomorphic-fetch';\n\nimport { \n\tLANGUAGES_REQUEST, \n\tLANGUAGES_SUCCESS,\n\tLANGUAGES_FAILURE,\n\tLANGUAGES_RESET\n} from './action-types';\nimport { CALL_API } from '../middleware/api';\n\n\n// FORMATS\nfunction requestLanguages(){\n\treturn {\n\t\ttype: LANGUAGES_REQUEST\n\t}\n}\n\nfunction receiveLanguages(data){\n\treturn {\n\t\ttype: LANGUAGES_SUCCESS,\n\t\tdata: data\n\t}\n}\n\nfunction languagesError(message){\n\treturn {\n\t\ttype: LANGUAGES_FAILURE,\n\t\tmessage: message\n\t}\n}\n\nexport function resetLanguages(){\n\treturn {\n\t\ttype: LANGUAGES_RESET\n\t}\n}\n\n\nexport function fetchLanguages(isRequired){\n\tlet params = '';\n\n\tif (isRequired){\n\t\tparams = '?required=true';\n\t}\n\n\treturn {\n\t\t[CALL_API]: {\n\t\t  endpoint: 'languages'+params,\n\t\t  types: [LANGUAGES_REQUEST, LANGUAGES_SUCCESS, LANGUAGES_FAILURE]\n\t\t}\n\t}\n}","'use strict';\n\n// GENERIC\nexport const SUCCESS = \"success\";\nexport const ERROR = \"danger\";\nexport const WARNING = \"warning\";\n\n// USER\nexport const ALERT_LOGIN_SUCCESS = 'Bem vindo(a) à REDA!';\nexport const ALERT_LOGOUT_SUCCESS = 'Volte sempre!';\n\n// RESOURCES\nexport const ALERT_RESOURCE_CREATE_SUCCESS = 'O recurso foi adicionado';\nexport const ALERT_RESOURCE_EDIT_SUCCESS = 'O recurso foi alterado';\nexport const ALERT_RESOURCE_ADD_ERROR = 'Foram detetados erros ao submeter. Corrija os erros identificados';\n\n// SCRIPTS\nexport const ALERT_SCRIPT_CREATE_SUCCESS = 'O guião foi adicionado';\nexport const ALERT_SCRIPT_EDIT_SUCCESS = 'O guião foi alterado';\nexport const ALERT_SCRIPT_MANAGE_SUCCESS = 'Guiões criados/editados com sucesso';\nexport const ALERT_SCRIPT_MANAGE_ERROR = 'Foram detetados erros ao submeter. Corrija os erros identificados';","'use strict';\r\n\r\nrequire('es6-promise').polyfill();\r\nimport fetch from 'isomorphic-fetch';\r\n\r\n// Utils\r\nimport { toQueryString, complexToQueryString } from '../utils';\r\n\r\nimport { \r\n\tHIGHLIGHTS_REQUEST, \r\n\tHIGHLIGHTS_SUCCESS,\r\n\tHIGHLIGHTS_FAILURE,\r\n\tHIGHLIGHTS_RESET,\r\n\tTOGGLE_HIGHLIGHT_RESOURCE,\r\n\tRESOURCES_REQUEST, \r\n\tRESOURCES_SUCCESS,\r\n\tRESOURCES_FAILURE,\r\n\tRESOURCES_RESET,\r\n\tRESOURCE_REQUEST, \r\n\tRESOURCE_SUCCESS,\r\n\tRESOURCE_FAILURE,\r\n\tRESOURCE_RESET,\t\r\n\tTOGGLE_FAVORITE_RESOURCE,\r\n\tRELATED_RESOURCES_REQUEST, \r\n\tRELATED_RESOURCES_SUCCESS,\r\n\tRELATED_RESOURCES_FAILURE,\r\n\tRELATED_RESOURCES_RESET\r\n} from './action-types';\r\nimport { CALL_API } from '../middleware/api';\r\n\r\nimport * as alertMessages from './message-types';\r\nimport * as alertActions from './alerts';\r\n\r\n// HIGHLIGHTS\r\nfunction requestHighlights(){\r\n\treturn {\r\n\t\ttype: HIGHLIGHTS_REQUEST\r\n\t}\r\n}\r\n\r\nfunction receiveHighlights(data){\r\n\treturn {\r\n\t\ttype: HIGHLIGHTS_SUCCESS,\r\n\t\tdata: data\r\n\t}\r\n}\r\n\r\nfunction highlightsError(message){\r\n\treturn {\r\n\t\ttype: HIGHLIGHTS_FAILURE,\r\n\t\tmessage: message\r\n\t}\r\n}\r\n\r\nexport function resetHighlights(){\r\n\treturn {\r\n\t\ttype: HIGHLIGHTS_RESET\r\n\t}\r\n}\r\n\r\n\r\nexport function setHighlight(resourceId){\r\n\treturn {\r\n\t\ttype: TOGGLE_HIGHLIGHT_RESOURCE,\r\n\t\tid: resourceId\r\n\t}\r\n}\r\n\r\nexport function fetchHighlights(params){\r\n\treturn {\r\n\t\t[CALL_API]: {\r\n\t\t  endpoint: 'resources/highlight',\r\n\t\t  sendToken: true,\r\n\t\t  types: [HIGHLIGHTS_REQUEST, HIGHLIGHTS_SUCCESS, HIGHLIGHTS_FAILURE]\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// RESOURCES\r\nfunction requestResources(){\r\n\treturn {\r\n\t\ttype: RESOURCES_REQUEST\r\n\t}\r\n}\r\n\r\nfunction receiveResources(data){\r\n\treturn {\r\n\t\ttype: RESOURCES_SUCCESS,\r\n\t\tdata: data\r\n\t}\r\n}\r\n\r\nfunction resourcesError(message){\r\n\treturn {\r\n\t\ttype: RESOURCES_FAILURE,\r\n\t\tmessage: message\r\n\t}\r\n}\r\n\r\nexport function resetResources(){\r\n\treturn {\r\n\t\ttype: RESOURCES_RESET\r\n\t}\r\n}\r\n\r\nexport function fetchResources(type, params){\r\n\tconst endpoint = type ? 'resources/'+type : 'resources';\r\n\r\n\treturn {\r\n\t\t[CALL_API]: {\r\n\t\t  endpoint: endpoint,\r\n\t\t  sendToken: true,\r\n\t\t  method: 'GET',\r\n\t\t  types: [RESOURCES_REQUEST, RESOURCES_SUCCESS, RESOURCES_FAILURE]\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// search resources with specific params\r\nexport function searchResources(filters){\r\n\treturn {\r\n\t\t[CALL_API]: {\r\n\t\t  endpoint: 'resources/search?'+complexToQueryString(filters),\r\n\t\t  sendToken: true,\r\n\t\t  types: [RESOURCES_REQUEST, RESOURCES_SUCCESS, RESOURCES_FAILURE]\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// dashboard myResources\r\nexport function fetchMyResources(filters){\r\n\treturn {\r\n\t\t[CALL_API]: {\r\n\t\t  endpoint: 'resources/search?type=myresources&'+complexToQueryString(filters),\r\n\t\t  sendToken: true,\r\n\t\t  mustAuth: true,\r\n\t\t  types: [RESOURCES_REQUEST, RESOURCES_SUCCESS, RESOURCES_FAILURE]\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// delete collective\r\nexport function deleteResources(list){\r\n\treturn {\r\n\t\t[CALL_API]: {\r\n\t\t  endpoint: 'resources',\r\n\t\t  method: 'DELETE',\r\n\t\t  sendToken: true,\r\n\t\t  mustAuth: true,\r\n\t\t  data: { resources: list },\r\n\t\t  types: [RESOURCES_REQUEST, RESOURCES_SUCCESS, RESOURCES_FAILURE]\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// SINGLE RESOURCE\r\nfunction requestResource(){\r\n\treturn {\r\n\t\ttype: RESOURCE_REQUEST\r\n\t}\r\n}\r\n\r\nfunction receiveResource(data){\r\n\treturn {\r\n\t\ttype: RESOURCE_SUCCESS,\r\n\t\tdata: data\r\n\t}\r\n}\r\n\r\nfunction resourceError(message){\r\n\treturn {\r\n\t\ttype: RESOURCE_FAILURE,\r\n\t\tmessage: message\r\n\t}\r\n}\r\n\r\nexport function resetResource(){\r\n\treturn {\r\n\t\ttype: RESOURCE_RESET\r\n\t}\r\n}\r\n\r\nexport function setFavorite(resourceId){\r\n\treturn {\r\n\t\ttype: TOGGLE_FAVORITE_RESOURCE,\r\n\t\tid: resourceId\r\n\t}\r\n}\r\n\r\nexport function fetchResource(resourceSlug){\r\n\treturn {\r\n\t\t[CALL_API]: {\r\n\t\t  endpoint: 'resources/details/'+resourceSlug,\r\n\t\t  sendToken:true,\r\n\t\t  types: [RESOURCE_REQUEST, RESOURCE_SUCCESS, RESOURCE_FAILURE]\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function submitResource(data, resource){\r\n\tconst endPoint = resource ? 'resources/'+resource : 'resources';\r\n\tconst method = resource ? 'PUT' : 'POST';\r\n\r\n\treturn {\r\n\t\t[CALL_API]: {\r\n\t\t  endpoint: endPoint,\r\n\t\t  method: method || 'POST',\r\n\t\t  sendToken: true,\r\n\t\t  mustAuth: true,\r\n\t\t  data,\r\n\t\t  types: [RESOURCE_REQUEST, RESOURCE_SUCCESS, RESOURCE_FAILURE]\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function deleteResource(resourceSlug){\r\n\treturn {\r\n\t\t[CALL_API]: {\r\n\t\t  endpoint: 'resources/'+resourceSlug,\r\n\t\t  method: 'DELETE',\r\n\t\t  sendToken: true,\r\n\t\t  mustAuth: true,\r\n\t\t  types: [RESOURCE_REQUEST, RESOURCE_SUCCESS, RESOURCE_FAILURE]\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// RELATED RESOURCES\r\nfunction requestRelatedResources(){\r\n\treturn {\r\n\t\ttype: RELATED_RESOURCES_REQUEST\r\n\t}\r\n}\r\n\r\nfunction receiveRelatedResources(data){\r\n\treturn {\r\n\t\ttype: RELATED_RESOURCES_SUCCESS,\r\n\t\tdata: data\r\n\t}\r\n}\r\n\r\nfunction relatedResourcesError(message){\r\n\treturn {\r\n\t\ttype: RELATED_RESOURCES_FAILURE,\r\n\t\tmessage: message\r\n\t}\r\n}\r\n\r\nexport function resetRelatedResources(){\r\n\treturn {\r\n\t\ttype: RELATED_RESOURCES_RESET\r\n\t}\r\n}\r\n\r\nexport function fetchRelatedResources(resourceSlug){\r\n\treturn {\r\n\t\t[CALL_API]: {\r\n\t\t  endpoint: 'resources/related/'+resourceSlug,\r\n\t\t  types: [RELATED_RESOURCES_REQUEST, RELATED_RESOURCES_SUCCESS, RELATED_RESOURCES_FAILURE]\r\n\t\t}\r\n\t}\r\n}","'use strict';\r\n\r\nrequire('es6-promise').polyfill();\r\nimport fetch from 'isomorphic-fetch';\r\n\r\nimport { \r\n\tSCRIPTS_REQUEST, \r\n\tSCRIPTS_SUCCESS,\r\n\tSCRIPTS_FAILURE,\r\n\tSCRIPTS_RESET\r\n} from './action-types';\r\nimport { CALL_API } from '../middleware/api';\r\n\r\n\r\n// FORMATS\r\nfunction requestScripts(){\r\n\treturn {\r\n\t\ttype: SCRIPTS_REQUEST\r\n\t}\r\n}\r\n\r\nfunction receiveScripts(data){\r\n\treturn {\r\n\t\ttype: SCRIPTS_SUCCESS,\r\n\t\tdata: data\r\n\t}\r\n}\r\n\r\nfunction scriptsError(message){\r\n\treturn {\r\n\t\ttype: SCRIPTS_FAILURE,\r\n\t\tmessage: message\r\n\t}\r\n}\r\n\r\nexport function resetScripts(){\r\n\treturn {\r\n\t\ttype: SCRIPTS_RESET\r\n\t}\r\n}\r\n\r\nexport function fetchScripts(resourceId){\r\n\r\n\treturn {\r\n\t\t[CALL_API]: {\r\n\t\t  endpoint: 'scripts/'+resourceId,\r\n\t\t  sendToken: true,\r\n\t\t  mustAuth: true,\r\n\t\t  types: [SCRIPTS_REQUEST, SCRIPTS_SUCCESS, SCRIPTS_FAILURE]\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function fetchUserScripts(resourceId){\r\n\t\r\n\treturn {\r\n\t\t[CALL_API]: {\r\n\t\t  endpoint: 'scripts/user-scripts/'+resourceId,\r\n\t\t  sendToken: true,\r\n\t\t  mustAuth: true,\r\n\t\t  types: [SCRIPTS_REQUEST, SCRIPTS_SUCCESS, SCRIPTS_FAILURE]\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function deleteScript(scriptId){\r\n\treturn {\r\n\t\t[CALL_API]: {\r\n\t\t  endpoint: 'scripts/'+scriptId,\r\n\t\t  method: 'DELETE',\r\n\t\t  sendToken: true,\r\n\t\t  mustAuth: true,\r\n\t\t  types: [SCRIPTS_REQUEST, SCRIPTS_SUCCESS, SCRIPTS_FAILURE]\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function submitScripts(data, resourceId){\r\n\treturn {\r\n\t\t[CALL_API]: {\r\n\t\t  endpoint: 'scripts/'+resourceId,\r\n\t\t  method: 'POST',\r\n\t\t  sendToken: true,\r\n\t\t  mustAuth: true,\r\n\t\t  data,\r\n\t\t  types: [SCRIPTS_REQUEST, SCRIPTS_SUCCESS, SCRIPTS_FAILURE]\r\n\t\t}\r\n\t}\r\n}","'use strict';\n\nrequire('es6-promise').polyfill();\nimport fetch from 'isomorphic-fetch';\n\nimport { \n\tSUBJECTS_REQUEST, \n\tSUBJECTS_SUCCESS,\n\tSUBJECTS_FAILURE,\n\tSUBJECTS_RESET\n} from './action-types';\nimport { CALL_API } from '../middleware/api';\n\n\n// FORMATS\nfunction requestSubjects(){\n\treturn {\n\t\ttype: SUBJECTS_REQUEST\n\t}\n}\n\nfunction receiveSubjects(data){\n\treturn {\n\t\ttype: SUBJECTS_SUCCESS,\n\t\tdata: data\n\t}\n}\n\nfunction subjectsError(message){\n\treturn {\n\t\ttype: SUBJECTS_FAILURE,\n\t\tmessage: message\n\t}\n}\n\nexport function resetSubjects(){\n\treturn {\n\t\ttype: SUBJECTS_RESET\n\t}\n}\n\nexport function fetchSubjects(isRequired){\n\t/*return dispatch => {\n\t\tdispatch(requestSubjects());\n\n\t\treturn fetch('/assets/scripts/dummy.json')\n\t\t.then(response => {\n\t\t\tif (response.status >= 400) {\n\t          throw new Error('Bad response');\n\t        }\n\t        return response.json();\n\t\t})\n\t\t.then(json => {\n\t\t\tdispatch(receiveSubjects(json.subjects));\n\t\t})\n\t\t.catch(message => {\n\t\t\tdispatch(subjectsError(message));\n\t\t})\n\t}*/\n\n\tlet params = '';\n\n\tif (isRequired){\n\t\tparams = '?required=true';\n\t}\n\n\treturn {\n\t\t[CALL_API]: {\n\t\t  endpoint: 'subjects'+params,\n\t\t  types: [SUBJECTS_REQUEST, SUBJECTS_SUCCESS, SUBJECTS_FAILURE]\n\t\t}\n\t}\n}","'use strict';\n\nrequire('es6-promise').polyfill();\nimport fetch from 'isomorphic-fetch';\n\nimport { \n\tTERMSANDCONDITIONS_REQUEST, \n\tTERMSANDCONDITIONS_SUCCESS,\n\tTERMSANDCONDITIONS_FAILURE\n} from './action-types';\n\n\n// FORMATS\nfunction requestTerms(){\n\treturn {\n\t\ttype: TERMSANDCONDITIONS_REQUEST\n\t}\n}\n\nfunction receiveTerms(data){\n\treturn {\n\t\ttype: TERMSANDCONDITIONS_SUCCESS,\n\t\tdata: data\n\t}\n}\n\nfunction termsError(message){\n\treturn {\n\t\ttype: TERMSANDCONDITIONS_FAILURE,\n\t\tmessage: message\n\t}\n}\n\nexport function fetchTerms(){\n\treturn dispatch => {\n\t\tdispatch(requestTerms());\n\n\t\treturn fetch('/assets/scripts/dummy.json')\n\t\t.then(response => {\n\t\t\tif (response.status >= 400) {\n\t          throw new Error('Bad response');\n\t        }\n\t        return response.json();\n\t\t})\n\t\t.then(json => {\n\t\t\tdispatch(receiveTerms(json.terms));\n\t\t})\n\t\t.catch(message => {\n\t\t\tdispatch(termsError(message));\n\t\t})\n\t}\n}","require('es6-promise').polyfill();\nimport fetch from 'isomorphic-fetch';\n\nimport { \n\tUSER_REQUEST, \n\tUSER_SUCCESS,\n\tUSER_FAILURE\n} from './action-types';\n\n\n// CONFFIG\nfunction requestUser(){\n\treturn {\n\t\ttype: USER_REQUEST\n\t}\n}\n\nfunction receiveUser(data){\n\treturn {\n\t\ttype: USER_SUCCESS,\n\t\tdata: data\n\t}\n}\n\nfunction userError(message){\n\treturn {\n\t\ttype: USER_FAILURE,\n\t\tmessage: message\n\t}\n}\n\nexport function fetchUserData(userId){\n\n\t/*return dispatch => {\n\t\tdispatch(requestUser());\n\n\t\treturn fetch('/assets/scripts/dummy.json')\n\t\t.then(response => {\n\t\t\tif (response.status >= 400) {\n\t          throw new Error('Bad response');\n\t        }\n\n\n\t        return response.json();\n\t\t})\n\t\t.then(json => {\n\t\t\t\n\t\t\tvar filtered = json.users.filter((obj) => {\t\t\t\t\n\t\t\t\treturn obj.id == userId;\n\t\t\t});\n\t\t\t\n\t\t\tif (filtered.length==0){\n\t\t\t\tthrow new Error('No data');\n\t\t\t}\n\n\t\t\tdispatch(receiveUser(filtered[0]));\n\t\t})\n\t\t.catch(message => {\n\t\t\tdispatch(userError(message));\n\t\t})\n\t}*/\n}","'use strict';\n\nrequire('es6-promise').polyfill();\nimport fetch from 'isomorphic-fetch';\n\nimport { \n\tYEARS_REQUEST, \n\tYEARS_SUCCESS,\n\tYEARS_FAILURE,\n\tYEARS_RESET\n} from './action-types';\nimport { CALL_API } from '../middleware/api';\n\n\n// FORMATS\nfunction requestYears(){\n\treturn {\n\t\ttype: YEARS_REQUEST\n\t}\n}\n\nfunction receiveYears(data){\n\treturn {\n\t\ttype: YEARS_SUCCESS,\n\t\tdata: data\n\t}\n}\n\nfunction yearsError(message){\n\treturn {\n\t\ttype: YEARS_FAILURE,\n\t\tmessage: message\n\t}\n}\n\nexport function resetYears(){\n\treturn {\n\t\ttype: YEARS_RESET\n\t}\n}\n\n\nexport function fetchYears(isRequired){\n\n\tlet params = '';\n\n\tif (isRequired){\n\t\tparams = '?required=true';\n\t}\n\n\treturn {\n\t\t[CALL_API]: {\n\t\t  endpoint: 'years'+params,\n\t\t  types: [YEARS_REQUEST, YEARS_SUCCESS, YEARS_FAILURE]\n\t\t}\n\t}\n}","'use strict';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware } from 'redux';\nimport { Router, browserHistory } from 'react-router';\nimport thunkMiddleware  from 'redux-thunk';\nimport apiMiddleware  from './middleware/api';\nimport reducers from './reducers';\nimport routes from './routes';\n\n// Actions\nimport { receiveLogin } from './actions/auth';\n\n\nconst store = applyMiddleware(\n  thunkMiddleware,\n  apiMiddleware\n)(createStore)(reducers);\n\nlet token = localStorage.getItem('token');\nlet user = JSON.parse(localStorage.getItem('user'));\nif (token !== null && user !== null) {\n    store.dispatch(receiveLogin({token,user}));\n}\n\nReactDOM.render(\n  <Provider store={store}>\n    <Router history={browserHistory} routes={routes} />\n  </Provider>\n  , document.getElementById('site-canvas'));","'use strict';\n\nimport React, { Component, PropTypes } from 'react';\nimport LoginFormContainer from '@/containers/auth/loginForm';\n\nimport { Modal } from 'react-bootstrap';\nimport { Link } from 'react-router';\n\n\nexport default class LoginButton extends Component {\n  constructor(props){\n    super(props);\n\n    this.state = {showModal: false};\n\n    this.open = this.open.bind(this);\n    this.close = this.close.bind(this);\n\n  }\n\n  open(){\n    this.setState({showModal: true});\n  }\n\n  close(){\n    this.setState({showModal: false});\n  }\n\n\n  render() {\n    // Set target\n    let target = this.props.location || null;\n\n    return (\n      <div>\n        <button onClick={this.open} className={this.props.className}>{this.props.children}</button>\n        <Modal show={this.state.showModal} onHide={this.close} dialogClassName=\"login-dialog\">\n          <Modal.Header closeButton>\n            <section>\n              <i className=\"fa fa-user\"></i>\n            </section>\n            <Modal.Title>Entrar na REDA</Modal.Title>\n          </Modal.Header>\n          <Modal.Body >\n            <LoginFormContainer target={target}/>\n          </Modal.Body>\n          <Modal.Footer >\n            <small>Acesso disponível apenas para utilizadores <strong>azores.gov.pt</strong></small>\n          </Modal.Footer>\n        </Modal>\n      </div>\n    )\n  }\n}\n\nLoginButton.propTypes = {\n  className: PropTypes.string\n}","'use strict';\n\nimport React, { Component, PropTypes } from 'react';\n\nimport { Link } from 'react-router';\n\n\nexport default class LoginForm extends Component {\n  constructor(props){\n    super(props);\n\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n  onSubmit(props){\n    return new Promise((resolve, reject) => {\n      this.props.loginUser(props)\n      .then(() => {\n        const { errors } = this.props.auth;\n\n        if (!errors){\n          if (this.props.target){\n            this.context.router.push(this.props.target);\n          }else{\n            this.context.router.push('/painel');\n          }\n        }        \n\n      }).catch(error => {\n      });\n    })    \n  }\n\n\n  render() {\n    const { asyncValidating, fields: { email, password }, resetForm, handleSubmit, submitting } = this.props;\n    const { fetching, errors } = this.props.auth;\n\n    return (\n      <div className=\"login-form box-form\">\n        <form onSubmit={handleSubmit(this.onSubmit)}>\n          <div className={`form-group ${email.touched && (email.invalid || errors) ? 'has-error' : ''}`}>\n            <input type=\"text\" className=\"form-control\" placeholder=\"Email\" {...email}/>\n            {asyncValidating === 'email' && <i className='fa fa-spinner fa-spin'/>}\n            {email.touched && email.error && <div className=\"text-danger\">{email.error}</div>}\n          </div>\n          <div className={`form-group ${password.touched && (password.invalid || errors) ? 'has-error' : ''}`}>\n            <input type=\"password\" className=\"form-control\" placeholder=\"Palavra-chave\" {...password}/>\n            {password.touched && password.error && <div className=\"text-danger\">{password.error}</div>}\n          </div>\n          {(() => {\n            if (errors){\n              return (<div className=\"form-group text-danger\">{errors}</div>)\n            }\n          })()}         \n          <div>\n            <button type=\"submit\" disabled={ fetching || asyncValidating } className=\"cta primary\">\n              {fetching ? <i className='fa fa-spinner fa-spin'></i> : \"\"}Entrar\n            </button>\n            <Link to=\"/recuperar-password\" className=\"cta primary no-bg recover-password\">Esqueceu-se da sua palavra-chave?</Link>\n          </div>\n        </form>\n      </div>\n    )\n  }\n}\n\nLoginForm.propTypes = {\n  fields: PropTypes.object.isRequired,\n  resetForm: PropTypes.func.isRequired,\n  handleSubmit: PropTypes.func.isRequired,\n  submitting: PropTypes.bool.isRequired\n}\n\nLoginForm.contextTypes = {\n  router: PropTypes.object\n}","'use strict';\n\nimport React, { Component, PropTypes } from 'react';\nimport { connect } from 'react-redux';\nimport { logout } from '@/actions/auth';\n\n\nexport default class LogoutButton extends Component {\n  constructor(props){\n    super(props);\n    this.logout = this.logout.bind(this);\n  }\n\n  logout(){\n    this.props.logout();\n    this.context.router.push('/');\n  }\n\n  render() {\n    return (\n      <li>\n        <button onClick={this.logout} className=\"link-effect\">Sair</button>\n      </li>\n    )\n  }\n}\n\nLogoutButton.contextTypes = {\n  router: PropTypes.object\n}\n\nexport default connect(null, { logout })(LogoutButton);","'use strict';\n\nimport React, { Component, PropTypes } from 'react';\nimport { Link } from 'react-router';\n\nimport { Modal } from 'react-bootstrap';\n\nimport LoginFormContainer from '@/containers/auth/loginForm';\n\nexport default class ProtectedButton extends Component {\n  constructor(props){\n    super(props);\n\n    this.state = {showModal: false};\n\n    this.open = this.open.bind(this);\n    this.close = this.close.bind(this);\n\n  }\n\n  open(){\n    this.setState({showModal: true});\n  }\n\n  close(){\n    this.setState({showModal: false});\n  }\n\n\n  render() {\n    return (\n      <div className=\"protected-button\">\n        <button onClick={this.open} className={this.props.className}>{this.props.children}</button>\n        <Modal show={this.state.showModal} onHide={this.close} dialogClassName=\"login-dialog\">\n          <Modal.Header closeButton>\n            <section>\n              <i className=\"fa fa-lock\"></i>\n            </section>\n            <Modal.Title>Parece que ainda não se autenticou na plataforma...</Modal.Title>\n          </Modal.Header>\n          <Modal.Body >\n            <p>\n              Para que tenha acesso a todos os recursos disponíveis, terá de efetuar a sua autentificação.\n            </p>\n            <p>\n              Caso ainda não esteja registado, aproveite esta oportunidade para o fazer!\n            </p>\n            <LoginFormContainer target={this.props.target}/>\n          </Modal.Body>\n          <Modal.Footer>\n            <p>\n              Não é professor? Não deixe de explorar as sugestões que temos para todos.\n            </p>\n            <Link to=\"sugestoes\" className=\"cta primary outline small\">Sugestões</Link>\n            <Link to=\"aplicacoes\" className=\"cta primary outline small\">Aplicações</Link>\n            <Link to=\"noticias\" className=\"cta primary outline small\">Notícias</Link>            \n          </Modal.Footer>\n        </Modal>\n      </div>\n    )\n  }\n}\n\nProtectedButton.propTypes = {\n  className: PropTypes.string,\n  target: PropTypes.string.isRequired\n}","'use strict';\n\nimport React, { Component, PropTypes } from 'react'\n\n\nexport default class SignupForm extends Component {\n  constructor(props){\n    super(props);\n\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n  onSubmit(props){\n    return new Promise((resolve, reject) => {\n      this.props.signupUser(props)\n      .then(() => {\n\n        // Are there any errors?\n        if (this.props.auth.errors){\n          reject(this.props.auth.errors);\n        }\n\n        resolve();\n      \n        if (this.props.target){\n          this.context.router.push(this.props.target);\n        }else{\n          this.context.router.push('/painel');\n        }\n\n      }).catch(error => {\n        console.log(error);\n      });\n    })    \n  }\n\n\n  render() {\n    const { asyncValidating, fields: { email, password, organization, authKey }, resetForm, handleSubmit, submitting } = this.props;\n    const { fetching } = this.props.auth;\n\n    return (\n      <div className=\"signup-form box-form light-background\">\n        <form onSubmit={handleSubmit(this.onSubmit)} className=\"container\">\n          <div className=\"row\">\n            <div className=\"col-xs-12 col-sm-6 col-sm-offset-3 text-center\">\n              <h1>Efetue o seu registo</h1>\n              <p>\n                Para que tenha acesso a todos os recursos e funcionalidades disponíveis, efetue o seu registo na plataforma com a chave de segurança que lhe foi fornecida.\n              </p>\n            </div>\n          </div>\n\n          {/* EMAIL */}\n          <div className=\"row\">\n            <div className={`form-group col-xs-12 col-sm-4 col-sm-offset-4 ${email.touched && email.invalid ? 'has-error' : ''}`}>\n              <label className=\"input-title\">Email*</label>\n              <input type=\"text\" className=\"form-control\" id=\"email\" placeholder=\"Email\" {...email}/>\n              {asyncValidating === 'email' && <i className='fa fa-spinner fa-spin'/>}\n              {email.touched && email.error && <div className=\"text-danger\">{email.error}</div>}\n            </div>\n          </div>\n          \n          {/* PASSWORD */}\n          <div className=\"row\">\n            <div className={`form-group col-xs-12 col-sm-4 col-sm-offset-4 ${password.touched && password.invalid ? 'has-error' : ''}`}>\n              <label className=\"input-title\">Palavra-Chave*</label>\n              <input type=\"password\" className=\"form-control\" placeholder=\"Palavra-chave\" {...password}/>\n              {password.touched && password.error && <div className=\"text-danger\">{password.error}</div>}\n            </div>\n          </div>\n\n          {/* ORGANIZATION */}\n          <div className=\"row\">\n            <div className={`form-group col-xs-12 col-sm-4 col-sm-offset-4 ${organization.touched && organization.invalid ? 'has-error' : ''}`}>\n              <label className=\"input-title\">Escola/Organização*</label>\n              <input type=\"text\" className=\"form-control\" placeholder=\"Nome da escola/organização onde se encontra\" {...organization}/>\n              {organization.touched && organization.error && <div className=\"text-danger\">{organization.error}</div>}\n            </div>\n          </div>\n\n          {/* KEY */}\n          <div className=\"row\">\n            <div className={`form-group col-xs-12 col-sm-4 col-sm-offset-4 ${authKey.touched && authKey.invalid ? 'has-error' : ''}`}>\n              <label className=\"input-title\">Chave de Docente*</label>\n              <input type=\"text\" className=\"form-control\" placeholder=\"Insira a chave de docente que lhe foi fornecida\" {...authKey}/>\n              {authKey.touched && authKey.error && <div className=\"text-danger\">{authKey.error}</div>}\n            </div>\n          </div>\n          \n\n          \n          <div className=\"row\">\n            <div className=\"col-xs-12 col-sm-4 col-sm-offset-4\">\n              <button type=\"submit\" disabled={ fetching || asyncValidating } className=\"cta primary\">\n                {fetching || asyncValidating ? <i className='fa fa-spinner fa-spin'></i> : \"\"}Registar\n              </button>\n            </div>\n          </div>\n        </form>\n      </div>\n    )\n  }\n}\n\nSignupForm.propTypes = {\n  fields: PropTypes.object.isRequired,\n  resetForm: PropTypes.func.isRequired,\n  handleSubmit: PropTypes.func.isRequired,\n  submitting: PropTypes.bool.isRequired\n}\n\nSignupForm.contextTypes = {\n  router: PropTypes.object\n}","'use strict';\n\nimport React from 'react';\nimport { Component } from 'react';\nimport fetch from 'isomorphic-fetch';\nimport { Link } from 'react-router';\n\nimport LoginButton from '@/components/auth/loginButton';\nimport SvgComponent from '@/components/common/svg';\n\nexport default class ContributeBlock extends Component {\n\tconstructor(props){\n\t\tsuper(props);\n\n\t\tthis.state = {};\n\t}\n\n\tcomponentDidMount(){\n\t\treturn fetch('/assets/scripts/dummy.json')\n\t\t\t.then(response => {\n\t\t\t\tif (response.status >= 400) {\n\t\t          throw new Error('Bad response');\n\t\t        }\n\n\t\t        return response.json();\n\t\t        \n\t\t\t})\n\t\t\t.then(json => {\n\t\t\t\tif (!json.explore)\n\t\t        \tthrow new Error('No data');\n\n\t\t        this.setState(json.contribute);\n\t\t\t})\n\t\t\t.catch(message => {\n\t\t\t\tconsole.log(message);\n\t\t\t});\n\t}\n\n\trenderSections(){\n\t\treturn this.state.sections.map((section, index) => {\n\t\n\t\t\treturn(\n\t\t\t\t<div className={\"col-xs-12 col-sm-6 col-md-4 block__contribute--col\" + ((index==0) ? \" col-md-offset-2\" : null)} key={index}>\n\t\t\t\t\t<h2>{section.title}</h2>\n\t\t\t\t\t<SvgComponent element={section.icon} color=\"#ffffff\"/>\n\t\t\t\t\t<p>{section.text}</p>\n\t\t\t\t\t{(() => {\n\t\t\t\t\t\tif (section.button.type==\"login\"){\n\t\t\t\t\t\t\treturn !this.props.auth.isAuthenticated ?\n\t\t\t\t\t\t\t\t<LoginButton className=\"cta white outline\">\n\t\t\t\t\t\t\t\t\t{section.button.text}\n\t\t\t\t\t\t\t\t</LoginButton>\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t: \n\t\t\t\t\t\t\t<Link to=\"/painel\" className=\"cta white outline\">\n\t\t\t\t\t\t\t\t{section.button.text}\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t}else if(section.button.type==\"feedback\"){\n\t\t\t\t\t\t\treturn<button className=\"cta white outline\">{section.button.text}</button>\n\t\t\t\t\t\t}\n\t\t\t\t\t})()}\n\t\t\t\t\t\n\t\t\t\t</div>\n\t\t\t);\n\t\t});\n\t}\n\n\trender() {\n\t\tif (Object.keys(this.state).length<=0){\n\t\t\treturn null\n\t\t}\n\n\t\treturn (\n\t\t\t<div className=\"block__contribute\">\n\t\t\t\t<div className=\"container\">\n\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t<h1>{this.state.title}</h1>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t{this.renderSections()}\n\t\t\t\t\t</div>\t\t\t\t\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}","'use strict';\n\nimport React from 'react';\nimport { Component } from 'react';\nimport fetch from 'isomorphic-fetch';\nimport { Link } from 'react-router';\n\nexport default class ExploreBlock extends Component {\n\tconstructor(props){\n\t\tsuper(props);\n\n\t\tthis.state = {};\n\t}\n\n\tcomponentDidMount(){\n\t\treturn fetch('/assets/scripts/dummy.json')\n\t\t\t.then(response => {\n\t\t\t\tif (response.status >= 400) {\n\t\t          throw new Error('Bad response');\n\t\t        }\n\n\t\t        return response.json();\n\t\t        \n\t\t\t})\n\t\t\t.then(json => {\n\t\t\t\tif (!json.explore)\n\t\t        \tthrow new Error('No data');\n\n\t\t        this.setState(json.explore);\n\t\t\t})\n\t\t\t.catch(message => {\n\t\t\t\tconsole.log(message);\n\t\t\t});\n\t}\n\n\trender() {\n\t\tif (Object.keys(this.state).length<=0){\n\t\t\treturn null\n\t\t}\n\n\t\treturn (\n\t\t\t<div className=\"block__explore\">\n\t\t\t\t<div className=\"block__side block__side--left\">\n\t\t\t\t\t<div className=\"bg-container\" style={{\"backgroundImage\": `url(${this.state.image.src})`}}>&nbsp;</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"block__side block__side--right block__side--text\">\n\t\t\t\t\t<h1>{this.state.title}</h1>\n\t\t\t\t\t<span dangerouslySetInnerHTML={{__html: this.state.text}}></span>\n\t\t\t\t\t<Link to=\"experimenta\" className=\"cta primary outline\">{this.state.button}</Link>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t</div>\n\t\t);\n\t}\n}","'use strict';\n\nimport React from 'react';\nimport { Component } from 'react';\n\n\nexport default class AlertsBox extends Component {\n\tconstructor(props) {\n\t    super(props);\n\n\t    this.setTimer = this.setTimer.bind(this);\n\t    this.dismissAlert = this.dismissAlert.bind(this);\n\n\t    this.state = {\n\t    \tvisible: false\n\t    }\n\t}\n\n\tcomponentDidMount(){\n\t\tthis.setTimer();\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\tconst { message, resultType } = this.props.alerts;\n\n\t    if (nextProps.alerts.message!=message && nextProps.alerts.resultType!=resultType){\t    \t\n\t    \tthis.setTimer();\n\t    \tthis.setState({visible: true});\n\t    }\n\t}\n\n\tdismissAlert(){\n\t\tthis.setState({visible: false});\n\t\tthis.props.removeAlert();\n\t\tclearTimeout(this._timer);\n\t}\n\n\t// Set timer to hide alert box\n\tsetTimer() {\n\n\t    // clear any existing timer\n\t    this._timer != null ? clearTimeout(this._timer) : null;\n\n\t    // hide after `delay` milliseconds\n\t    this._timer = setTimeout(function(){\n\t      this.setState({visible: false});\n\t      this._timer = null;\n\t      this.props.removeAlert();\n\t    }.bind(this), this.props.delay);\n\t  }\n\n\trender(){\n\t\tconst { message, resultType } = this.props.alerts;\n\t\tconst { visible } = this.state;\n\n\t\treturn(\n\t\t\t<div className={\"alert-fixed alert\" + (resultType ? \" alert-\"+resultType : \"\") + (!message || !visible ? \" hide\" : \"\") + (message && visible ? \" animate-show\" : \"\")}>\n\t\t\t\t<button type=\"button\" className=\"close\" data-dismiss=\"alert\" aria-label=\"Close\" onClick={this.dismissAlert}><span aria-hidden=\"true\">&times;</span></button>\n\t\t\t\t{message}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nAlertsBox.propTypes = {\n\talerts: React.PropTypes.object.isRequired\n}\n\nAlertsBox.defaultProps = {\n\tdelay: 5000\n}","'use strict';\n\nimport React from 'react';\nimport Breadcrumbs from 'react-breadcrumbs';\n\nexport const AppBreadcrumbs = (props) => {\n\treturn (\n\t\t<div className=\"breadcrumbs-container\">\n\t\t\t<div className=\"container\">\n\t\t\t\t<div className=\"row\">\n\t\t\t\t\t<div className=\"col-xs-12\">\n\t\t\t\t\t\t<Breadcrumbs {...props} customClass={\"breadcrumbs\" + (props.customClass ? \" \"+props.customClass : \"\")} separator=\" > \"/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\t\n}\n\nAppBreadcrumbs.propTypes = {\n\tcustomClass: React.PropTypes.string\n}","'use strict';\n\nimport React from 'react';\nimport { Component } from 'react';\nimport { Collapse } from 'react-bootstrap';\n\n\nexport default class Collapsible extends Component {\n\tconstructor(props) {\n\t    super(props);\n\n\t    this.state = {open: false};\n\t}\n\n\tcomponentDidMount(){\n\t\tthis.setState({\n\t\t\topen: this.props.isOpen || false\n\t\t})\n\t}\n\n\trender(){\n\n\t\tconst deleteTitle = this.props.deleteTitle || \"Remover\";\n\n\t\treturn(\n\t\t\t<div className=\"collapse-container\">\n\t\t\t\t<div className={\"buttons \" + this.props.className + (this.state.open ? \" open\" : \" outline\")}>\n\t\t\t\t\t{(() => {\n\t\t\t\t\t\tif (this.props.deleteEl){\n\t\t\t\t\t\t\treturn <i className={this.props.deleteIcon || null} onClick={() => this.props.deleteEl()} title={deleteTitle}></i>\n\t\t\t\t\t\t}\n\t\t\t\t\t})()}\n\t\t\t\t\t<button onClick={ ()=> this.setState({ open: !this.state.open })}>\n\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t{this.props.title}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<i className={(this.state.open) ? this.props.iconOpen : this.props.iconClosed}></i>\n\t\t\t        </button>\n\t\t        </div>\n\t\t\t\t<Collapse in={this.state.open}>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t{this.props.children}\n\t\t\t\t\t</div>\n\t\t\t\t</Collapse>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nCollapsible.propTypes = {\n\ttitle: React.PropTypes.string.isRequired,\n\tclassName: React.PropTypes.string,\n\ticonOpen: React.PropTypes.string.isRequired,\n\ticonClosed: React.PropTypes.string.isRequired,\n\tdeleteEl: React.PropTypes.func,\n\tdeleteIcon: React.PropTypes.string,\n\tisOpen: React.PropTypes.bool\n}","'use strict';\n\nimport React, { Component } from 'react';\n\n\nexport default class FileInput extends Component{\n    constructor(props){\n        super(props);\n        this.uploadFile = this.uploadFile.bind(this);\n    }\n\n    uploadFile(e) {\n        let reader = new FileReader()\n        let thisFile = e.target.files[0] || null;\n        let hasError = false;\n\n        let name = null;\n        let extension = null;\n        let data = null;\n        let size = thisFile.size;\n\n        /*if (thisFile.size>2000000) {\n            hasError = true;\n        }*/\n\n        //check if file is image\n        if (!hasError) {\n            //read file\n            reader.readAsDataURL(e.target.files[0]);\n\n            //set loading\n\n        } else {\n            //clear all fields\n        }\n\n        // File loaded\n        if (thisFile){\n            reader.onload = (e) => {\n                // Set file name\n                name = thisFile.name.substr(0, thisFile.name.lastIndexOf('.')) || thisFile.name;\n\n                // Set file extension\n                extension = thisFile.name.substr(thisFile.name.lastIndexOf('.') + 1);\n\n                // Save file data\n                data = e.target.result; \n\n                // Convert blob to base64\n                data = data.split(',')[1];\n\n                // Return file metadata\n                this.props.setFile({name, extension, data, size});\n            }\n        }\n    }\n\n    render(){\n        return (\n            <span className=\"cta primary btn-file\">\n                <input type=\"file\" onChange={this.uploadFile}/> Escolher Ficheiro\n            </span>\n        )\n    }    \n}","'use strict';\n\nimport React from 'react';\n\nconst renderList = (list, name,onclickCallback, checkedEl, isSingleCol) => {\n\tlet colClass = isSingleCol ? \"col-xs-12\" : \"col-xs-6 col-sm-4\"\n\treturn list.map((item, index) => {\n\t\treturn(<div className={colClass} key={item.id}>\n\t\t\t<div className=\"radio\">\n\t\t\t\t<input id={name + \"_\" + item.id} type=\"radio\" name={name} value=\"{item.title}\" onChange={() => onclickCallback(item)} checked={item.id==checkedEl.id}/>\n\t    \t\t<label htmlFor={name + \"_\" + item.id} >{item.title}</label>\n    \t\t</div>\n\t\t</div>)\n\t});\n}\n\nexport default (props) => {\n\treturn(\n\t\t<div className=\"row\">\n\t\t\t{renderList(props.list,props.name, props.setRadio, props.checked, props.singleCol)}\n\t\t</div>\n\t);\n}","'use strict';\n\nimport React from 'react';\nimport Rating from 'react-rating';\n\nexport default (props) => {\n\treturn (\n\t\t<Rating {...props} onClick={props.setRating} empty=\"fa fa-star-o\" full=\"fa fa-star\"/>\n\t);\n}","'user strict';\n\n\nimport React from 'react';\nimport { Component } from 'react';\n\nexport default class SvgComponent extends Component {\n\tconstructor(props){\n\t\tsuper(props);\n\t}\n\n\tcomponentDidMount(){\t\t\n\t\tif (this.props.color){\n\t\t\tlet elColor = this.props.color;\n\t\t\tthis.refs.svgElement.addEventListener(\"load\", function(){\n\t\t\t\tvar doc = this.getSVGDocument();\n\t\t\t    var els = doc.querySelectorAll(\"path\");\t\t\n\t\t\t    for (var i=0; i < els.length; i++) {\n\t\t\t\t    els[i].setAttribute(\"class\", \"\");\n\t\t\t    \tels[i].setAttribute(\"fill\", elColor);\n\t\t\t\t} \n\t\t\t});\t\t\n\t\t}\t\t\n\t}\n\n\trender() {\n\t\tif (!this.props.element){\n\t\t\treturn null;\n\t\t}\n\n\t\treturn (\n\t\t\t<object ref=\"svgElement\" className=\"svg-element\" data={this.props.element} type=\"image/svg+xml\"></object>\n\t\t);\n\t}\n}\n\nSvgComponent.propTypes = {\n\tcolor: React.PropTypes.string,\n\telement: React.PropTypes.string.isRequired\n}","'user strict';\n\nimport React, { Component } from 'react';\nimport Tags from 'react-tagsinput'\n\nconst TagsInput = (props) => {\n\n    let inputProps={\n        className: 'react-tagsinput-input',\n        placeholder: props.placeholder\n    }\n\n    return (\n        <div className={props.className}>\n            <Tags \n                value={props.tags} \n                onChange={props.setTags} \n                addKeys={[188,9,13,32]} \n                inputProps={inputProps}\n                addOnBlur={true}\n                addOnPast={true}/>\n        </div>\n    )    \n}\n\nTagsInput.propTypes = {\n    className: React.PropTypes.string,\n    tags: React.PropTypes.array.isRequired,\n    setTags: React.PropTypes.func.isRequired\n}\n\nexport default TagsInput","'user strict';\r\n\r\nimport React, { Component } from 'react';\r\n\r\nexport default (props) => {\r\n\tconst { field, max, min } = props;\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<textarea {...props} {...field}></textarea>\r\n\t\t\t<div className=\"row\">\r\n                <div className=\"col-xs-6\">\r\n                {(() => {\r\n                \tif (max){\r\n                \t\treturn <span>{field.value.length + \"/\" + max}</span>\r\n                \t}\r\n                })()}\r\n                </div>\r\n                <div className=\"col-xs-6 text-right\">\r\n                  <small>Deve ter no mínimo {min} caracteres e no máximo {max}</small>\r\n                </div>\r\n          \t</div>\r\n        </div>\r\n    )\r\n\r\n}","import React, { PropTypes } from 'react';\nimport { Component } from 'react';\nimport { Link } from 'react-router';\nimport MyResourcesContainer from '@/containers/dashboard/myResources';\nimport DashboardMenuContainer from '@/containers/dashboard/menu';\n\nimport { Pagination, Alert, Button } from 'react-bootstrap';\n\nexport default class DashboardContent extends Component {\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.onChangePage = this.onChangePage.bind(this);\n\n\t\tthis.state = {\n\t\t\tactivePage: 1\n\t\t}\n\t}\n\n\tcomponentDidMount(){\n\t\tthis.onChangePage(1);\t\t\n\t}\n\n\t// Handle pagination\n\tonChangePage(event, selectedEvent) {\n\t\tif (selectedEvent){\n\t\t\tthis.setState({\n\t\t\t\tactivePage: selectedEvent.eventKey\n\t\t\t});\n\t\t}\t\t\n    }\n\n    // Handle list ordering\n    onListOrder(order){\n    \tconsole.log(order);\n    }\n\n    // Search resources by keyword\n    onSearchSubmit(keyword){\n    \tconsole.log(keyword);\n    }\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"light__page\">\n\t\t\t\t<div className=\"container\">\n\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t<div className=\"col-xs-12 col-md-3\">\n\t\t\t\t\t\t\t<DashboardMenuContainer location={this.props.location}/>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"col-xs-12 col-md-9\">\n\t\t\t\t\t\t\t{/* Resources List */}\n\t\t\t\t\t\t\t<MyResourcesContainer />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nDashboardContent.propTypes = {\n\t//resources: PropTypes.object.isRequired\n}","import React from 'react';\nimport { Component, PropTypes } from 'react';\nimport { Link } from 'react-router';\n\n// Utils\nimport { getAvg } from '../../../../utils';\n\n// Boostrap\nimport { Tooltip, OverlayTrigger } from 'react-bootstrap';\n\n// Components\nimport Rating from '@/components/common/rating';\nimport SvgComponent from '@/components/common/svg';\nimport ProtectedButton from '@/components/auth/protectedButton';\nimport DeleteResource from '@/containers/resources/deleteResource';\nimport IsAdmin from '@/containers/auth/isAdmin';\nimport { truncate } from '@/utils';\n\nvar renderList = (list, props) => {\t\n\treturn list.map((el, index) => {\n\t\t// Type tooltip\n\t\tconst tooltip = (\n\t\t\t<Tooltip id={\"resource_\" + el.id}>{el.Format.title}</Tooltip>\n\t\t);\n\t\t\n\t\treturn (\n\t\t\t<article className=\"col-xs-12\" key={el.id}>\n\t\t\t\t<div className=\"list__element list__dashboard\">\n\t\t\t\t\t<div className=\"check-element\">\n\t\t\t\t\t\t<input type=\"checkbox\" name={\"selected-resource\"+el.id} id={\"selected-resource\"+el.id} checked={props.checkedList.indexOf(el.id)>=0}/>\n\t\t\t\t\t\t<label htmlFor={\"selected-resource\"+el.id} onClick={() => props.checkEl(el.id)}></label>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"list__dashboard--container\">\n\t\t\t\t\t\t<header className=\"list__dashboard--heading\">\n\t\t\t\t\t\t\t<Link to={\"/descobrir/detalhes-recurso/\" + el.slug} className=\"left-col fLeft\">\n\t\t\t\t\t\t\t\t<h1 title={el.title}>{truncate(el.title, 10)}</h1>\n\t\t\t\t\t      \t\t<p>{truncate(el.description, 40)}</p>\t\t\t\t\t\t      \t\t\t\t      \t\t\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<div className=\"top-icons fRight\">\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<div className=\"type\">\n\t\t\t\t\t\t\t\t\t<OverlayTrigger placement=\"left\" overlay={tooltip}>\n\t\t\t\t\t      \t\t\t\t<span>\n\t\t\t\t\t      \t\t\t\t\t<SvgComponent element={props.config.formatIcons+\"/\"+el.Format.Image.name+\".\"+el.Format.Image.extension} color=\"#6a696a\"/>\n\t\t\t\t      \t\t\t\t\t</span>\n\t\t\t\t      \t\t\t\t</OverlayTrigger>\n\t\t\t\t\t\t\t\t</div>\t\t      \t\t\t\t\n\t\t\t\t      \t\t</div>\n\n\t\t\t\t      \t\t{/*BUTTONS*/}\n\t\t\t\t\t\t\t<div className=\"actions\">\n\t\t\t\t\t\t\t\t<Link to={\"/editarrecurso/\" + el.slug} className=\"cta secundary no-bg\">Editar</Link>\n\t\t\t\t      \t\t\t<DeleteResource className=\"cta primary no-bg small\" cb={props.deleteCb} item={el.slug}>Eliminar</DeleteResource>\n\t\t\t\t\t\t\t</div>\n\t\t\t      \t\t</header>\n\n\n\t\t\t\t\t\t\n\t\t\t\t\t\t<footer className=\"list__dashboard--footer\">\n\t\t\t      \t\t\t<div className=\"rating fLeft\">\n\t\t\t      \t\t\t\t<Rating readonly initialRate={el.ratingAvg}/>\n\t\t\t      \t\t\t</div>\t      \t\t\t\n\t\t\t      \t\t\t<div className=\"fRight right-col\">\n\t\t\t\t\t\t\t\t<Link to={\"/descobrir/detalhes-recurso/\" + el.slug } className=\"cta primary outline small\">Ver Recurso</Link>\n\t\t\t\t\t\t\t\t<Link to={\"/gerirguioes/\" + el.slug } className=\"cta primary outline small\">Gerir Guiões</Link>\n\t\t\t\t\t\t\t\t<i className={\"action-btn fa fa-\" + ((el.isFavorite) ? \"heart\" : \"heart-o\")} title=\"Favorito\" onClick={()=> props.setFavorite(el.id)}></i>\n\t\t\t      \t\t\t\t<IsAdmin>\n\t\t\t      \t\t\t\t\t<i className={\"action-btn fa fa-\" + (el.highlight ? \"star\" : \"star-o\")} onClick={()=> props.setHighlight(el.id)} title=\"Recurso do Mês\"></i>\n\t\t\t      \t\t\t\t</IsAdmin>\n\t\t\t      \t\t\t</div>\n\t\t\t      \t\t</footer>\n\t\t      \t\t</div>\n\t\t\t\t</div>\n\t\t\t</article>\n\t\t);\n    });\n}\n\nexport const ResourcesList = (props) => {\t\n\tif (!props.list || !props.list.data || props.list.fetching || props.list.data.length==0){\n\t\treturn <div></div>\n\t}\n\n\treturn(\n\t\t<section className=\"row\">\n\t\t\t{renderList(props.list.data, props)}\n\t\t</section>\n\t);\n}\n\nResourcesList.propTypes = {\n\tlist: PropTypes.object.isRequired\n}","import React, { PropTypes } from 'react';\nimport { Component } from 'react';\nimport { Link } from 'react-router';\n\n// Components\nimport { ResourcesList } from './common/list';\nimport ResourcesOrdering from '@/components/resources/common/order';\nimport SearchBar from '@/components/search/searchBar';\nimport ResourcesFilters from '@/containers/search';\nimport DeleteCollectiveResources from '@/containers/resources/deleteCollective';\n\n// Bootstrap\nimport { Pagination, Alert, Button } from 'react-bootstrap';\n\nexport default class MyResources extends Component {\n\tconstructor(props){\n\t\tsuper(props);\n\t\t\n\t\t//\n\t\t//\tEvent handlers\n\t\t//\n\t\tthis.onChangePage = this.onChangePage.bind(this);\n\t\tthis.onChangeTags = this.onChangeTags.bind(this);\n\t\tthis.onListOrder = this.onListOrder.bind(this);\n\t\tthis.onSearchSubmit = this.onSearchSubmit.bind(this);\n\t\tthis.setHighlight = this.setHighlight.bind(this);\n\t\tthis.setFavorite = this.setFavorite.bind(this);\n\t\tthis.filterList = this.filterList.bind(this);\t\t\n\n\t\t//\n\t\t// Resources actions\n\t\t// \n\t\tthis.checkAllResources = this.checkAllResources.bind(this);\n\t\tthis.checkEl = this.checkEl.bind(this);\n\t\tthis.deleteCb = this.deleteCb.bind(this);\n\n\t\t//\n\t\t//\tHelpers\n\t\t//\n\t\tthis.requestMyResources = this.requestMyResources.bind(this);\n\n\t\t//\n\t\t//\tSet state\n\t\t//\n\t\tthis.state = {\n\t\t\tactivePage: 1,\n\t\t\ttags: [],\n\t\t\torder: \"recent\",\n\t\t\tcheckedResources: [],\n\t\t\tcheckAll: false\n\t\t}\n\t}\n\n\tcomponentDidMount(){\n\t\tthis.props.fetchMyResources()\n\t\t.then(() => {\n\t\t\tthis.setState({activePage: this.props.resources.curPage || 1 });\n\t\t});\n\t\tthis.props.fetchConfig();\n\n\t\tthis.onChangePage(1);\t\t\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\tconst { activePage, tags, order } = this.state;\n\n\t\t// Request new resources if there is any change AND tags didn't change.\n\t\t// This avoids request new resources each time adding a new tag in the input. It is required to press the button\n\t \tif ((prevState.activePage !== activePage ||\n\t\t \tprevState.order !== order)\n\t\t \t&& prevState.tags==tags){\n\t \t\tthis.requestMyResources();\n\t \t}\n\t}\n\n\tcomponentWillUnmount() {\n\t      this.props.resetFilters();\n\t      this.props.resetResources();\n\t}\n\n\t//\tRequest new resources\n\trequestMyResources(){\n\t\tconst { activePage, tags, order } = this.state;\n\n    \tthis.props.fetchMyResources({activePage, tags, order});\n\t}\n\n\t// Handle pagination\n\tonChangePage(event, selectedEvent) {\n\t\tif (selectedEvent){\n\t\t\tthis.setState({\n\t\t\t\tactivePage: selectedEvent.eventKey\n\t\t\t});\n\t\t}\t\t\n    }\n\n    // Handle list ordering\n    onListOrder(order){\n    \tthis.setState({\n\t\t\torder,\n\t\t\tactivePage: 1\n\t\t});\n    }\n\n    // Search resources by keyword\n    onSearchSubmit(){\n    \tthis.requestMyResources();\n    }\n\n    // Handle tags change to search by tag\n    onChangeTags(tags){\n    \tthis.setState({\n\t\t\ttags,\n\t\t\tactivePage: 1\n\t\t});\n    }\n\n    // Set as highlighted\n    setHighlight(resourceId){\n    \tthis.props.setHighlight(resourceId);\n    }\n\n    // Set as favorite\n    setFavorite(resourceId){\n    \tthis.props.setFavorite(resourceId);\n    }\n\n    //\tAfter delete\n\tdeleteCb(){\n\t\tthis.setState({\n\t\t\tcheckedResources: [],\n\t\t\tcheckAll: false\n\t\t})\n\t\tthis.requestMyResources();\n\t}\n\n    // Check elements\n    checkAllResources(){\n    \tif (!this.state.checkAll){\n    \t\tlet totalIds = [];\n    \t\tfor (let item of this.props.resources.data){\n\t    \t\ttotalIds.push(item.id);\n\t    \t} \n\t    \t\n\t    \tthis.setState({\n\t    \t\tcheckedResources: totalIds,\n\t    \t\tcheckAll: !this.state.checkAll\n\t    \t});\n\n    \t}else{\n    \t\tthis.setState({\n    \t\t\tcheckedResources: [],\n\t    \t\tcheckAll: !this.state.checkAll\n\t    \t});\n    \t}\n    }\n\n    // Add or remove element from checked array\n    checkEl(id){\n    \tlet {checkedResources} = this.state;\n    \tlet index = checkedResources.indexOf(id);\n    \tlet allChecked = false;\n\n    \t// If exists, remove item and set as \n    \tif (index>=0){\n    \t\tcheckedResources.splice(index,1);\n\n    \t}else{\n    \t\tcheckedResources.push(id);\n    \t\tallChecked = this.state.checkAll;\n    \t}\n\n    \tthis.setState({\n    \t\tcheckedResources: checkedResources,\n    \t\tcheckAll: allChecked\n    \t})\n    }\n\n    // Apply Filters\n    filterList(){\n    \tconsole.log(\"Filter\");\n    }\n\n\trender() {\n\t\tconst { resources } = this.props;\n\n\t\tif (!resources.data)\n\t\t\treturn null;\n\t\t\n\t\tconst { isAuthenticated } = this.props.auth;\n\n\t\treturn (\n\t\t\t<div className=\"resources__page\">\n\t\t\t\t<div className=\"row\">\n\t\t\t\t\t<div className=\"col-xs-12\">\n\t\t\t\t\t\t<h2 className=\"pannel-title\">Os meus recursos</h2>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"row\">\n\t\t\t\t{this.props.resources && this.props.resources.data && this.props.resources.data.length > 0 ?\n\t\t\t\t\t<div className=\"col-xs-12\">\t\t\n\t\t\t\t\t\t<section className=\"row\">\n\t\t\t\t\t\t\t<div className=\"col-xs-12 filter-container\">\n\t\t\t\t\t\t\t\t{/* Filter List */}\n\t\t\t\t\t\t\t\t<ResourcesFilters searchTags={false} buttonText=\"Filtrar\" iconClass=\"fa fa-filter\" onSubmit={this.filterList}/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</section>\t\t\t\t\n\t\t\t\t\t\t<section className=\"row\">\n\t\t\t\t\t\t\t<div className=\"col-xs-12 text-center\">\n\t\t\t\t\t\t\t\t{/* Search bar */}\n\t\t\t\t\t\t\t\t<SearchBar onSubmit={this.onSearchSubmit} onChangeTags={this.onChangeTags} tags={this.state.tags} className=\"resources-search\" />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</section>\n\t\t\t\t\t\t<section className=\"row resources-actions\">\n\t\t\t\t\t\t\t<div className=\"col-xs-6\">\n\t\t\t\t\t\t\t\t<input type=\"checkbox\" name=\"selected-resources\" id=\"selected-resources\" checked={this.state.checkAll}/>\n\t\t\t\t\t\t\t\t<label htmlFor=\"selected-resources\" onClick={this.checkAllResources}></label>\n\t\t\t\t\t\t\t\t<DeleteCollectiveResources className=\"btn btn-danger\" cb={this.deleteCb} items={this.state.checkedResources}><i className=\"fa fa-trash\"></i></DeleteCollectiveResources>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<div className=\"col-xs-6\">\n\t\t\t\t\t\t\t\t{/* Ordering Options */}\n\t\t\t\t\t\t\t\t<ResourcesOrdering onChange={this.onListOrder} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</section>\n\n\n\t\t\t\t\t\t{/* Resources List */}\n\t\t\t\t\t\t<ResourcesList \n\t\t\t\t\t\t\tconfig={this.props.config.data}\n\t\t\t\t\t\t\tlist={this.props.resources} \n\t\t\t\t\t\t\tuser={this.props.auth.data} \n\t\t\t\t\t\t\tsetHighlight={this.setHighlight} \n\t\t\t\t\t\t\tsetFavorite={this.setFavorite}\n\t\t\t\t\t\t\tcheckedList={this.state.checkedResources} \n\t\t\t\t\t\t\tcheckEl={this.checkEl} \n\t\t\t\t\t\t\tallChecked={this.state.checkAll}\n\t\t\t\t\t\t\tdeleteCb={this.deleteCb}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t{/* Pagination */}\n\t\t\t\t\t\t<Pagination\n\t\t\t\t\t        prev\n\t\t\t\t\t        next\n\t\t\t\t\t        first\n\t\t\t\t\t        last\n\t\t\t\t\t        ellipsis\n\t\t\t\t\t        boundaryLinks\n\t\t\t\t\t        items={resources.totalPages}\n\t\t\t\t\t        maxButtons={5}\n\t\t\t\t\t        activePage={this.state.activePage}\n\t\t\t\t\t        onSelect={this.onChangePage} />\n\t\t\t\t\t</div>\n\t\t\t\t\t:\n\t\t\t\t\t<div className=\"col-xs-12 text-center\">\n\t\t\t\t\t\t<p>Parece que ainda não adicionou recursos na REDA.</p>\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t\t</div>\t\t\t\t\t\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nMyResources.propTypes = {\n\tresources: PropTypes.object.isRequired,\n\tauth: PropTypes.object.isRequired,\n\tconfig: PropTypes.object.isRequired\n}","import React, { PropTypes } from 'react';\nimport { Component } from 'react';\nimport { FormatsList } from './list';\n\nexport default class FormatsBanner extends Component {\n\tconstructor(props){\n\t\tsuper(props);\n\n\t\tthis.onFilter = this.onFilter.bind(this);\n\t}\n\n\tcomponentDidMount(){\n\t\tthis.props.fetchFormats();\t\n\t\tthis.props.fetchConfig();\t\n\t}\n\n\tonFilter(selectedFormat){\n\t\tconst { formats } = this.props;\t\t\n\n\t\tlet formatsToUse = [selectedFormat.id];\n\n\t\tif (formats.data && selectedFormat.type && selectedFormat.type == 'others'){\n\t\t\tformatsToUse.length = 0;\n\n\t\t\tfor (let item of formats.data){\n\t\t\t\tif (item.type != 'others'){\n\t\t\t\t\tformatsToUse.push(item.id);\n\t\t\t\t};\t\t\t\t\n\t\t\t}\n\t\t}\n\n\t\tthis.props.searchResources({formats: formatsToUse})\n\t\t.then(() => {\n\t\t\tthis.props.setFilters({formats: formatsToUse});\n\t\t\tthis.context.router.push('/descobrir');\n\t\t})\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"formats\">\n\t\t\t\t<FormatsList formats={this.props.formats} onFilter={this.onFilter} config={this.props.config}/>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nFormatsBanner.propTypes = {\n\tformats: PropTypes.object.isRequired\n}\n\nFormatsBanner.contextTypes = {\n  router: PropTypes.object\n}","import React from 'react';\nimport { Component } from 'react';\nimport { Link } from 'react-router';\n\nvar renderList = (list, config, onFilter) => {\n\treturn _.sortBy(list, 'priority').map((format, index) => {\n\t\tif (index <=5){\n\t\t\treturn (\n\t\t      \t<article className=\"col-xs-6 col-sm-3 col-md-2 formats__element\" key={format.id} onClick={() => onFilter(format)}>\n\t\t\t\t\t<img src={config.formatIcons+\"/\"+format.Image.name+\".\"+format.Image.extension} alt={format.Image.alt} className=\"img-responsive\" />\n\t\t\t\t\t<span>{format.title}</span>\n\t\t\t\t</article>\n\t\t      );\n\t\t  }      \n    });\n}\n\nexport const FormatsList = (props) => {\n\tconst { formats, config, onFilter} = props;\n\n\tif (!formats || !formats.data || formats.fetching){\n\t\treturn <div></div>\n\t}\n\n\treturn (\n\t\t<div className=\"container\">\n\t\t\t<div className=\"row\">\n\t\t\t\t{renderList(formats.data, config.data, onFilter)}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nFormatsList.propTypes = {\n\tformats: React.PropTypes.object.isRequired,\n\tconfig: React.PropTypes.object.isRequired,\n\tonFilter: React.PropTypes.func.isRequired\n}","import React from 'react';\nimport { Component } from 'react';\nimport { Link } from 'react-router';\n\nimport { Nav, Navbar, NavItem } from 'react-bootstrap';\n\n\nexport default class BottomNav extends Component {\n\tisActive(location, target){\n\t\tlocation = location.length > 1 ? location.replace(/^\\//, '') : location;\n\t\treturn location === target ? 'active' : '';\n\t}\n\n\trender() {\n\t\treturn ( \n\t\t\t<footer className=\"bottom-footer\"> \n\t\t\t\t<div className=\"bottom-nav\">\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t<li className={this.isActive(this.props.location.pathname, 'sobre')}>\n\t\t\t\t\t\t\t<Link to=\"/sobre\">Sobre</Link>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li className={this.isActive(this.props.location.pathname, 'dicasutilidades')}>\n\t\t\t\t\t\t\t<Link to=\"/dicasutilidades\">Dicas e Utilidades</Link>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li className={this.isActive(this.props.location.pathname, 'aplicacoes')}>\n\t\t\t\t\t\t\t<Link to=\"/aplicacoes\">Aplicações</Link>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li className={this.isActive(this.props.location.pathname, 'noticias')}>\n\t\t\t\t\t\t\t<Link to=\"/noticias\">Notícias</Link>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li className={this.isActive(this.props.location.pathname, 'mapadositio')}>\n\t\t\t\t\t\t\t<Link to=\"/mapadositio\">Mapa do Sítio</Link>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t\t<button className=\"cta white outline pull-right\">Fale Connosco</button>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"copyright\">\n\t\t\t\t\t© 2016 Direção Regional da Educação\n\t\t\t\t</div>\t\t\t\t\n\t\t\t</footer>\n\t\t);\n\t}\n}\n\nBottomNav.propTypes = {\n\tlocation: React.PropTypes.object.isRequired\n}","import React from 'react';\nimport { Component } from 'react';\nimport { Link } from 'react-router';\n\n// Components\nimport { Nav, Navbar, NavItem } from 'react-bootstrap';\nimport Collapsible from '@/components/common/collapse';\nimport IsAdmin from '@/containers/auth/isAdmin';\n\n\nexport default class DashboardMenu extends Component {\n\tconstructor(props){\n\t\tsuper(props);\n\n\t}\n\n\tisActive(location, target){\n\t\treturn location.indexOf(target)>0 ? 'active' : '';\n\t}\n\n\trender() {\n\t\tconst { isAuthenticated } = this.props.auth;\n\n\t\treturn (  \n\t\t\t<nav className=\"left-menu\">\n\t\t\t\t<ul>\n\t\t\t\t\t<li className={this.isActive(this.props.location.pathname, 'painel')}>\n\t\t\t\t\t\t<Link to=\"/painel\">Os meus recursos <i className=\"fa fa-chevron-right\"></i></Link>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li className={this.isActive(this.props.location.pathname, 'painel/guioes')}>\n\t\t\t\t\t\t<Link to=\"/painel/guioes\">Os meus guiões <i className=\"fa fa-chevron-right\"></i></Link>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li className={this.isActive(this.props.location.pathname, 'painel/favoritos')}>\n\t\t\t\t\t\t<Link to=\"/painel/favoritos\">Favoritos (5) <i className=\"fa fa-chevron-right\"></i></Link>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li className={this.isActive(this.props.location.pathname, 'painel/submetidos')}>\n\t\t\t\t\t\t<Link to=\"/painel/submetidos\">Submetidos <i className=\"fa fa-chevron-right\"></i></Link>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li className={this.isActive(this.props.location.pathname, 'painel/comentarios-pendentes')}>\n\t\t\t\t\t\t<Link to=\"/painel/comentarios-pendentes\">Comentários pendentes (2) <i className=\"fa fa-chevron-right\"></i></Link>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t\t<IsAdmin>\n\t\t\t\t\t<div className=\"admin-tools\">\n\t\t\t\t\t\t<h6>Opções de Administrador</h6>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t{ /* Admin Only*/ }\n\t\t\t\t\t\t\t<li className={this.isActive(this.props.location.pathname, 'painel/recursos-pendentes')}>\n\t\t\t\t                <Link to=\"/painel/recursos-pendentes\">Recursos pendentes (10) <i className=\"fa fa-chevron-right\"></i></Link>\n\t\t\t\t             </li>\n\t\t\t\t\t\t\t<li className={this.isActive(this.props.location.pathname, 'painel/websugestoes')}>\n\t\t\t\t                <Link to=\"/painel/websugestoes\">Websugestões <i className=\"fa fa-chevron-right\"></i></Link>\n\t\t\t\t            </li>\n\t\t\t\t\t\t\t<li className={this.isActive(this.props.location.pathname, 'painel/aplicacoes')}>\n\t\t\t\t                <Link to=\"/painel/aplicacoes\">Aplicações <i className=\"fa fa-chevron-right\"></i></Link>\n\t\t\t\t            </li>\n\t\t\t\t\t\t\t<li className={this.isActive(this.props.location.pathname, 'painel/experimenta')}>\n\t\t\t\t                <Link to=\"/painel/experimenta\">Experimenta <i className=\"fa fa-chevron-right\"></i></Link>\n\t\t\t\t            </li>\n\t\t\t\t\t\t\t<li className={this.isActive(this.props.location.pathname, 'painel/dicaseutilidades')}>\n\t\t\t\t                <Link to=\"/painel/dicaseutilidades\">Dicas e Utilidades <i className=\"fa fa-chevron-right\"></i></Link>\n\t\t\t\t            </li>            \n\t\t\t            </ul>\n\t\t            </div>\n\t            </IsAdmin>\n\t\t\t</nav>\n\t\t);\n\t}\n}\n\nDashboardMenu.propTypes = {\n\tlocation: React.PropTypes.object.isRequired\n}","import React from 'react';\nimport { Component } from 'react';\nimport { Link } from 'react-router';\n\nexport default class ProfileNav extends Component {\n\tisActive(location, target){\n\t\tlocation = location.length > 1 ? location.replace(/^\\//, '') : location;\n\t\treturn location === target ? 'active' : '';\n\t}\n\n\trender() {\n\t\treturn ( \n\t\t\t<nav className=\"profile-nav\"> \n\t\t\t\t<ul>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<Link to=\"/painel\" className={\"cta gray outline \" + this.isActive(this.props.location.pathname, 'painel')}>Painel</Link>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<Link to=\"/perfil\" className={\"cta gray outline \" + this.isActive(this.props.location.pathname, 'perfil')}>Meu Perfil</Link>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\t\t\n\t\t\t</nav>\n\t\t);\n\t}\n}\n\nProfileNav.propTypes = {\n\tlocation: React.PropTypes.object.isRequired\n}","import React from 'react';\nimport { Component } from 'react';\nimport { Link } from 'react-router';\n\n// Components\nimport { Nav, Navbar, NavItem } from 'react-bootstrap';\nimport LoginButton from '@/components/auth/loginButton';\nimport LogoutButton from '@/components/auth/logoutButton';\n\nimport IsAuthenticated from '@/containers/auth/isAuth';\nimport IsNotAuthenticated from '@/containers/auth/isNotAuth';\n\n\nexport default class TopNav extends Component {\n\tconstructor(props){\n\t\tsuper(props);\n\n\t\tthis.renderSmallNav = this.renderSmallNav.bind(this);\n\t}\n\n\tisActive(location, target){\n\t\tlocation = location.length > 1 ? location.replace(/^\\//, '') : location;\n\t\tlocation = location.length > 1 && location.indexOf('/') > 0 ? location.substring(0, location.indexOf('/')) : location;\n\n\t\treturn location === target ? 'active' : '';\n\t}\n\n\trenderSmallNav(isAuthenticated){\n\t\treturn(\n\t\t\t<ul className=\"nav navbar-nav small-nav\">\n\t\t\t\t<IsNotAuthenticated>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<LoginButton location={this.props.location.pathname}>\n\t\t\t\t\t\t\tEntrar\n\t\t\t\t\t\t</LoginButton>\n\t\t\t\t\t</li>\n\t\t\t\t</IsNotAuthenticated>\n\n\t\t\t\t<IsNotAuthenticated>\n\t\t\t\t\t<li className={this.isActive(this.props.location.pathname, 'registar')}>\n\t\t\t\t\t\t<Link to=\"/registar\">Registar</Link>\n\t\t\t\t\t</li>\n\t\t\t\t</IsNotAuthenticated>\t\n\n\t\t\t\t{/*<IsAuthenticated>\n\t\t\t\t\t<li className={this.isActive(this.props.location.pathname, 'painel')}>\n\t\t           \t\t<Link to=\"/painel\">Minha Conta</Link>\n\t\t           \t</li>\n\t\t\t\t</IsAuthenticated>*/}\n\t\t\t\t<li className={this.isActive(this.props.location.pathname, 'ajuda')}>\n\t\t\t\t\t<Link to=\"/ajuda\">Ajuda</Link>\n\t\t\t\t</li>\n\t\t\t\t\n\t\t\t\t<IsAuthenticated>\n\t\t\t\t\t{this.props.auth.data && \n\t\t\t\t\t<li className={\"user-identification \"+this.isActive(this.props.location.pathname, 'painel')}>\n\t\t           \t\t<Link to=\"/painel\">Olá <strong><em>{this.props.auth.data.user.name}</em></strong></Link>\n\t\t           \t</li>}\n\t\t\t\t</IsAuthenticated>\n\n\t\t\t\t<IsAuthenticated>\n\t\t\t\t\t<LogoutButton />\n\t\t\t\t</IsAuthenticated>\n\t\t\t</ul>\n\t\t)\n\t}\n\n\trender() {\n\t\tconst { isAuthenticated } = this.props.auth;\n\n\t\treturn (  \n\t\t\t<Navbar>\n\t\t\t\t<Navbar.Header>\n\t\t\t\t\t<Navbar.Brand>\n\t\t\t\t\t\t<a href=\"/\"><img src=\"/assets/graphics/REDA_logo.png\" alt=\"A imagem da REDA\" className=\"img-responsive\"/></a>\n\t\t\t\t\t</Navbar.Brand>\n\t\t\t\t\t<Navbar.Toggle/>\n\t\t\t\t</Navbar.Header>\n\t\t\t\t<Navbar.Collapse>\n\t\t\t\t\t<div className=\"pull-right menu-container\">\n\n\t\t              \t{this.renderSmallNav(isAuthenticated)}\n\n\t\t\t\t\t\t<ul className=\"nav navbar-nav big-nav\">\n\t\t\t              <li className={this.isActive(this.props.location.pathname, '/')}>\n\t\t\t                <Link to=\"/\">Início</Link>\n\t\t\t              </li>\n\t\t\t              <li className={this.isActive(this.props.location.pathname, 'descobrir')}>\n\t\t\t                <Link to=\"/descobrir\">Descobrir</Link>\n\t\t\t              </li>\n\t\t\t              <li className={this.isActive(this.props.location.pathname, 'aplicacoes')}>\n\t\t\t                <Link to=\"/aplicacoes\">Aplicações</Link>\n\t\t\t              </li>\n\t\t\t              <li className={this.isActive(this.props.location.pathname, 'noticias')}>\n\t\t\t                <Link to=\"/noticias\">Notícias</Link>\n\t\t\t              </li>\n\t\t\t              <li className={this.isActive(this.props.location.pathname, 'sugestoes')}>\n\t\t\t                <Link to=\"/sugestoes\">Sugestões</Link>\n\t\t\t              </li>\n\t\t\t            </ul>\n\t\t            </div>\n\t\t\t\t</Navbar.Collapse>\n\t\t\t</Navbar>\n\t\t);\n\t}\n}\n\nTopNav.propTypes = {\n\tlocation: React.PropTypes.object.isRequired\n}","import React from 'react';\nimport { Component } from 'react';\n\nexport default class EmailIcon extends Component {\n\tconstructor(props){\n\t\tsuper(props);\n\t}\n\n\tcomponentDidMount(){\t\t\n\t\t\t\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"media__action\">\n\t\t\t\t<i className=\"fa fa-envelope\"></i>\n\t\t\t</div>\n\t\t);\n\t}\n}","import React from 'react';\nimport { Component } from 'react';\n\nexport default class EmbedIcon extends Component {\n\tconstructor(props){\n\t\tsuper(props);\n\n\t}\n\n\tcomponentDidMount(){\t\t\n\t\t\t\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"media__action\">\n\t\t\t\t<i className=\"fa fa-code\"></i>\n\t\t\t</div>\n\t\t);\n\t}\n}","import React from 'react';\nimport { Component } from 'react';\n\nfunction getIcon(isFavorite){\n\treturn (isFavorite) ? \"fa-heart\" : \"fa-heart-o\";\n}\n\nexport default (props) => {\n\treturn(\n\t\t<div className=\"media__action favorite\" onClick={props.setFavorite}>\n\t\t\t<i className={\"fa \" + getIcon(props.isFavorite)}></i>\n\t\t</div>\n\t);\n}","import React from 'react';\nimport { Component } from 'react';\n\nexport default class ShareIcon extends Component {\n\tconstructor(props){\n\t\tsuper(props);\n\t}\n\n\tcomponentDidMount(){\t\t\n\t\t\t\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"media__action\">\n\t\t\t\t<i className=\"fa fa-share-alt\"></i>\n\t\t\t</div>\n\t\t);\n\t}\n}","import React from 'react';\nimport { Component } from 'react';\nimport { Carousel } from 'react-bootstrap';\n\n// Components\nimport { Link } from 'react-router';\nimport ProtectedButton from '@/components/auth/protectedButton';\n\nvar renderProtected = (obj, target, el, isAuth) => {\n\tif (!el.exclusive || isAuth){\n\t\treturn (\n\t\t\t<Link to={target}>\n\t      \t\t{obj}\n\t      \t</Link>\n      \t)\n  \t}\n\n  \treturn(\n\t\t<ProtectedButton target={target}>\n      \t\t{obj}\n      \t</ProtectedButton>\n  \t);\n}\n\nvar renderList = (list, isAuth) => {\n\treturn list.map((element) => {\n      return (\n      \t<Carousel.Item key={element.slug}>\n\t        <div className=\"media col-xs-9 col-sm-8 col-xs-offset-2 col-sm-offset-2\">\n\t\t\t  <div className=\"media-left media__img\">\n\t\t\t  \t{\n\t      \t\t\t/*renderProtected(\n\t\t      \t\t\t<span className=\"app-carousel__img\" style={{\"backgroundImage\": `url(${element.image.src})`}} />\n\t\t\t      \t,\"/descobrir/detalhes-recurso/\" + element.slug, element, isAuth)*/\n\t\t      \t}\n\t\t\t  </div>\n\t\t\t  <div className=\"media-body\">\n\t\t\t  \t{\n\t      \t\t\trenderProtected(\n\t\t      \t\t\t<h1 className=\"media-heading\">{element.title}</h1>\n\t\t\t      \t,\"/descobrir/detalhes-recurso/\" + element.slug, element, isAuth)\n\t\t      \t}\n\t\t\t    <div className=\"app-carousel__text\">\n\t\t\t    \t{element.description}\n\t\t\t    </div>\n\t\t\t    {renderProtected(<span className=\"cta secundary no-bg pull-right\">Ler mais...</span>, \"/descobrir/detalhes-recurso/\"+element.slug, element, isAuth)}\n\t\t\t  </div>\n\t\t\t</div>\n\t\t</Carousel.Item>\n      );\n    });\n}\n\nexport const AppCarousel = (props) => {\n\tconst settings = props.settings;\n\tif (!props.data || !props.data.data || props.data.fetching){\n\t\treturn <div></div>\n\t}\n\n\treturn (\n\t\t<div className=\"container app-carousel\">\n\t\t\t<Carousel interval={settings.interval} nextIcon={settings.nextIcon} prevIcon={settings.prevIcon} indicators={settings.indicators}>\n\t\t\t\t{renderList(props.data.data, props.isAuthenticated)}\n\t\t\t</Carousel>\n\t\t</div>\n\t);\n}\n\nAppCarousel.propTypes = {\n\tdata: React.PropTypes.object.isRequired,\n\tsettings: React.PropTypes.object.isRequired\n}","import React from 'react';\nimport Comments from './comments';\nimport { Media } from 'react-bootstrap';\nimport { setDateFormat } from '@/utils';\n\nvar renderDelete = (deleteOpt, obj) => {\n\treturn(\n\t\t<button className=\"cta secundary no-bg\" onClick={() => deleteOpt(obj)}>Eliminar</button>\n\t);\n}\n\nexport default (props) => {\n\tvar { comment, editable, deleteComment } = props;\n\treturn(\n\t\t<div className=\"comments__parent\">\n\t\t\t<Media>\n\t\t\t\t<Media.Left>\n\t\t\t\t\t<div className=\"user-image\" style={{\"backgroundImage\": `url(${comment.user.image.src})`}}></div>\t\t\t\t\t\n\t\t\t\t</Media.Left>\n\n\t\t\t\t<Media.Body>\n\t\t\t\t\t<span className=\"meta-info\"><strong>{comment.user.name}</strong> a {setDateFormat(comment.date, \"LLL\")}</span>\n\t\t\t\t\t<p>{comment.text}</p>\n\t\t\t\t\t{ editable ? renderDelete(deleteComment, comment) : \"\"}\n\t\t\t\t\t{ comment.children ? <Comments comments={comment.children} editable={editable} deleteComment={deleteComment}/> : \"\"}\t\t\t\t\t\n\t\t\t\t</Media.Body>\n\t\t\t</Media>\n\t\t\t\n\t\t</div>\n\t);\n}","import React from 'react';\nimport Comment from './comment';\n\nexport default (props) => {\n\tvar { comments, editable, deleteComment } = props;\n\n\treturn(\n\t\t<div className=\"comments__children\">\n\t\t\t{\n\t\t\t\tcomments.map((comment) => {\n\t\t\t        return <Comment key={comment.id} comment={comment} editable={editable} deleteComment={deleteComment} />\n\t\t\t\t})\n\t\t\t}\n\t\t</div>\n\t);\n}","import React, { Component, PropTypes } from 'react';\nimport ReactDOM from 'react-dom';\n\n\nexport default class CommentForm extends Component {\n  constructor(props){\n    super(props);\n\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n\n  onSubmit(props){\n  \n  }\n\n\n  render() {\n    const { asyncValidating, fields: { description }, resetForm, handleSubmit, submitting } = this.props;\n\n    return (\n      <div className=\"comment-form box-form\">\n        <form onSubmit={handleSubmit(this.onSubmit)}>\n          <div className={`form-group ${description.touched && description.invalid ? 'has-error' : ''}`}>\n            <textarea className=\"form-control\" placeholder=\"Descrição\" {...description}></textarea>\n            {asyncValidating === 'description' && <i className='fa fa-spinner fa-spin'/>}\n            {description.touched && description.error && <div className=\"text-danger\">{description.error}</div>}\n          </div>\n          \n          <div className=\"text-center\">\n            <button type=\"submit\" disabled={asyncValidating} className=\"cta primary\">\n              Submeter Comentário\n            </button>\n          </div>\n        </form>\n      </div>\n    )\n  }\n}\n\nCommentForm.propTypes = {\n  fields: PropTypes.object.isRequired,\n  resetForm: PropTypes.func.isRequired,\n  handleSubmit: PropTypes.func.isRequired,\n  submitting: PropTypes.bool.isRequired\n}\n\nCommentForm.contextTypes = {\n  router: PropTypes.object\n}","import React, {PropTypes} from 'react';\nimport { Component } from 'react';\nimport { Link } from 'react-router';\nimport Comments from './comments';\n\nexport default class CommentsListing extends Component {\n\tconstructor(props){\n\t\tsuper(props);\n\n\t\tthis.deleteComment = this.deleteComment.bind(this);\n\t}\n\n\tcomponentDidMount(){\n\t\tthis.props.fetchComments(this.props.source);\n\t}\n\n\tdeleteComment(obj){\n\t\t/* Delete comment */\n\t}\n\n\trenderComments(comments){\n\t\tvar { isAuthenticated } = this.props.auth;\n\n\t\treturn(\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"col-xs-12\">\n\t\t\t\t\t<Comments comments={comments} deleteComment={this.deleteComment} editable={isAuthenticated} />\t\t\t\t\t\t\t\n\t\t\t\t</div>\t\t\t\t\t\t\n\t\t\t</div>\n\t\t);\n\t}\n\n\trender() {\n\t\tvar comments = [];\n\t\tif (this.props.comments && this.props.comments.data){\n\t\t\tcomments = this.props.comments.data;\n\t\t}\t\n\n\t\tif (!comments || comments.length==0){\n\t\t\treturn (\n\t\t\t\t<div className=\"comments__container\">\n\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t<div className=\"col-xs-12 text-center\">\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<p className=\"no-comments\">Ainda não foram adicionados comentários</p>\n\t\t\t\t\t\t</div>\t\t\t\t\t\t\n\t\t\t\t\t</div>\t\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t\t\n\t\treturn (\n\t\t\t<div className=\"comments__container\">\n\t\t\t\t<div className=\"row\">\n\t\t\t\t\t<div className=\"col-xs-12\">\n\t\t\t\t\t\t<h6>{comments.length}{comments.length>1 || comments.length==0 ? ' Comentários' : ' Comentário'}</h6>\n\t\t\t\t\t</div>\t\t\t\t\t\t\n\t\t\t\t</div>\t\n\t\t\t\t{comments && this.renderComments(comments)}\t\t\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nCommentsListing.propTypes = {\n\tcomments: React.PropTypes.object.isRequired\n}","import React from 'react';\r\nimport { Component, PropTypes } from 'react';\r\n\r\nexport default class DeleteCollectiveResources extends Component{\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\r\n\t\tthis.deleteList = this.deleteList.bind(this);\r\n\t}\r\n\r\n\tdeleteList(items){\r\n\t\tif (confirm('Tem a certeza que deseja remover?')){\r\n\t\t\tthis.props.deleteResources(items)\r\n\t\t\t.then(this.props.cb);\r\n\t\t}\t\t\r\n\t}\r\n\r\n\trender(){\r\n\t\tconst { className, items } = this.props;\r\n\r\n\t\treturn(\r\n\t\t\t<button className={className} onClick={() => this.deleteList(items)}>{this.props.children}</button>\r\n\t\t)\t\r\n\t}\r\n\t\r\n}\r\n\r\nDeleteCollectiveResources.propTypes= {\r\n    deleteResources: PropTypes.func.isRequired,\r\n    cb: PropTypes.func.isRequired\r\n}","import React from 'react';\r\nimport { Component, PropTypes } from 'react';\r\n\r\nexport default class DeleteResource extends Component{\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\r\n\t\tthis.deleteEl = this.deleteEl.bind(this);\r\n\t}\r\n\r\n\tdeleteEl(item){\r\n\t\tif (confirm('Tem a certeza que deseja remover?')){\r\n\t\t\tthis.props.deleteResource(item)\r\n\t\t\t.then(this.props.cb);\r\n\t\t}\t\t\r\n\t}\r\n\r\n\trender(){\r\n\t\tconst { className, item } = this.props;\r\n\r\n\t\treturn(\r\n\t\t\t<button className={className} onClick={() => this.deleteEl(item)}>{this.props.children}</button>\r\n\t\t)\t\r\n\t}\r\n\t\r\n}\r\n\r\nDeleteResource.propTypes= {\r\n    deleteResource: PropTypes.func.isRequired,\r\n    cb: PropTypes.func.isRequired\r\n}","import React, { PropTypes } from 'react';\nimport { Component } from 'react';\nimport _ from 'lodash';\n\n// Utils\nimport { sortByTitle } from '@/utils';\n\n// Components\nimport Collapsible from '@/components/common/collapse';\nimport CheckboxGroup from 'react-checkbox-group';\n\n\nexport default class ResourcesFilters extends Component {\n\tconstructor(props){\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tformats: [],\n\t\t\tsubjects: [],\n\t\t\tdomains: [],\n\t\t\tyears: [],\n\t\t\taccess: [],\n\t\t\tupdate: false\n\t\t};\n\n\t\t//\n\t\t//\tSubmition\n\t\t//\n\t\tthis.submitFilters = this.submitFilters.bind(this);\n\n\t\t//\n\t\t//\tChange events\n\t\t//\n\t\tthis.formatChange = this.formatChange.bind(this);\n\t\tthis.subjectChange = this.subjectChange.bind(this);\n\t\tthis.domainChange = this.domainChange.bind(this);\n\t\tthis.yearChange = this.yearChange.bind(this);\n\t\tthis.accessChange = this.accessChange.bind(this);\n\n\t\t//\n\t\t//\tRenders\n\t\t//\n\t\tthis.renderFormats = this.renderFormats.bind(this);\n\t\tthis.renderSubjects = this.renderSubjects.bind(this);\n\t\tthis.renderDomains = this.renderDomains.bind(this);\n\t\tthis.renderYears = this.renderYears.bind(this);\n\t\tthis.renderAccess = this.renderAccess.bind(this);\n\t}\n\n\tcomponentDidMount(){\t\t\n\t\tthis.props.fetchFormats();\n\t\tthis.props.fetchSubjects(true);\n\t\tthis.props.fetchDomains(true);\n\t\tthis.props.fetchYears(true);\n\t\tthis.props.fetchAccess(true);\n\n\t\t// Are there any filters?\n\t\tif (this.props.filters.filters!=null){\n\t\t\tconst { formats, subjects, domains, years } = this.props.filters.filters;\n\t\t\tthis.setState({\n\t\t\t\tformats,\n\t\t\t\tsubjects,\n\t\t\t\tdomains,\n\t\t\t\tyears\n\t\t\t});\n\t\t}\n\t}\n\n\t// Reset filters on unmount\n\tcomponentWillUnmount() {\n\t    this.props.resetYears();\n\t    this.props.resetSubjects();\n\t    this.props.resetFormats();\n\t    this.props.resetDomains();\n\t    this.props.resetAccess();  \n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\n\t\t//If previous state is different, then warn container\n\t\tif (this.state.update){\n\t\t\tthis.submitFilters();\n\t\t}\n\t}\n\n\t//\n\t//\tOn submit\n\t//\n\tsubmitFilters(){\n\t\tconst { formats, subjects, domains, years, access } = this.state;\n\n\t\tthis.props.onFilterChange({ formats, subjects, domains, years, access });\n\t\tthis.setState({update: false});\n\t}\n\n\t//\n\t//\tHandle Changes\n\t//\n\tformatChange(data){\n\t\tthis.setState({\n\t\t\tformats: data,\n\t\t\tupdate: true\n\t\t});\n\t}\n\n\tsubjectChange(data){\n\t\tthis.setState({\n\t\t\tsubjects: data,\n\t\t\tupdate: true\n\t\t});\t\t\n\t}\n\n\tdomainChange(data){\n\t\tthis.setState({\n\t\t\tdomains: data,\n\t\t\tupdate: true\n\t\t});\t\t\n\t}\n\n\tyearChange(data){\n\t\tthis.setState({\n\t\t\tyears: data,\n\t\t\tupdate: true\n\t\t});\t\n\t}\n\n\taccessChange(data){\n\t\tthis.setState({\n\t\t\taccess: data,\n\t\t\tupdate: true\n\t\t});\t\t\n\t}\n\n\t//\n\t//\tRENDER DATA\n\t//\n\t// Render formats list\n\trenderFormats(){\n\t\tconst { data } = this.props.formats;\n\t\treturn(\n\t\t  <CheckboxGroup\n\t\t        name=\"subjects\"\n\t\t        value={this.state.formats}\n\t\t        onChange={this.formatChange}\n\t\t      >\n\t\t        {\n\t\t          Checkbox => (\n\t\t            <div className=\"row\">\n\t\t              {data.sort(sortByTitle).map((item,index) => {\n\t\t              \tif (item.type!='others'){\n\t\t              \t\treturn (\n\t\t\t                  <div key={item.id} className=\"col-xs-12\">\n\t\t\t                    <Checkbox value={item.id} id={\"format-\"+item.id}/> \n\t\t\t                    <label htmlFor={\"format-\"+item.id}>{item.title}</label>\n\t\t\t                  </div>\n\t\t\t                )\n\t\t              \t}\t\t                \n\t\t              })}\n\t\t            </div>\n\t\t          )\n\t\t        }\n\t\t  </CheckboxGroup>\n\t\t)\n\t}\n\n\t// Render subjects list\n\trenderSubjects(){\n\t\tconst { data } = this.props.subjects;\n\t\treturn(\n\t\t  <CheckboxGroup\n\t\t        name=\"subjects\"\n\t\t        value={this.state.subjects}\n\t\t        onChange={this.subjectChange}\n\t\t      >\n\t\t        {\n\t\t          Checkbox => (\n\t\t            <div className=\"row\">\n\t\t              {data.sort(sortByTitle).map((item,index) => {\n\t\t                return (\n\t\t                  <div key={item.id} className=\"col-xs-12\">\n\t\t                    <Checkbox value={item.id} id={\"subject-\"+item.id}/> \n\t\t                    <label htmlFor={\"subject-\"+item.id}>{item.title}</label>\n\t\t                  </div>\n\t\t                )\n\t\t              })}\n\t\t            </div>\n\t\t          )\n\t\t        }\n\t\t  </CheckboxGroup>\n\t\t)\n\t}\n\n\t// Render domains list\n\trenderDomains(){\n\t\tconst { data } = this.props.domains;\n\t\treturn(\n\t\t  <CheckboxGroup\n\t\t        name=\"domains\"\n\t\t        value={this.state.domains}\n\t\t        onChange={this.domainChange}\n\t\t      >\n\t\t        {\n\t\t          Checkbox => (\n\t\t            <div className=\"row\">\n\t\t              {data.sort(sortByTitle).map((item,index) => {\n\t\t                return (\n\t\t                  <div key={item.id} className=\"col-xs-12\">\n\t\t                    <Checkbox value={item.id} id={\"domain-\"+item.id}/> \n\t\t                    <label htmlFor={\"domain-\"+item.id}>{item.title}</label>\n\t\t                  </div>\n\t\t                )\n\t\t              })}\n\t\t            </div>\n\t\t          )\n\t\t        }\n\t\t  </CheckboxGroup>\n\t\t)\n\t}\n\n\t// Render years list\n\trenderYears(){\n\t\tconst { data } = this.props.years;\n\t\treturn(\n\t\t  <CheckboxGroup\n\t\t        name=\"years\"\n\t\t        value={this.state.years}\n\t\t        onChange={this.yearChange}\n\t\t      >\n\t\t        {\n\t\t          Checkbox => (\n\t\t            <div className=\"row\">\n\t\t              {data.sort(sortByTitle).map((item,index) => {\n\t\t                return (\n\t\t                  <div key={item.id} className=\"col-xs-6\">\n\t\t                    <Checkbox value={item.id} id={\"year-\"+item.id}/> \n\t\t                    <label htmlFor={\"year-\"+item.id}>{item.title}</label>\n\t\t                  </div>\n\t\t                )\n\t\t              })}\n\t\t            </div>\n\t\t          )\n\t\t        }\n\t\t  </CheckboxGroup>\n\t\t)\n\t}\n\n\t// Render access modes list\n\trenderAccess(){\n\t\tconst { data } = this.props.access;\n\t\treturn(\n\t\t  <CheckboxGroup\n\t\t        name=\"access\"\n\t\t        value={this.state.access}\n\t\t        onChange={this.accessChange}\n\t\t      >\n\t\t        {\n\t\t          Checkbox => (\n\t\t            <div className=\"row\">\n\t\t              {data.sort(sortByTitle).map((item,index) => {\n\t\t                return (\n\t\t                  <div key={item.id} className=\"col-xs-6\">\n\t\t                    <Checkbox value={item.id} id={\"access-\"+item.id}/> \n\t\t                    <label htmlFor={\"access-\"+item.id}>{item.title}</label>\n\t\t                  </div>\n\t\t                )\n\t\t              })}\n\t\t            </div>\n\t\t          )\n\t\t        }\n\t\t  </CheckboxGroup>\n\t\t)\n\t}\n\n\n\trender() {\n\t\tconst { formats, subjects, domains, years, access } = this.props;\n\t\tif (!formats.data || !subjects.data || !domains.data || !years.data || !access.data)\n\t\t\treturn null;\n\n\t\treturn (\n\t\t\t<div className=\"resources__filter\">\n\t\t\t\t<div className=\"row\">\n\t\t\t\t\t<div className=\"col-xs-12\">\n\t\t\t\t\t\t<Collapsible title=\"Anos\" iconOpen=\"fa fa-chevron-up\" iconClosed=\"fa fa-chevron-down\">\n\t\t\t\t\t\t\t{this.renderYears()}\n\t\t\t\t\t\t</Collapsible>\n\n\t\t\t\t\t\t<Collapsible title=\"Disciplinas\" iconOpen=\"fa fa-chevron-up\" iconClosed=\"fa fa-chevron-down\">\n\t\t\t\t\t\t\t{this.renderSubjects()}\n\t\t\t\t\t\t</Collapsible>\n\n\t\t\t\t\t\t<Collapsible title=\"Domínios\" iconOpen=\"fa fa-chevron-up\" iconClosed=\"fa fa-chevron-down\">\n\t\t\t\t\t\t\t{this.renderDomains()}\n\t\t\t\t\t\t</Collapsible>\n\n\t\t\t\t\t\t<Collapsible title=\"Formatos\" iconOpen=\"fa fa-chevron-up\" iconClosed=\"fa fa-chevron-down\">\n\t\t\t\t\t\t\t{this.renderFormats()}\n\t\t\t\t\t\t</Collapsible>\t\n\t\t\t\t\t\t\n\t\t\t\t\t\t<Collapsible title=\"Modos de utilização\" iconOpen=\"fa fa-chevron-up\" iconClosed=\"fa fa-chevron-down\">\n\t\t\t\t\t\t\t{this.renderAccess()}\n\t\t\t\t\t\t</Collapsible>\n\t\t\t\t\t\t\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nResourcesFilters.propTypes = {\n\tformats: PropTypes.object.isRequired,\n\tsubjects: PropTypes.object.isRequired\n}","import React from 'react';\nimport { Component, PropTypes } from 'react';\nimport { Link } from 'react-router';\n\n// Boostrap\nimport { Tooltip, OverlayTrigger } from 'react-bootstrap';\n\n// Components\nimport Rating from '@/components/common/rating';\nimport SvgComponent from '@/components/common/svg';\nimport ProtectedButton from '@/components/auth/protectedButton';\nimport { ResourceElement } from './resource';\n\nvar renderList = (list, props) => {\t\n\t// Set maximum columns\n\tlet maxcol = props.maxcol || 4;\n\tlet classColCount = Math.floor(12/maxcol);\n\n\tconst { addscript, viewmore, isAuthenticated, setHighlight, setFavorite, hideOptions } = props;\n\n\treturn list.map((el, index) => {\n\t\treturn <ResourceElement \n\t\t\tmaxcol={maxcol} \n\t\t\tclassColCount={classColCount} \n\t\t\taddscript={addscript} \n\t\t\tviewmore={viewmore} \n\t\t\tisAuthenticated={isAuthenticated} \n\t\t\tel={el} \n\t\t\tindex={index} \n\t\t\tkey={index} \n\t\t\tconfig={props.config}\n\t\t\tsetHighlight={setHighlight}\n\t\t\tsetFavorite={setFavorite}\n\t\t\thideOptions={hideOptions}\n\t\t/>\n    });\n}\n\nexport const ResourcesList = (props) => {\t\n\tif (!props.list || !props.list.data || props.list.fetching){\n\t\treturn <div></div>;\n\t}\n\n\treturn(\n\t\t<section className=\"row\">\n\t\t\t{renderList(props.list.data, props)}\n\t\t</section>\n\t);\n}\n\nResourcesList.propTypes = {\n\tlist: PropTypes.object.isRequired,\n\tmaxcol: PropTypes.number,\n\taddscript: PropTypes.bool,\n\tviewmore: PropTypes.bool,\n\tisAuthenticated: PropTypes.bool.isRequired,\n\thideOptions: PropTypes.bool\n}","import React from 'react';\nimport { Component } from 'react';\n\nexport default class ResourcesOrdering extends Component {\n\tconstructor(props){\n\t\tsuper(props);\n\t\n\t\tthis.onOrderChange = this.onOrderChange.bind(this);\n\n\t\tthis.state = {\n\t\t\tvalue: \"recent\"\n\t\t}\n\t}\n\n\tonOrderChange(e){\n\t\tthis.setState({value: e.target.value});\n\t\tthis.props.onChange(e.target.value);\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"ordering\">\n\t\t\t\t<label htmlFor=\"order-box\">Ordem:</label>\n\t\t\t\t\n\t\t\t\t<select className=\"form-control\" id=\"order-box\" onChange={this.onOrderChange} value={this.state.value}>\n\t\t\t\t\t<option value=\"recent\">Mais recente</option>\n\t\t\t\t\t<option value=\"alfa\">Alfabética</option>\n\t\t\t\t\t<option value=\"rating--desc\">Avaliações (maior)</option>\n\t\t\t\t\t<option value=\"rating--asc\">Avaliações (menor)</option>\t\t\t\t\t\n\t\t\t\t</select>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nResourcesOrdering.propTypes = {\n\tonChange: React.PropTypes.func.isRequired\n}","import React from 'react';\nimport { Component, PropTypes } from 'react';\nimport { Link } from 'react-router';\n\n// Utils\nimport { getAvg } from '@/utils';\n\n// Boostrap\nimport { Tooltip, OverlayTrigger } from 'react-bootstrap';\n\n// Components\nimport Rating from '@/components/common/rating';\nimport SvgComponent from '@/components/common/svg';\nimport ProtectedButton from '@/components/auth/protectedButton';\nimport IsAuthenticated from '@/containers/auth/isAuth';\nimport IsAdmin from '@/containers/auth/isAdmin';\nimport { truncate } from '@/utils';\n\n//\n//\tRender button according to app status\n//\nconst renderProtected = (obj, target, props) => {\n\tif (!props.el.exclusive || props.isAuthenticated){\n\t\treturn (\n\t\t\t<Link to={target}>\n\t      \t\t{obj}\n\t      \t</Link>\n      \t)\n  \t}\n\n  \treturn(\n\t\t<ProtectedButton target={target}>\n      \t\t{obj}\n      \t</ProtectedButton>\n  \t);\n}\n\n//\n//\tRender option buttons\n//\nconst optionsRender = (el, isAuthenticated, addscript, viewmore) => {\n\tif (addscript && isAuthenticated){\n\t\treturn (\n\t\t\t<span className=\"list__element--buttons\">\n  \t\t\t<Link to={\"/descobrir/detalhes-recurso/\" + el.slug} className=\"cta primary outline small\">Ver Recurso</Link>\n  \t\t\t<Link to={\"/gerirguioes/\" + el.slug } className=\"cta primary outline small\">Adicionar Guião</Link>\n\t\t\t</span>\n\t\t)\n\t}\n\n\tif ((viewmore || addscript) && (!el.exclusive || isAuthenticated)){\n\t\treturn <Link to={\"/descobrir/detalhes-recurso/\" + el.slug} className=\"cta primary outline small\">Ver Recurso</Link>\n\t}else {\n\t\treturn <ProtectedButton className=\"cta primary outline small action-btn\" target={\"/descobrir/detalhes-recurso/\" + el.slug}>Ver Recurso</ProtectedButton>\n\t}\n}\n\n//\n//\tRender favorite button\n//\nconst renderAuthOptions = (el, isAuthenticated, setHighlight, setFavorite, hideOptions) => {\n\tif (!hideOptions){\n\t\treturn (\n\t\t\t<IsAuthenticated>\n\t\t\t\t<div className=\"list__element--fav\">\n\t\t\t\t\t<i className={\"fa fa-\" + ((el.isFavorite) ? \"heart\" : \"heart-o\")} title=\"Favorito\" onClick={()=> setFavorite(el.id)}></i>\n\t\t\t\t\t<IsAdmin>\n\t\t\t\t\t\t<i className={\"fa fa-\" + ((el.highlight) ? \"star\" : \"star-o\")} title=\"Recurso do Mês\" onClick={()=> setHighlight(el.id)}></i>\n\t\t\t\t\t</IsAdmin>\n\t\t\t\t</div>\n\t\t\t</IsAuthenticated>\n\t\t)\n\t}\n\n\treturn null;\n}\n\n\nexport const ResourceElement = (props) => {\n\n\tif (!props.el){\n\t\treturn null\n\t}\n\n\tconst { \n\t\taddscript, \n\t\tviewmore, \n\t\tisAuthenticated, \n\t\tel, \n\t\tclassColCount, \n\t\tindex, \n\t\tmaxcol, \n\t\tconfig, \n\t\tsetHighlight, \n\t\tsetFavorite,\n\t\thideOptions\n\t} = props;\n\n\t// Clearfix classes\n\tlet breaker = \"\";\n\tbreaker = (index)%maxcol == 0 ? ' floatnone floatnone__lg' : \"\";\n\tbreaker = (index)%maxcol == 0 ? breaker + ' floatnone__md' : breaker;\n\tbreaker = (index)%3 == 0 ? breaker + ' floatnone__sm' : breaker;\n\n\n\t// Type tooltip\n\tconst tooltip = (\n\t\t<Tooltip id={\"resource_\" + el.id}>{el.Format.title}</Tooltip>\n\t);\n\n\treturn(\t\t\n      \t<article className={\"col-xs-12 col-sm-4 col-md-\" + classColCount + \" col-lg-\" + classColCount + breaker} >\n      \t\t<div className=\"list__element\">\n      \t\t\t{renderAuthOptions(el, isAuthenticated, setHighlight, setFavorite, hideOptions)}\n\t      \t\t{\n\t      \t\t\trenderProtected(\n\t\t      \t\t\t<header>\n\t\t\t      \t\t\t<h1 title={el.title}>{truncate(el.title, 10)}</h1>\n\t\t\t\t      \t\t<p>{truncate(el.description, 40)}</p>\n\t\t\t      \t\t</header>\n\t\t\t      \t,\"/descobrir/detalhes-recurso/\" + el.slug, props)\n\t\t      \t}\n\n\t\t      \t{optionsRender(el, isAuthenticated, addscript, viewmore)}\t\n\n\t\t      \t{\n\t      \t\t\trenderProtected(\n\t\t      \t\t\t<footer>\n\t\t\t      \t\t\t<div className=\"rating\">\n\t\t\t      \t\t\t\t<Rating readonly initialRate={el.ratingAvg}/>\n\t\t\t      \t\t\t</div>\n\t\t\t      \t\t\t\n\t\t\t      \t\t\t<div className=\"type\">\n\t\t\t      \t\t\t\t<OverlayTrigger placement=\"left\" overlay={tooltip}>\n\t\t\t\t      \t\t\t\t<span>\n\t\t\t\t      \t\t\t\t\t<SvgComponent element={config.formatIcons+\"/\"+el.Format.Image.name+\".\"+el.Format.Image.extension} color=\"#6a696a\"/>\n\t\t\t      \t\t\t\t\t</span>\n\t\t\t      \t\t\t\t</OverlayTrigger>\n\t\t\t      \t\t\t</div>\t\t\t      \t\t\t\n\t\t\t      \t\t</footer>\n\t\t\t      \t,\"/descobrir/detalhes-recurso/\" + el.slug, props)\n\t\t      \t}\n      \t\t</div>\n\t\t</article>\t\t\n\t\t\n\t);\t\n}\n\nResourceElement.propTypes = {\n\tel: PropTypes.object.isRequired,\n\tmaxcol: PropTypes.number,\n\taddscript: PropTypes.bool,\n\tviewmore: PropTypes.bool,\n\tisAuthenticated: PropTypes.bool.isRequired,\n\tclassColCount: PropTypes.number,\n\tconfig: PropTypes.object\n}","import React from 'react';\nimport { Component, PropTypes } from 'react';\nimport { Link } from 'react-router';\n\n// Utils\nimport { getAvg } from '@/utils';\n\n// Components\nimport MediaDisplay from './mediaDisplay';\nimport MediaFooter from './mediaFooter';\nimport TechFile from '../techFile';\nimport Scripts from './scripts';\nimport CommentForm from '@/containers/comments/commentForm';\nimport CommentsList from '@/containers/comments';\nimport RelatedResources from '@/containers/resources/related';\nimport Rating from '@/components/common/rating';\nimport DeleteResource from '@/containers/resources/deleteResource';\nimport IsAuthenticated from '@/containers/auth/isAuth';\nimport IsAdmin from '@/containers/auth/isAdmin';\n\nexport default class ResourceDetails extends Component {\n\tconstructor(props){\n\t\tsuper(props);\n\n\t\t//\n\t\t//\tHelpers\n\t\t//\n\t\tthis.requiresAuth = this.requiresAuth.bind(this);\n\t\tthis.scrollToComments = this.scrollToComments.bind(this);\n\n\t\t//\n\t\t//\tEvent handlers\n\t\t//\t\n\t\tthis.setFavorite = this.setFavorite.bind(this);\n\t\tthis.setRating = this.setRating.bind(this);\n\t\tthis.deleteCb = this.deleteCb.bind(this);\n\n\t\t//\n\t\t//\tRenders\n\t\t//\n\t\tthis.printMeta = this.printMeta.bind(this);\n\n\t\tthis.state = {\n\t\t\tisFavorite: false\n\t\t}\n\t}\n\n\t/* Get configuration and resource data */\n\tcomponentDidMount(){\t\t\n\t\tlet { resource } = this.props.params;\n\n\t\tthis.props.fetchResource(resource)\n\t\t.then(() => {\n\n\t\t\t// If this requires auth and not authed, go back\n\t\t\tif (this.requiresAuth() || this.props.resource.errorMessage){\n\t\t\t\tthis.context.router.push('/descobrir');\n\n\t\t\t// If allowed, get the favorite\n\t\t\t}else{\n\t\t\t\tthis.setState({\n\t\t\t\t\tisFavorite: this.props.resource.data.favorite || false\n\t\t\t\t});\t\n\n\t\t\t\tthis.props.fetchScripts(this.props.resource.data.id);\n\t\t\t}\n\t\t});\n\n\t\tthis.props.fetchConfig();\t\n\n\t}\n\n\tcomponentWillReceiveProps(nextProps){\n\t\t// Load new data when the dataSource property changes.\n\t\t// This is used for rating or favorite\n\t    if (nextProps.params.resource != this.props.params.resource) {\n\t    \tthis.props.fetchResource(nextProps.params.resource)\n\t\t\t.then(() => {\n\t\t\t\tthis.setState({\n\t\t\t\t\tisFavorite: this.props.resource.data.favorite || false\n\t\t\t\t});\n\t\t\t});\n\t    }\n\t}\n\n\trequiresAuth(){\n\t\t// If no Auth and is protected and finished fetching\n\t\tif (this.props.resource.data && !this.props.auth.isAuthenticated && this.props.resource.data.exclusive){\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tprintMeta(label, data){\n\t\treturn (data) ? <p><strong>{label}: </strong>\n\t\t{(() => { \n\t\t\tif(label=='Email'){\n\t\t \t\treturn <a href={\"mailto:\"+data}>{data}</a>\n\t\t\t}\n\t\t\treturn data \n\t\t})()}\n\t\t</p> : '';\n\t}\n\n\t// Set as favorite\n\tsetFavorite(){\n\t\tthis.setState({\n\t\t\tisFavorite: !this.state.isFavorite\n\t\t});\n\n\t\t/* CALL ACTION TO APPLY CHANGE */\n\t}\n\n\t//\tAfter delete\n\tdeleteCb(){\n\t\tthis.context.router.push('/descobrir');\n\t}\n\n\t// Set rating for this resource\n\tsetRating(rate){\n\t\tconsole.log(rate);\n\t}\n\n\t//\tScroll to comments\n\tscrollToComments(){\n\t\tvar el = document.getElementById(\"comentar\");        \n\t\tvar total = el.offsetTop;\n\t\twindow.scrollTo(0,total);\n\t}\n\n\trender() {\n\t\tconst { config, resource, auth, params } = this.props;\n\n\t\tif (!config.data || !resource.data || (resource && !resource.fetched)){\n\t\t\treturn null\n\t\t}\n\n\t\tconst { scripts } = this.props;\n\n\t\tconst { files, graphics } = config.data;\n\t\tconst resourceInfo = resource.data;\n\t\tconst resId = params.resource;\n\t\tconst { isAuthenticated } = auth;\n\n\t\treturn (\n\t\t\t<div className=\"resource-details\">\n\t\t\t\t<section className=\"container first-details\">\n\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t<div className=\"col-xs-12 col-sm-6\">\n\t\t\t\t\t\t\t<MediaDisplay \n\t\t\t\t\t\t\t\tfilesPath={files+\"/\"+resourceInfo.slug} \n\t\t\t\t\t\t\t\tgraphicsPath={graphics} \n\t\t\t\t\t\t\t\ttype={resourceInfo.Format.type} \n\t\t\t\t\t\t\t\tfile={resourceInfo.Files[0]} \n\t\t\t\t\t\t\t\tembed={resourceInfo.embed} />\n\t\t\t\t\t\t\t<MediaFooter \n\t\t\t\t\t\t\t\tgraphicsPath={graphics} \n\t\t\t\t\t\t\t\tfilesPath={files+\"/\"+resourceInfo.slug} \n\t\t\t\t\t\t\t\tisFavorite={this.state.isFavorite} \n\t\t\t\t\t\t\t\tsetFavorite={this.setFavorite} \n\t\t\t\t\t\t\t\tfile={resourceInfo.Files[0]} \n\t\t\t\t\t\t\t\turl={resourceInfo.link}/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"col-xs-12 col-sm-6\">\n\t\t\t\t\t\t\t<h1>{resourceInfo.title}</h1>\n\n\t\t\t\t\t\t\t{/* Admin features */}\n\t\t\t\t\t\t\t<IsAuthenticated>\n\t\t\t\t\t\t\t\t{(auth.data.user.id == resourceInfo.user_id || auth.data.user.role=='admin') &&\n\t\t\t\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-xs-12 admin-features\">\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t<Link to={\"/editarrecurso/\" + resourceInfo.slug} className=\"cta primary no-bg small\">Editar</Link>\n\t\t\t\t\t\t\t\t\t\t\t<DeleteResource className=\"cta primary no-bg small\" cb={this.deleteCb} item={resourceInfo.slug}>Eliminar</DeleteResource>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</IsAuthenticated>\n\n\t\t\t\t\t\t\t{/* Rating */}\n\t\t\t\t\t\t\t<div className=\"rating\">\n\t\t\t      \t\t\t\t<Rating initialRate={resourceInfo.ratingAvg} setRating={this.setRating} readonly={!isAuthenticated}/>\n\t\t\t      \t\t\t</div>\t\t\t      \t\t\t\n\n\t\t\t      \t\t\t{/* Authenticated feature */}\n\t\t\t      \t\t\t<IsAuthenticated>\n\t\t\t\t\t\t\t\t<div className=\"row details-buttons\">\n\t\t\t\t\t\t\t\t\t<div className=\"col-xs-12\">\n\t\t\t\t\t\t\t\t\t\t<button className=\"cta primary outline small\" onClick={this.scrollToComments}>Comentar Recurso</button>\n\t\t\t\t\t\t\t\t\t\t<Link to={\"/gerirguioes/\" + resourceInfo.slug} className=\"cta primary outline small\">Novo Guião</Link>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</IsAuthenticated>\n\n\t\t\t      \t\t\t{this.printMeta(\"Autor\", resourceInfo.author)}\n\t\t\t      \t\t\t{this.printMeta(\"Organização\", resourceInfo.organization)}\n\t\t\t      \t\t\t{this.printMeta(\"Email\", resourceInfo.email)}\n\n\t\t\t      \t\t\t<p>\n\t\t\t      \t\t\t\t{resourceInfo.description}\n\t\t\t      \t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{/* Tech File */}\n\t\t\t\t\t<TechFile details={resourceInfo} />\n\n\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t<div className=\"col-xs-12 op-proposal\">\n\t\t\t\t\t\t\t<h4>Proposta de Operacionalização</h4>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t{resourceInfo.operation}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<small>-- {resourceInfo.operation_author}</small>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</section>\n\n\t\t\t\t{/* Scripts */}\n\t\t\t\t<Scripts data={scripts.data} resource={resourceInfo.slug} />\n\n\t\t\t\t{/* Comments */}\n\t\t\t\t<section className=\"comments\" id=\"comentar\">\n\t\t\t\t\t<div className=\"container\">\n\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t<div className=\"col-xs-12\">\n\t\t\t\t\t\t\t\t<h1 className=\"text-center\">Comentários</h1>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<IsAuthenticated>\n\t\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t\t<div className=\"col-xs-12\">\n\t\t\t\t\t\t\t\t\t<h5> Escreva o seu comentário </h5>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</IsAuthenticated>\n\t\t\t\t\t\t<IsAuthenticated>\n\t\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t\t<div className=\"col-xs-12\">\n\t\t\t\t\t\t\t\t\t<CommentForm />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</IsAuthenticated>\n\n\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t<div className=\"col-xs-12\">\n\t\t\t\t\t\t\t\t<CommentsList source={resourceInfo.slug}/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</section>\n\n\t\t\t\t<RelatedResources origin={resourceInfo.slug}/>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nResourceDetails.contextTypes = {\n  router: PropTypes.object\n}","import React from 'react';\nimport { Component } from 'react';\n\nconst possibleExt = [ 'swf', 'mp3', 'wav', 'wma', 'jar' ];\n\n/**\n *\n *\tHelper functions\n * \n */\n//\n//\tShow placeholder\n//\nconst showPlaceholder = (graphicsPath, type) => {\n\treturn <img src={graphicsPath + \"/\" + type + \".jpg\"} className=\"img-responsive\" />\n}\n\n//\n//\tCheck if is an embedable extension\n//\nconst checkExtension = (ext) => {\t\n\treturn possibleExt.indexOf(ext)>=0;\n}\n\n//\n//\tInclude SWF Files\n//\nconst includeSwf = (filePath, fileName) => {\n\treturn <embed src={filePath+\"/\"+fileName} quality=\"high\" type=\"application/x-shockwave-flash\" width=\"100%\" height=\"300px\" SCALE=\"exactfit\" pluginspage=\"http://www.macromedia.com/go/getflashplayer\"></embed>;\n}\n\n/**\n * \n * Data type returns\n * \n */\nvar video = (meta) => {\n\tconst { embed } = meta;\n\n\tif (embed){\n\t\treturn <div dangerouslySetInnerHTML={{__html: embed}} className=\"embed-content\" /> || showPlaceholder(\"video\");\n\t}\n\n\treturn showPlaceholder(meta.graphicsPath, \"video\");\n}\n\nconst image = (meta) => {\n\tif (meta.file){\n\t\tconst { name, extension } = meta.file;\n\t\treturn <img src={meta.filesPath+\"/\"+name+\".\"+extension} className=\"img-responsive\" />\n\t}\t\n\n\treturn showPlaceholder(meta.graphicsPath, \"image\");\n}\n\nconst audio = (meta) => {\n\tif (meta.file){\n\t\tconst { name, extension } = meta.file;\n\n\t\tif (checkExtension(meta.file.extension) && name && extension){\n\t\t\treturn includeSwf(meta.filesPath, name+\".\"+extension);\n\t\t}\n\t}\n\n\treturn showPlaceholder(meta.graphicsPath, \"audio\");\n}\n\nconst simulation = (meta) => {\n\tif (meta.file){\n\t\tconst { name, extension } = meta.file;\n\n\t\tif (checkExtension(meta.file.extension) && name && extension){\n\t\t\treturn includeSwf(meta.filesPath, name+\".\"+extension);\n\t\t}\n\t}\n\t\n\n\treturn showPlaceholder(meta.graphicsPath, \"simulation\");\n}\n\nconst animation = (meta) => {\n\tif (meta.file){\n\t\tconst { name, extension } = meta.file;\n\n\t\tif (checkExtension(meta.file.extension) && name && extension){\n\t\t\treturn includeSwf(meta.filesPath, name+\".\"+extension);\n\t\t}\n\t}\n\n\treturn showPlaceholder(meta.graphicsPath, \"animation\");\n}\n\nconst text = (meta) => {\n\treturn showPlaceholder(meta.graphicsPath, \"text\");\n}\n\nconst calc = (meta) => {\n\treturn showPlaceholder(meta.graphicsPath, \"calc\");\n}\n\nconst game = (meta) => {\n\tif (meta.file){\n\t\tconst { name, extension } = meta.file;\n\n\t\tif (checkExtension(meta.file.extension) && name && extension){\n\t\t\treturn includeSwf(meta.filesPath, name+\".\"+extension);\n\t\t}\n\t}\n\n\treturn showPlaceholder(meta.graphicsPath, \"game\");\n}\n\n//\n//\tConvert given TYPE to FUNCTION and execute with given DATA\n//\nconst evalFunc = (func, props) => {\n\treturn eval(func).call(this, props);\n}\n\nexport default (props) => {\n\tconst { type, file } = props;\n\treturn (\n\t\t<div className=\"mediadisplay-container\">\n\t\t\t{type ? evalFunc(type, props) : \"\"}\n\t\t</div>\n\t);\n}","import React from 'react';\nimport { Component } from 'react';\n\nimport FavoriteIcon from '@/components/resources/actions/favorite';\nimport EmailIcon from '@/components/resources/actions/email';\nimport ShareIcon from '@/components/resources/actions/share';\nimport EmbedIcon from '@/components/resources/actions/embed';\n\nimport { setUrl } from '@/utils';\n\n/**\n *\n *\tHelper functions\n * \n */\nconst printAction = (filesPath, file, url) => {\n\tif (file){\n\t\treturn(\n\t\t\t<li>\n\t\t\t\t<a href={filesPath + \"/\" + file.name + \".\" + file.extension} download className=\"media__action media__action--main\"><i className=\"fa fa-download\"></i></a>\n\t\t\t</li>\n\t\t);\n\t}else if(url){\n\t\treturn(\n\t\t\t<li>\n\t\t\t\t<a href={setUrl(url)} target=\"_blank\" className=\"media__action media__action--main\"><i className=\"fa fa-link\"></i></a>\n\t\t\t</li>\n\t\t);\n\t}\n\n\treturn null;\n}\n\nexport default (props) => {\n\tconst { filesPath, file, url, setFavorite, isFavorite } = props;\n\t\n\treturn (\n\t\t<ul className=\"media-footer\">\n\t\t\t{printAction(filesPath, file, url)}\n\t\t\t<li>\n\t\t\t\t<FavoriteIcon isFavorite={isFavorite} setFavorite={setFavorite}/>\n\t\t\t</li>\n\t\t\t<li>\n\t\t\t\t<EmailIcon />\n\t\t\t</li>\n\t\t\t<li>\n\t\t\t\t<ShareIcon />\n\t\t\t</li>\n\t\t\t<li>\n\t\t\t\t<EmbedIcon />\n\t\t\t</li>\n\t\t</ul>\n\t);\n}","import React, { PropTypes } from 'react';\nimport { Link } from 'react-router';\n\n// Components\nimport {Tabs, Tab} from 'react-bootstrap';\nimport TechFile from '@/components/resources/techFile';\nimport IsAuthenticated from '@/containers/auth/isAuth';\n\nconst renderScripts = (scripts) => {\n\n\treturn (\n\t\t<Tabs defaultActiveKey={1} >\n\t\t\t{scripts.map((script, index) => {\n\t\t\t\treturn (\t\t\t\t\t\n\t\t\t\t\t<Tab eventKey={index+1} title={\"Guião \" + (index+1)} key={script.id}>\n\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t<div className=\"col-xs-12 col-sm-4\">\n\t\t\t\t\t\t\t\t<label>Autor:</label>\n\t\t\t\t\t\t\t\t{script.author}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"col-xs-12 col-sm-4\">\n\t\t\t\t\t\t\t\t<label>Email:</label>\n\t\t\t\t\t\t\t\t<a href={\"mailto:\"+script.email}>{script.email}</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"col-xs-12 col-sm-4\">\n\t\t\t\t\t\t\t\t<label>Organização:</label>\n\t\t\t\t\t\t\t\t{script.organization}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t<div className=\"col-xs-6 col-sm-3\">\n\t\t\t\t\t\t\t\t<label className=\"block\">Descrição</label>\n\t\t\t\t\t\t\t\t{script.description}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t<div className=\"col-xs-12 op-proposal\">\n\t\t\t\t\t\t\t\t<label className=\"block\">Proposta de Operacionalização</label>\n\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t{script.operation}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{/* Tech File */}\n\t\t\t\t\t\t<TechFile details={script} maxCol={3} showTitle={false} />\n\t\t\t\t\t</Tab>\n\t\t\t\t)\t\t\t\t\n\t\t\t})}\n\t\t</Tabs>\n\t)\n}\n\nconst ScriptsList = (props) => {\n\tconst { data, resource } = props;\n\n\tif (!data || data.length==0){\n\t\treturn (\n\t\t\t<section className=\"scripts-detail\">\n\t\t\t\t<div className=\"container text-center\">\n\t\t\t\t\t<h1>Guiões</h1>\n\t\t\t\t\t<p>Este recurso ainda não possui guiões. </p>\n\n\t\t\t\t\t<IsAuthenticated>\n\t\t\t\t\t\t<div className=\"text-center no-script\">\n\t\t\t\t\t\t\t<Link to={\"/gerirguioes/\"+resource} className=\"cta primary outline\">Publicar o primeiro Guião</Link>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</IsAuthenticated>\n\t\t\t\t</div>\n\t\t\t</section>\n\t\t);\n\t}\n\n\treturn(\n\t\t<section className=\"scripts-detail\">\n\t\t\t<div className=\"container\">\n\t\t\t\t<h1 className=\"text-center\">Guiões</h1>\n\t\t\t\t{renderScripts(data)}\n\t\t\t</div>\n\t\t</section>\n\t);\n}\n\nScriptsList.propTypes = {\n\tdata: PropTypes.array,\n\tresourceId: PropTypes.number\n}\n\nexport default ScriptsList","import React from 'react';\nimport { Component } from 'react';\nimport { AppCarousel as HighlightsCarousel } from './carousel';\n\nexport default class ResourceHighlights extends Component {\n\tconstructor(props){\n\t\tsuper(props);\n\t}\n\n\tcomponentDidMount(){\n\t\tthis.props.fetchHighlights();\t\t\n\t}\n\n\trender() {\n\t\tconst { data, fetched, isFetching } = this.props.highlights;\n\n\t\tif (!fetched || !data || data.length==0 || isFetching){\n\t\t\treturn (\n\t\t\t\t<div className=\"container no-highlights-header\">\n\t\t\t\t\t<div className=\"col-xs-12 text-center\">\n\t\t\t\t\t\t<h1>Bem vindo à plataforma REDA</h1>\t\t\t\t\t\t\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"col-xs-12 col-sm-6 col-sm-offset-3 text-center\">\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\tREDA é uma plataforma dedicada à disponibilização rápida e fácil de conteúdos educativos para qualquer aluno, professor ou utilizador, sem restrições.\n\t\t\t\t\t\t</p>\t\t\t\t\t\n\t\t\t\t\t</div>\t\t\t\t\t\n\t\t\t\t</div>\n\t\t\t)\n\t\t}\n\n\t\tvar settings = {\n\t\t\tinterval: 5000,\n\t\t\tindicators: true,\n\t\t\tnextIcon: <i className=\"fa fa-chevron-right\" aria-hidden=\"true\"></i>,\n\t\t\tprevIcon: <i className=\"fa fa-chevron-left\" aria-hidden=\"true\"></i>\n\t\t}\n\n\t\treturn (\n\t\t\t<HighlightsCarousel data={this.props.highlights} settings={settings} isAuthenticated={this.props.auth.isAuthenticated}/>\n\t\t);\n\t}\n}\n\nResourceHighlights.propTypes = {\n\thighlights: React.PropTypes.object.isRequired,\n\tauth: React.PropTypes.object.isRequired\n}","import React, { PropTypes } from 'react';\nimport { Component } from 'react';\nimport { Link } from 'react-router';\nimport _ from 'lodash';\n\n// Components\nimport { ResourcesList } from './common/list';\nimport ResourcesOrdering from './common/order';\nimport SearchBar from '@/components/search/searchBar';\nimport ResourcesFilters from '@/containers/filters';\nimport IsNotAuthenticated from '@/containers/auth/isNotAuth';\nimport LoginButton from '@/components/auth/loginButton';\nimport ProtectedButton from '@/components/auth/protectedButton';\nimport { Pagination, Alert, Button } from 'react-bootstrap';\n\nexport default class ResourcesListing extends Component {\n\tconstructor(props){\n\t\tsuper(props);\n\t\t\n\t\tthis.state = {\n\t\t\tactivePage: 1,\n\t\t\ttags: [],\n\t\t\torder: \"recent\",\n\t\t\tfilters: {}\n\t\t}\n\n\t\t//\n\t\t//\tEvent Handlers\n\t\t//\n\t\tthis.onChangePage = this.onChangePage.bind(this);\n\t\tthis.onChangeTags = this.onChangeTags.bind(this);\n\t\tthis.onSearchSubmit = this.onSearchSubmit.bind(this);\n\t\tthis.onListOrder = this.onListOrder.bind(this);\n\t\tthis.onFilterChange = this.onFilterChange.bind(this);\n\t\tthis.setHighlight = this.setHighlight.bind(this);\n\t\tthis.setFavorite = this.setFavorite.bind(this);\n\n\t\t//\n\t\t//\tHandle all changes\n\t\t//\n\t\tthis.requestNewResources = this.requestNewResources.bind(this);\n\t}\n\n\tcomponentDidMount(){\n\t\t// If there is any search, don't search again.\n\t\t// Else, do!\n\t\tif (!this.props.resources.fetched || this.props.resources.total==null || this.props.resources.total==undefined){\n\t\t\tthis.props.fetchResources('search')\n\t\t\t.then(() => {\n\t\t\t\t// Reset all filters and set current page if new request\n\t\t\t\tthis.props.resetFilters();\n\t\t\t\tthis.setState({activePage: this.props.resources.curPage || 1 });\n\t\t\t})\n\t\t}else{\n\t\t\tthis.setState({\n\t\t\t\tactivePage: 1,\n\t\t\t\ttags: this.props.filters.filters && this.props.filters.filters.tags ? this.props.filters.filters.tags : []\n\t\t\t});\n\t\t}\n\n\t\t// Get configurations\n\t\tthis.props.fetchConfig();\t\t\n\t}\n\n\t// Clear resources on unmount\n\tcomponentWillUnmount() {\n\t \tthis.props.resetResources();     \n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\tconst { activePage, tags, order } = this.state;\n\n\t\t// Request new resources if there is any change AND tags didn't change.\n\t\t// This avoids request new resources each time adding a new tag in the input. It is required to press the button\n\t \tif (JSON.stringify(prevState) !== JSON.stringify(this.state) && prevState.tags==tags){\n\t \t\tthis.requestNewResources();\n\t \t}\n\t}\n\n\t//\n\t//\tREQUEST NEW RESOURCES\n\t//\n\trequestNewResources(){\n\t\tthis.props.searchResources(this.state);\n\t}\n\n\t// When filters change\n\tonFilterChange(filters){\n\t\tthis.setState({filters, activePage: 1});\n\t}\n\n\t// Handle pagination\n\tonChangePage(event, selectedEvent) {\n\t\tif (selectedEvent){\n\t\t\tthis.setState({\n\t\t\t\tactivePage: selectedEvent.eventKey\n\t\t\t});\n\t\t}\t\t\n    }\n\n    // Handle list ordering\n    onListOrder(order){\n    \tthis.setState({\n\t\t\torder,\n\t\t\tactivePage: 1\n\t\t});\n    }\n\n    // Search resources by keyword\n    onSearchSubmit(){\n    \tthis.requestNewResources();\n    }\n\n    // Handle tags change to search by tag\n    onChangeTags(tags){\n    \tthis.setState({\n\t\t\ttags,\n\t\t\tactivePage: 1\n\t\t});\n    }\n\n    // Set as highlighted\n    setHighlight(resourceId){\n    \tthis.props.setHighlight(resourceId);\n    }\n\n    // Set as favorite\n    setFavorite(resourceId){\n    \tthis.props.setFavorite(resourceId);\n    }\n\n    // Alert that user is not authenticated\n    renderAlert(){\n    \treturn(\n    \t\t<section className=\"row\">\n    \t\t\t<div className=\"col-xs-12\">\n\t\t    \t\t<Alert bsStyle=\"warning\" className=\"alert\">\n\t\t    \t\t\t<p>Esta listagem pode conter resultados restritos ao utilizador não registado, pelo que aconselhamos que realize a sua autenticação.</p>\n\t\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t\t<LoginButton className=\"btn btn-warning\" location={this.props.location.pathname}>\n\t\t\t\t\t\t\t\tEntrar na REDA\n\t\t\t\t\t\t\t</LoginButton>\n\t\t\t\t\t\t</div>\n\t\t    \t\t</Alert>\n\t    \t\t</div>\n    \t\t</section>\n    \t);\n    }\n\n    // Render new resource button according to auth\n    renderNewResourceBtn(obj, target){\n\t\tif (this.props.auth.isAuthenticated){\n\t\t\treturn (\n\t\t\t\t<Link to={target} className=\"cta primary\">\n\t\t      \t\t{obj}\n\t\t      \t</Link>\n\t      \t)\n\t  \t}\n\n\t  \treturn(\n\t\t\t<ProtectedButton target={target} className=\"cta primary\">\n\t      \t\t{obj}\n\t      \t</ProtectedButton>\n\t  \t);\n\t}\n\n\trender() {\n\t\tconst { resources } = this.props;\n\n\t\tif (!resources.data)\n\t\t\treturn null;\n\t\t\n\t\tconst { isAuthenticated } = this.props.auth;\n\n\t\treturn (\n\t\t\t<div className=\"resources__page\">\n\t\t\t\t<div className=\"container\">\n\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t<div className=\"col-xs-12 col-md-3\">\n\t\t\t\t\t\t\t{/* Filters */}\n\t\t\t\t\t\t\t<ResourcesFilters onFilterChange={this.onFilterChange}/>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t{/* Contribute */}\n\t\t\t\t\t\t\t<section>\n\t\t\t\t\t\t\t\t<h6>Comece a contribuir</h6>\n\t\t\t\t\t\t\t\t{this.renderNewResourceBtn(\"Introduzir Recursos\",\"novorecurso\")}\n\t\t\t\t\t\t\t</section>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"col-xs-12 col-md-9\">\n\t\t\t\t\t\t\t{/* Search bar */}\n\t\t\t\t\t\t\t<SearchBar onSubmit={this.onSearchSubmit} onChangeTags={this.onChangeTags} tags={this.state.tags} className=\"resources-search\" />\n\n\t\t\t\t\t\t\t<section className=\"row\">\n\t\t\t\t\t\t\t\t<div className=\"col-xs-6\">\n\t\t\t\t\t\t\t\t\t{/* Total Results */}\n\t\t\t\t\t\t\t\t\t<h4><strong>{resources.total}</strong> <span className=\"de-emphasize\">Resultados</span></h4>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"col-xs-6\">\n\t\t\t\t\t\t\t\t\t{/* Ordering Options */}\n\t\t\t\t\t\t\t\t\t<ResourcesOrdering onChange={this.onListOrder} />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</section>\n\n\t\t\t\t\t\t\t{/* Warnings */}\n\t\t\t\t\t\t\t<IsNotAuthenticated>\n\t\t\t\t\t\t\t\t{this.renderAlert()}\n\t\t\t\t\t\t\t</IsNotAuthenticated>\n\n\t\t\t\t\t\t\t{/* Resources List */}\n\t\t\t\t\t\t\t<ResourcesList \n\t\t\t\t\t\t\t\tlist={resources} \n\t\t\t\t\t\t\t\tconfig={this.props.config.data} \n\t\t\t\t\t\t\t\tmaxcol={3} \n\t\t\t\t\t\t\t\taddscript \n\t\t\t\t\t\t\t\tisAuthenticated={isAuthenticated} \n\t\t\t\t\t\t\t\tsetHighlight={this.setHighlight} \n\t\t\t\t\t\t\t\tsetFavorite={this.setFavorite}\n\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t{/* Pagination */}\n\t\t\t\t\t\t\t{(() => {\n\t\t\t\t\t\t\t\tif (resources.data && resources.data.length>0){\n\t\t\t\t\t\t\t\t\treturn <Pagination\n\t\t\t\t\t\t\t\t\t        prev\n\t\t\t\t\t\t\t\t\t        next\n\t\t\t\t\t\t\t\t\t        first\n\t\t\t\t\t\t\t\t\t        last\n\t\t\t\t\t\t\t\t\t        ellipsis\n\t\t\t\t\t\t\t\t\t        boundaryLinks\n\t\t\t\t\t\t\t\t\t        items={resources.totalPages}\n\t\t\t\t\t\t\t\t\t        maxButtons={5}\n\t\t\t\t\t\t\t\t\t        activePage={this.state.activePage}\n\t\t\t\t\t\t\t\t\t        onSelect={this.onChangePage} />\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})()}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nResourcesListing.propTypes = {\n\tresources: PropTypes.object.isRequired,\n\tconfig: PropTypes.object.isRequired\n}","'use strict';\r\n\r\nimport React, { Component, PropTypes } from 'react';\r\nimport { reduxForm } from 'redux-form';\r\nimport { Link } from 'react-router';\r\nimport _ from 'lodash';\r\n\r\n// Components\r\nimport Tags from '@/components/common/tags';\r\nimport RadioGroup from '@/components/common/radioGroup';\r\nimport FileInput from '@/components/common/fileInput';\r\nimport TextArea from '@/components/common/textarea';\r\nimport CheckboxGroup from 'react-checkbox-group';\r\n\r\n// Validation\r\nimport validate from './validateFirstPage';\r\n\r\nexport const fields = [ \r\n  'title',\r\n  'author', \r\n  'email',\r\n  'organization',\r\n  'tags',\r\n  'format',\r\n  'file',\r\n  'embed',\r\n  'link',\r\n  'duration',\r\n  'access',\r\n  'techResources',\r\n  'description',\r\n  'exclusive',\r\n  'isOnline'\r\n]\r\n\r\n\r\n/**\r\n * FORM FIRST PAGE\r\n */\r\nclass NewResourceFormFirstPage extends Component {\r\n  constructor(props){\r\n    super(props);\r\n\r\n    //\r\n    //  Renders\r\n    //\r\n    this.renderAccess = this.renderAccess.bind(this);\r\n\r\n    //\r\n    //  Event handlers\r\n    //\r\n    this.setTags = this.setTags.bind(this);\r\n    this.setFormat = this.setFormat.bind(this);\r\n    this.setAccess = this.setAccess.bind(this);\r\n    this.setFile = this.setFile.bind(this);\r\n    this.onlineChange = this.onlineChange.bind(this);\r\n  }\r\n\r\n  componentDidMount(){\r\n    this.props.mapProps.fetchFormats();\r\n    this.props.mapProps.fetchAccess()\r\n    .then(() => {\r\n      // Set default to downloadable\r\n      _.forEach(this.props.mapProps.access.data, (mode) =>{    \r\n        mode.title==\"Descarregável\" && this.props.fields.access.onChange([mode.id]);\r\n      })\r\n    })\r\n  }\r\n\r\n  // On change TAGS\r\n  setTags(tags){\r\n    this.props.fields.tags.onChange(tags);\r\n  }\r\n\r\n  // On change FORMATS\r\n  setFormat(format){\r\n    this.props.fields.format.onChange(format);\r\n\r\n    // Set access mode\r\n    _.forEach(this.props.mapProps.access.data, (mode) =>{    \r\n      // If video, is online\r\n      if (format.type==\"video\" && mode.title==\"Online\"){\r\n        this.props.fields.access.onChange([mode.id]);\r\n      // If not, and if resource is not online, set to downloadable\r\n      }else if (format.type!=\"video\" && !this.props.fields.isOnline.value && mode.title==\"Descarregável\"){\r\n        this.props.fields.access.onChange([mode.id]);          \r\n      }\r\n    })\r\n    \r\n  }\r\n\r\n  // On change FORMATS\r\n  setAccess(access){\r\n    this.props.fields.access.onChange(access);\r\n  }\r\n\r\n  // On change FILE\r\n  setFile(file){\r\n    this.props.fields.file.onChange(file);\r\n  }\r\n\r\n  // On change FILE\r\n  onlineChange(e){\r\n    const { isOnline, format } = this.props.fields;\r\n\r\n    this.props.fields.isOnline.onChange(e);\r\n\r\n    // Set access mode based on resource location\r\n    if (this.props.mapProps.access && this.props.mapProps.access.data!=null){      \r\n      _.forEach(this.props.mapProps.access.data, (mode) =>{    \r\n        // If is online and this mode is online\r\n        if (isOnline.value && mode.title==\"Online\"){\r\n          this.props.fields.access.onChange([mode.id]);\r\n        // If is not online and is a file, set to downloadable\r\n        }else if (!isOnline.value && mode.title==\"Descarregável\"){\r\n          this.props.fields.access.onChange([mode.id]);          \r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  // Render access modes\r\n  renderAccess(){\r\n    const { access } = this.props.fields;\r\n    return(\r\n      <CheckboxGroup\r\n            name=\"access\"\r\n            value={access.value}\r\n            onChange={this.setAccess}\r\n          >\r\n            {\r\n              Checkbox => (\r\n                <div className=\"row\">\r\n                  {_.sortBy(this.props.mapProps.access.data, 'title').map((item,index) => {\r\n                    return (\r\n                      <div key={\"access-\"+item.id} className=\"col-xs-6\">\r\n                        <Checkbox value={item.id} id={\"access-\"+item.id}/> \r\n                        <label htmlFor={\"access-\"+item.id}>{item.title}</label>\r\n                      </div>\r\n                    )\r\n                  })}\r\n                </div>\r\n              )\r\n            }\r\n      </CheckboxGroup>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      fields: { \r\n        title, \r\n        author, \r\n        email, \r\n        organization, \r\n        tags, \r\n        file, \r\n        link, \r\n        embed, \r\n        duration, \r\n        format, \r\n        access, \r\n        techResources, \r\n        description, \r\n        exclusive, \r\n        isOnline \r\n      },\r\n      handleSubmit\r\n    } = this.props;\r\n\r\n    if (!this.props.mapProps.formats.data || !this.props.mapProps.access.data){\r\n      return null;\r\n    }\r\n    \r\n    const { formats } = this.props.mapProps;\r\n    \r\n    return (\r\n      <form onSubmit={handleSubmit} encType=\"multipart/form-data\" className=\"form first-page\">\r\n        <div className=\"row\">\r\n          <div className=\"col-xs-12 col-sm-6\">\r\n            <h1>Detalhes</h1>\r\n          </div> \r\n\r\n          <div className=\"col-xs-12 col-sm-6 switch-container text-right\">\r\n            <span>Reservado a docentes</span>\r\n            <label className=\"switch\">\r\n              <input type=\"checkbox\" {...exclusive}/>\r\n              <div className=\"slider round\"></div>\r\n            </label>\r\n          </div>       \r\n        </div>\r\n\r\n        {/* FIRST ROW */}\r\n        <div className=\"row\">\r\n          <div className=\"col-xs-12 col-sm-3\">\r\n            <label className=\"input-title\">Título*</label>\r\n            <div className={`form-group ${title.touched && title.invalid ? 'has-error' : ''}`}>\r\n              <input type=\"text\" className=\"form-control\" placeholder=\"Nome do seu recurso\" {...title}/>\r\n              {title.touched && title.error && <div className=\"text-danger\">{title.error}</div>}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"col-xs-12 col-sm-3\">\r\n            <label className=\"input-title\">Autor*</label>\r\n            <div className={`form-group ${author.touched && author.invalid ? 'has-error' : ''}`}>\r\n              <input type=\"text\" className=\"form-control\" placeholder=\"Nome do autor\" {...author}/>\r\n              {author.touched && author.error && <div className=\"text-danger\">{author.error}</div>}\r\n            </div>\r\n          </div>           \r\n        </div>\r\n\r\n        {/* SECOND ROW */}\r\n        <div className=\"row\">\r\n          <div className=\"col-xs-12 col-sm-3\">\r\n            <label className=\"input-title\">Email*</label>\r\n            <div className={`form-group ${email.touched && email.invalid ? 'has-error' : ''}`}>\r\n              <input type=\"email\" className=\"form-control\" placeholder=\"Email do núcleo ou docente\" {...email}/>\r\n              {email.touched && email.error && <div className=\"text-danger\">{email.error}</div>}\r\n            </div>\r\n          </div>\r\n          <div className=\"col-xs-12 col-sm-3\">\r\n            <label className=\"input-title\">Escola/Organização*</label>\r\n            <div className={`form-group ${organization.touched && organization.invalid ? 'has-error' : ''}`}>\r\n              <input type=\"text\" className=\"form-control\" placeholder=\"Nome da sua escola/organização\" {...organization}/>\r\n              {organization.touched && organization.error && <div className=\"text-danger\">{organization.error}</div>}\r\n            </div>\r\n          </div>   \r\n        </div>\r\n\r\n        {/* THIRD ROW */}\r\n        <div className=\"row\">\r\n          <div className=\"col-xs-12 col-sm-6\">\r\n            <label className=\"input-title\">Palavras-Chave*</label>\r\n            <div className={`form-group ${tags.touched && tags.invalid ? 'has-error' : ''}`}>\r\n              <Tags setTags={this.setTags} tags={tags.value} placeholder=\"Palavras-chave\"/>\r\n              {tags.touched && tags.error && <div className=\"text-danger\">{tags.error}</div>}\r\n              <small>Deve escolher entre 1 e 5 palavras</small>\r\n            </div>            \r\n          </div>\r\n        </div>\r\n\r\n        {/* FORMATS */}\r\n        <div className=\"row\">\r\n          <div className=\"col-xs-12 col-sm-6\">\r\n            <label className=\"input-title\">Formato*</label>\r\n            <div className={`form-group ${format.touched && format.invalid ? 'has-error' : ''}`}>\r\n              <RadioGroup list={formats.data} name=\"formats\" setRadio={this.setFormat} checked={format.value}/>\r\n              {format.touched && format.error && <div className=\"text-danger\">{format.error}</div>}\r\n            </div>            \r\n          </div>\r\n        </div>\r\n\r\n        {/* VIDEO DURATION IF SO */}\r\n        {(() => {\r\n            if(format.value.type=='video'){\r\n              return(\r\n                <div className=\"row\">\r\n                  <div className=\"col-xs-12 col-sm-6\">\r\n                    <label className=\"input-title\">Duração do vídeo*</label>\r\n                    <div className={`form-group ${duration.touched && duration.invalid ? 'has-error' : ''}`}>\r\n                      <input type=\"text\" className=\"form-control\" name=\"video-duration\" placeholder=\"ex: 01:02:00s\" {...duration} />\r\n                      {duration.touched && duration.error && <div className=\"text-danger\">{duration.error}</div>}\r\n                    </div>            \r\n                  </div>\r\n                </div>\r\n              )\r\n            }\r\n          })()}\r\n\r\n        {/* File */}\r\n        <div className=\"row\">\r\n          <div className=\"col-xs-12 col-sm-6\">\r\n            <label className=\"input-title\">Localização do recurso*</label>\r\n              {/* ONLINE CHECKBOX */}\r\n              {(() => {\r\n                if(format.value.type!='video'){\r\n                  return(\r\n                    <div>\r\n                      <input type=\"checkbox\" value=\"isOnline\" id=\"isOnline\" {...isOnline} onChange={this.onlineChange}/> \r\n                      <label htmlFor=\"isOnline\">Recurso encontra-se online</label>\r\n                    </div>\r\n                  )\r\n                }\r\n              })()}\r\n              \r\n              {/* CONDITIONAL INPUT FIELD */}\r\n              {(() => {\r\n                // If it is not online, and it is not a vide, set as a file upload\r\n                if(!isOnline.value && format.value.type!='video'){\r\n                    return (\r\n                      <div className={`form-group ${((file.touched || file.dirty) && file.invalid) ? 'has-error' : ''}`}>\r\n                        <FileInput setFile={this.setFile}/>\r\n                        <p><small>Tamanho máximo de ficheiro é de 100MB</small></p>\r\n                        {file.value && !file.error && <p><strong>Ficheiro: {file.value.name}.{file.value.extension}</strong></p>}\r\n                        {(file.touched || file.dirty) && file.error && <div className=\"text-danger\">{file.error}</div>}\r\n                      </div>\r\n                    )\r\n                }else if (isOnline.value || format.value.type=='video') {\r\n                  // If it is online or is a video, set the link or embed field\r\n                  return (\r\n                    <div className={`form-group ${(link.touched && link.invalid) || (embed.touched && embed.invalid) ? 'has-error' : ''}`}>\r\n                      <input type=\"text\" className=\"form-control\" name=\"link\" placeholder=\"Indique o endereço do recurso\" {...link} />\r\n                      {link.touched && link.error && <div className=\"text-danger\">{link.error}</div>}\r\n                      <small>ou</small>\r\n                      <input type=\"text\" className=\"form-control\" name=\"embed-video\" placeholder=\"Insira o código de incorporação\" {...embed} />\r\n                      {embed.touched && embed.error && <div className=\"text-danger\">{embed.error}</div>}\r\n                    </div>\r\n                  )\r\n                }\r\n              })()}\r\n\r\n          </div>\r\n        </div>\r\n\r\n        {/* ACCESS */}\r\n        <div className=\"row\">\r\n          <div className=\"col-xs-12 col-sm-6\">\r\n            <label className=\"input-title\">Modo de utilização*</label>\r\n            <div className={`form-group ${access.touched && access.invalid ? 'has-error' : ''}`}>\r\n              {this.renderAccess()}\r\n              {access.touched && access.error && <div className=\"text-danger\">{access.error}</div>}\r\n            </div>            \r\n          </div>\r\n        </div>\r\n\r\n        {/* TECH RESOURCES */}\r\n        <div className=\"row\">\r\n          <div className=\"col-xs-12\">\r\n            <label className=\"input-title\">Recursos Técnicos*</label>\r\n            <div className={`form-group ${techResources.touched && techResources.invalid ? 'has-error' : ''}`}>\r\n              <TextArea max=\"300\" min=\"20\" className=\"form-control\" placeholder=\"Este recurso requer a utilização de...\" field={techResources} />\r\n              {techResources.touched && techResources.error && <div className=\"text-danger\">{techResources.error}</div>}\r\n              \r\n            </div>            \r\n          </div>\r\n        </div>\r\n\r\n        {/* DESCRIPTION */}\r\n        <div className=\"row\">\r\n          <div className=\"col-xs-12\">\r\n            <label className=\"input-title\">Descrição*</label>\r\n            <div className={`form-group ${description.touched && description.invalid ? 'has-error' : ''}`}>\r\n              <TextArea max=\"300\" min=\"20\" className=\"form-control\" placeholder=\"Descreva este recurso sucintamente\" field={description} />\r\n              {description.touched && description.error && <div className=\"text-danger\">{description.error}</div>}\r\n            </div>            \r\n          </div>\r\n        </div>\r\n\r\n        {/* NEXT */}\r\n        <footer className=\"form-buttons\">\r\n          <button type=\"submit\" className=\"cta primary\">Continuar</button>\r\n          <Link to=\"/painel\" className=\"cta primary no-bg\">Cancelar</Link>\r\n        </footer>\r\n      </form>\r\n    )\r\n  }\r\n}\r\n\r\nNewResourceFormFirstPage.propTypes = {\r\n  fields: PropTypes.object.isRequired,\r\n  handleSubmit: PropTypes.func.isRequired\r\n}\r\n\r\nexport default reduxForm({\r\n  form: 'newResource',              // <------ same form name\r\n  fields,                      // <------ only fields on this page\r\n  destroyOnUnmount: false,     // <------ preserve form data\r\n  validate                     // <------ only validates the fields on this page\r\n},\r\nstate => ({\r\n  initialValues: {\r\n    isOnline: false,\r\n    exclusive: true,\r\n    tags: [],\r\n    access: [],\r\n    hasDomains: false\r\n  }\r\n}))(NewResourceFormFirstPage)","'use strict';\r\n\r\nimport React, { Component, PropTypes } from 'react';\r\nimport { reduxForm } from 'redux-form';\r\nimport { Link } from 'react-router';\r\nimport _ from 'lodash';\r\n\r\n// Components\r\nimport RadioGroup from '@/components/common/radioGroup';\r\nimport TextArea from '@/components/common/textarea';\r\nimport CheckboxGroup from 'react-checkbox-group';\r\n\r\n// Validation\r\nimport validate from './validateSecondPage';\r\n\r\nexport const fields = [ \r\n  'title',\r\n  'author', \r\n  'email',\r\n  'organization',\r\n  'tags',\r\n  'format',\r\n  'file',\r\n  'embed',\r\n  'duration',\r\n  'link',\r\n  'access',\r\n  'techResources',\r\n  'description',\r\n  'exclusive',\r\n  'isOnline',\r\n  'subjects',\r\n  'domains',\r\n  'years',\r\n  'language',\r\n  'op_proposal',\r\n  'op_proposal_author',\r\n  'accept_terms',\r\n  'hasDomains'\r\n]\r\n// ^^ All fields on last form\r\n\r\n\r\nclass NewResourceFormSecondPage extends Component {\r\n  constructor(props){\r\n    super(props);\r\n\r\n    //\r\n    //  Renders\r\n    //\r\n    this.renderSubjects = this.renderSubjects.bind(this);\r\n    this.renderYears = this.renderYears.bind(this);\r\n    this.renderErrors = this.renderErrors.bind(this);\r\n    \r\n    //\r\n    //  Event handlers\r\n    //\r\n    this.setSubject = this.setSubject.bind(this);\r\n    this.setDomains = this.setDomains.bind(this);\r\n    this.setYears = this.setYears.bind(this);\r\n    this.setLanguage = this.setLanguage.bind(this);\r\n\r\n    //\r\n    //  Helpers\r\n    //\r\n    this.domainsOfSubject = this.domainsOfSubject.bind(this);\r\n    this.hasDomains = this.hasDomains.bind(this);\r\n  }\r\n\r\n\r\n  componentDidMount(){\r\n    this.props.mapProps.fetchLanguages();\r\n    this.props.mapProps.fetchYears();\r\n    this.props.mapProps.fetchTerms();\r\n\r\n    this.props.mapProps.fetchSubjects();\r\n    this.props.mapProps.fetchDomainsWithSubject();\r\n  }\r\n\r\n  // Check if has domain\r\n  hasDomains(subjects){\r\n    let totalDomains = this.domainsOfSubject(subjects);\r\n    if (totalDomains && totalDomains.length>0){\r\n      this.props.fields.hasDomains.onChange(true);\r\n    }else{\r\n      this.props.fields.hasDomains.onChange(false);\r\n    }\r\n  }\r\n\r\n  // On change SUBJECTS\r\n  setSubject(group){\r\n    this.props.fields.domains.onChange([]);\r\n    this.props.fields.subjects.onChange(group);\r\n\r\n    // Are there any domains?\r\n    this.hasDomains(group);\r\n  }\r\n\r\n  // On change YEARS\r\n  setYears(group){\r\n    this.props.fields.years.onChange(group);\r\n  }\r\n\r\n  // On change YEARS\r\n  setDomains(group){\r\n    this.props.fields.domains.onChange(group);\r\n  }\r\n\r\n  // On change LANGUAGES\r\n  setLanguage(language){\r\n    this.props.fields.language.onChange(language);\r\n  }\r\n\r\n  // Render subjects list\r\n  renderSubjects(){\r\n    const { subjects } = this.props.fields;\r\n    return(\r\n      <CheckboxGroup\r\n            name=\"subjects\"\r\n            value={subjects.value}\r\n            onChange={this.setSubject}\r\n          >\r\n            {\r\n              Checkbox => (\r\n                <div className=\"row\">\r\n                  {_.sortBy(this.props.mapProps.subjects.data, 'title').map((item,index) => {\r\n                    return (\r\n                      <div key={\"subject-\"+item.id} className=\"col-xs-6\">\r\n                        <Checkbox value={item.id} id={\"subject-\"+item.id}/> \r\n                        <label htmlFor={\"subject-\"+item.id}>{item.title}</label>\r\n                      </div>\r\n                    )\r\n                  })}\r\n                </div>\r\n              )\r\n            }\r\n      </CheckboxGroup>\r\n    )\r\n  }\r\n\r\n  // Render subjects list\r\n  renderYears(){\r\n    const { years } = this.props.fields;\r\n    return(\r\n      <CheckboxGroup\r\n            name=\"years\"\r\n            value={years.value}\r\n            onChange={this.setYears}\r\n          >\r\n            {\r\n              Checkbox => (\r\n                <div className=\"row\">\r\n                  {_.sortBy(this.props.mapProps.years.data, 'title').map((item,index) => {\r\n                    return (\r\n                      <div key={\"year-\"+item.id} className=\"col-xs-6\">\r\n                        <Checkbox value={item.id} id={\"year-\"+item.id}/> \r\n                        <label htmlFor={\"year-\"+item.id}>{item.title}</label>\r\n                      </div>\r\n                    )\r\n                  })}\r\n                </div>\r\n              )\r\n            }\r\n      </CheckboxGroup>\r\n    )\r\n  }\r\n\r\n  // Render domains by subjects\r\n  renderDomains(){\r\n    const { domains, subjects } = this.props.fields;\r\n\r\n    // Get domains to present\r\n    const totalDomains = _.sortBy(this.domainsOfSubject(), 'title');\r\n\r\n    if ((!subjects.value || subjects.value.length==0) || !totalDomains || totalDomains.length==0){\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col-xs-12\">\r\n          <label className=\"input-title\">Domínios*</label>\r\n          <div className={`form-group ${domains.touched && domains.invalid ? 'has-error' : ''}`}>\r\n\r\n          {(() => {\r\n            if (totalDomains && totalDomains.length>0){\r\n              return(\r\n                <CheckboxGroup\r\n                      name=\"domains\"\r\n                      value={domains.value}\r\n                      onChange={this.setDomains}\r\n                    >\r\n                      {\r\n                        Checkbox => (\r\n                          <div className=\"row\">\r\n                            {totalDomains.map((item,index) => {\r\n                              return (\r\n                                <div key={\"domains-\"+item.id} className=\"col-xs-6 col-sm-3 domains-selection\">\r\n                                  <Checkbox value={item.id} id={\"domains-\"+item.id}/> \r\n                                  <label htmlFor={\"domains-\"+item.id}>{item.title}</label>\r\n                                </div>\r\n                              )\r\n                            })}\r\n                          </div>\r\n                        )\r\n                      }\r\n                </CheckboxGroup>\r\n              )\r\n            }\r\n          })()}            \r\n            {domains.touched && domains.error && <div className=\"text-danger\">{domains.error}</div>}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  // Check if domains are in any subject\r\n  // DOMAINS MUST BE PROVIDED WITH THEIR SUBJECTS ASSOCIATED\r\n  domainsOfSubject(givenSubjects){\r\n    let subjects = givenSubjects || this.props.fields.subjects;\r\n\r\n    const { domains } = this.props.mapProps;\r\n\r\n    // Make copy of domains to maintain immutable\r\n    let domainsCopy = _.assign([], domains.data);\r\n\r\n    // Are any subjects selected\r\n    if ((subjects && subjects instanceof Array && subjects.length>0) || (subjects.value && subjects.value.length>0)){\r\n      domainsCopy = _.filter(domainsCopy, (domain) => {\r\n        let exists = false;\r\n\r\n        // If domain subjects was selected\r\n        for (let domainSubject of domain.Subjects){\r\n          exists = subjects.value ? subjects.value.indexOf(domainSubject.id) >= 0 : subjects.indexOf(domainSubject.id) >= 0;\r\n        }\r\n\r\n        return exists;\r\n      });\r\n\r\n      // Avoid returning duplicates\r\n      return _.uniqBy(domainsCopy, 'title');\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  renderErrors(){\r\n    const { errorMessage } = this.props.mapProps.resource;\r\n\r\n    if (errorMessage && errorMessage.form_errors){\r\n      return (\r\n        <div class=\"alert alert-danger\" role=\"alert\">\r\n          <ul>\r\n            {errorMessage.form_errors.map(error => {\r\n              return <li>{error}</li>\r\n            })}\r\n          </ul>\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      fields: { op_proposal, op_proposal_author, subjects, years, language, accept_terms, domains },\r\n      handleSubmit,\r\n      previousPage,\r\n      submitting\r\n      } = this.props;\r\n\r\n    const { mapProps } = this.props;\r\n    \r\n    if (!mapProps.subjects.data || !mapProps.domains.data || !mapProps.years.data || !mapProps.languages.data || !mapProps.terms.data){\r\n      return null;\r\n    }\r\n        \r\n    return (\r\n      <form onSubmit={handleSubmit} className=\"form second-page\">\r\n        {this.renderErrors()}  \r\n\r\n        <div className=\"row\">\r\n          <div className=\"col-xs-12 col-sm-6\">\r\n            <h1>Metadados</h1>\r\n          </div>       \r\n        </div>\r\n\r\n        {/* SUBJECTS, YEARS AND LANGUAGES */}\r\n        <div className=\"row\">\r\n          {/* SUBJECTS */}\r\n          <div className=\"col-xs-12 col-sm-4\">\r\n            <label className=\"input-title\">Disciplinas*</label>\r\n            <div className={`form-group ${subjects.touched && subjects.invalid ? 'has-error' : ''}`}>\r\n              {this.renderSubjects()}\r\n              {subjects.touched && subjects.error && <div className=\"text-danger\">{subjects.error}</div>}\r\n            </div>\r\n          </div>\r\n          \r\n          {/* YEARS */}\r\n          <div className=\"col-xs-12 col-sm-4\">\r\n            <label className=\"input-title\">Anos*</label>\r\n            <div className={`form-group ${years.touched && years.invalid ? 'has-error' : ''}`}>\r\n              {this.renderYears()}\r\n              {years.touched && years.error && <div className=\"text-danger\">{years.error}</div>}\r\n            </div>\r\n          </div>\r\n\r\n          {/* LANGUAGES */}\r\n          <div className=\"col-xs-12 col-sm-4\">\r\n            <label className=\"input-title\">Idiomas*</label>\r\n            <div className={`form-group ${language.touched && language.invalid ? 'has-error' : ''}`}>\r\n              <RadioGroup list={mapProps.languages.data} name=\"languagess\" setRadio={this.setLanguage} checked={language.value} singleCol={true}/>\r\n              {language.touched && language.error && <div className=\"text-danger\">{language.error}</div>}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* DOMAINS */}\r\n        {this.renderDomains()}\r\n\r\n        {/* OPERATION PROPOSAL */}\r\n        <div className=\"row\">\r\n          <div className=\"col-xs-12\">\r\n            <label className=\"input-title\">Proposta de Operacionalização*</label>\r\n            <div className={`form-group ${op_proposal.touched && op_proposal.invalid ? 'has-error' : ''}`}>\r\n              <TextArea max={800} min={20} className=\"form-control\" placeholder=\"Indique como este recurso pode ser utilizado/operacionalizado\" field={op_proposal} />\r\n              {op_proposal.touched && op_proposal.error && <div className=\"text-danger\">{op_proposal.error}</div>}\r\n            </div>            \r\n          </div>\r\n        </div>\r\n        <div className=\"row\">\r\n          <div className=\"col-xs-12 col-sm-6\">\r\n            <label className=\"input-title\">Autor da proposta*</label>\r\n            <div className={`form-group ${op_proposal_author.touched && op_proposal_author.invalid ? 'has-error' : ''}`}>\r\n              <input type=\"text\" className=\"form-control\" placeholder=\"Autor da proposta\" {...op_proposal_author}/>\r\n              {op_proposal_author.touched && op_proposal_author.error && <div className=\"text-danger\">{op_proposal_author.error}</div>}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* TERMS AND CONDITIONS */}\r\n        <div className=\"row\">\r\n          <div className=\"col-xs-12\">\r\n            <h1>Termos e Condições</h1>\r\n            <p dangerouslySetInnerHTML={{__html: mapProps.terms.data.acceptance}} />\r\n            \r\n            <div className=\"license\">\r\n              <a rel=\"license\" href=\"http://creativecommons.org/licenses/by-sa/4.0/\">\r\n                <img alt=\"Licença Creative Commons\" src=\"https://i.creativecommons.org/l/by-sa/4.0/88x31.png\" className=\"img-responsive\"/>\r\n              </a>\r\n            </div>\r\n\r\n            <div className=\"terms-conditions\">\r\n              <input type=\"checkbox\" value=\"accept_terms\" id=\"accept_terms\" {...accept_terms}/> \r\n              <label htmlFor=\"accept_terms\">Li e concordo com os “Termos e condições” de submissão.</label> \r\n              {accept_terms.touched && accept_terms.error && <div className=\"text-danger\">{accept_terms.error}</div>}\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n\r\n        <footer className=\"form-buttons\">\r\n          <button type=\"button\" disabled={submitting} onClick={previousPage} className=\"cta primary outline\">\r\n            Anterior\r\n          </button>\r\n          <button type=\"submit\" disabled={submitting} className=\"cta primary\">\r\n            {submitting ? <i className='fa fa-spinner fa-spin'></i> : \"\"} {mapProps.resource.data && mapProps.resource.data.id ? \"Guardar Alterações\" : \"Criar Recurso\"}\r\n          </button>\r\n          <Link to=\"/painel\" className=\"cta no-bg\">Cancelar</Link>\r\n        </footer>\r\n      </form>\r\n    )\r\n  }\r\n}\r\n\r\nNewResourceFormSecondPage.propTypes = {\r\n  fields: PropTypes.object.isRequired,\r\n  handleSubmit: PropTypes.func.isRequired,\r\n  previousPage: PropTypes.func.isRequired,\r\n  submitting: PropTypes.bool.isRequired\r\n}\r\n\r\nexport default reduxForm({\r\n  form: 'newResource',              // <------ same form name\r\n  fields,                      // <------ all fields on last wizard page\r\n  destroyOnUnmount: false,     // <------ preserve form data\r\n  validate                     // <------ only validates the fields on this page\r\n})(NewResourceFormSecondPage)","const allowedExt = [\"gif\",\"jpeg\",\"jpg\",\"png\",\"rtf\", \"doc\",\"docx\",\"odt\",\"txt\",\"mp3\",\"wav\",\"wma\",\"jar\",\"ggb\",\"swf\",\"jnlp\"];\n\nconst validate = values => {\n  const errors = {}\n\n  // Title\n  if (!values.title) {\n    errors.title = 'O campo é obrigatório'\n  }\n\n  // Author\n  if (!values.author) {\n    errors.author = 'O campo é obrigatório'\n  }\n\n  // Email\n  if (!values.email) {\n    errors.email = 'O campo é obrigatório'\n  } else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(values.email)) {\n    errors.email = 'E-mail inserido não é válido';\n  }\n\n  // Organization\n  if (!values.organization) {\n    errors.organization = 'O campo é obrigatório'\n  }\n\n  // Tags\n  if (!values.tags) {\n    errors.tags = 'O campo é obrigatório'\n  } else if (values.tags.length==0 || values.tags.length > 5) {\n    errors.tags = 'Deve ter entre 1 e 5 palavras-chave'\n  }\n\n  // Formats\n  if (!values.format) {\n    errors.format = 'O campo é obrigatório'\n  }\n\n  // File\n  if (!values.isOnline && !values.file && ( values.format && values.format.type!=\"video\")){\n    errors.file = 'Campo é obrigatório'\n  }else if (!values.isOnline && values.file && values.file.size && values.file.size>1000000) {\n    errors.file = 'Ficheiro não deve exceder os 1 MB'\n  }else if(!values.isOnline && values.format && values.format.type!=\"video\" && values.file && values.file.extension && allowedExt.indexOf(values.file.extension.toLowerCase())<0){\n    errors.file = `Extensão .${values.file.extension} não é permitida`\n  }\n\n  // Duration\n  if (values.format && values.format.type==\"video\" && !values.duration){\n    errors.duration = 'Campo é obrigatório'\n  }\n\n  // Embed\n  if (values.format && values.format.type==\"video\" && !values.embed && !values.link){\n    errors.embed = 'Campo é obrigatório'\n  }\n\n  // Link\n  if (values.isOnline && (!values.link && !values.embed)){\n    errors.embed = 'Campo é obrigatório'\n  }\n\n  // Access modes\n  if (!values.access || values.access.length==0) {\n    errors.access = 'O campo é obrigatório'\n  }\n\n  // Tech Resources\n  if (!values.techResources) {\n    errors.techResources = 'O campo é obrigatório'\n  } else if (values.techResources.length < 20) {\n    errors.techResources = 'Deve ter pelo menos 20 caracteres'\n  } else if (values.techResources.length > 300) {\n    errors.techResources = 'Apenas deve conter no máximo 300 caracteres'\n  }\n\n  // Description\n  if (!values.description) {\n    errors.description = 'O campo é obrigatório'\n  } else if (values.description.length < 20) {\n    errors.description = 'Deve ter pelo menos 20 caracteres'\n  } else if (values.description.length > 300) {\n    errors.description = 'Apenas deve conter no máximo 300 caracteres'\n  }\n\n  return errors\n}\n\nexport default validate","const validate = values => {\n  const errors = {}\n\n  // Subjects\n  if (!values.subjects || values.subjects.length==0) {\n    errors.subjects = 'Campo é obrigatório'\n  }\n\n  // Domains\n  if (values.hasDomains && (!values.domains || values.domains.length==0)) {\n    errors.domains = 'Campo é obrigatório'\n  }\n\n  // Years\n  if (!values.years || values.years.length==0) {\n    errors.years = 'Campo é obrigatório'\n  }\n\n  // Languages\n  if (!values.language) {\n    errors.language = 'Campo é obrigatório'\n  }\n\n  // Op Proposal\n  if (!values.op_proposal) {\n    errors.op_proposal = 'O campo é obrigatório'\n  } else if (values.op_proposal.length < 20) {\n    errors.op_proposal = 'Deve ter pelo menos 20 caracteres'\n  } else if (values.op_proposal.length > 800) {\n    errors.op_proposal = 'Apenas deve conter no máximo 800 caracteres'\n  }\n\n  // Op proposal author\n  if (!values.op_proposal_author) {\n    errors.op_proposal_author = 'Campo é obrigatório'\n  }\n\n  // Accepted terms\n  if (!values.accept_terms) {\n    errors.accept_terms = 'Deve aceitar os termos e condições para criar o recurso'\n  }\n\n  return errors\n}\n\nexport default validate","import React from 'react';\r\nimport { Component } from 'react';\r\nimport { ResourcesList }  from './common/list';\r\n\r\nexport default class RecentResources extends Component {\r\n\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\r\n\t\t//\r\n\t\t//\tEvent handlers\r\n\t\t//\r\n\t\tthis.setHighlight = this.setHighlight.bind(this);\r\n\t\tthis.setFavorite = this.setFavorite.bind(this);\r\n\t}\r\n\r\n\tcomponentDidMount(){\r\n\t\tthis.props.fetchResources('recent');\r\n\t\tthis.props.fetchConfig();\t\t\r\n\t}\r\n\r\n\tcomponentWillUpdate(nextProps, nextState) {\r\n\t    if (nextProps.auth.isAuthenticated != this.props.auth.isAuthenticated){\r\n\t \t\tthis.props.fetchResources('recent');\r\n\t \t}  \r\n\t}\r\n\r\n\t// Set as highlighted\r\n    setHighlight(resourceId){\r\n    \tthis.props.setHighlight(resourceId);\r\n    }\r\n\r\n    // Set as favorite\r\n    setFavorite(resourceId){\r\n    \tthis.props.setFavorite(resourceId);\r\n    }\r\n\r\n\trender() {\r\n\t\tif (!this.props.resources.data || !this.props.resources.fetched)\r\n\t\t\treturn null;\r\n\t\t\r\n\t\tconst { isAuthenticated } = this.props.auth;\r\n\r\n\t\treturn (\r\n\t\t\t<section className=\"resources__recent\">\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col-xs-12\">\r\n\t\t\t\t\t\t\t<h1 className=\"resources__title\">Últimos Recursos</h1>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{this.props.resources.data.length > 0 ?\r\n\t\t\t\t\t\t<ResourcesList \r\n\t\t\t\t\t\t\tlist={this.props.resources} \r\n\t\t\t\t\t\t\tconfig={this.props.config.data} \r\n\t\t\t\t\t\t\tmaxcol={4} \r\n\t\t\t\t\t\t\tviewmore \r\n\t\t\t\t\t\t\tisAuthenticated={isAuthenticated}\r\n\t\t\t\t\t\t\tsetHighlight={this.setHighlight}\r\n\t\t\t\t\t\t\tsetFavorite={this.setFavorite}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t:\r\n\t\t\t\t\t\t<p className=\"text-center\">Ainda não existem recursos na plataforma.</p>\r\n\t\t\t\t}\r\n\t\t\t\t</div>\r\n\t\t\t</section>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nRecentResources.propTypes = {\r\n\tresources: React.PropTypes.object.isRequired,\r\n\tconfig: React.PropTypes.object.isRequired\r\n}","import React, { PropTypes } from 'react';\nimport { Component } from 'react';\n\n// Components\nimport { ResourcesList } from './common/list';\n\nexport default class RelatedResources extends Component {\n\n\tconstructor(props){\n\t\tsuper(props);\n\t}\n\n\tcomponentDidMount(){\n\t\tlet { origin } = this.props;\n\t\tthis.props.fetchRelatedResources(origin);\t\n\t\tthis.props.fetchConfig();\t\t\n\t}\n\n\trender() {\n\t\tif (this.props.relatedResources.fetched && (!this.props.relatedResources.data || this.props.relatedResources.data.length==0))\n\t\t\treturn null;\n\t\t\n\t\tconst { isAuthenticated } = this.props.auth;\n\n\t\treturn (\n\t\t\t<section className=\"resources__recent\">\n\t\t\t\t<div className=\"container\">\n\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t<div className=\"col-xs-12 text-left\">\n\t\t\t\t\t\t\t<h2 className=\"resources__title\">Outros recursos relacionados</h2>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<ResourcesList \n\t\t\t\t\t\tlist={this.props.relatedResources} \n\t\t\t\t\t\tconfig={this.props.config.data} \n\t\t\t\t\t\tmaxcol={3} \n\t\t\t\t\t\tviewmore \n\t\t\t\t\t\tisAuthenticated={isAuthenticated} \n\t\t\t\t\t\thideOptions={true}/>\n\t\t\t\t</div>\n\t\t\t</section>\n\t\t);\n\t}\n}\n\nRelatedResources.propTypes = {\n\trelatedResources: PropTypes.object.isRequired,\n\torigin: PropTypes.string.isRequired,\n\tconfig: PropTypes.object.isRequired,\n\tauth: PropTypes.object.isRequired\n}","import React, { PropTypes } from 'react';\n\nconst renderList = (items) => {\n\treturn (\n\t\t<ul>\n\t\t\t{items.map(item => {\n\t\t\t\treturn <li key={item.id}>{item.title}</li>\n\t\t\t})}\n\t\t</ul>\n\t)\n}\n\nconst techFile = (props) => {\n\tvar showTitle = false;\n\n\tconst { Years, Domains, Subjects, Languages, techResources } = props.details;\n\n\t//\n\t//\tShow section title?\n\t//\n\tif ((Years && Years.length>0) || \n\t\tDomains && Domains.length>0 ||\n\t\tSubjects && Subjects.length>0 || \n\t\tLanguages && Languages.length>0 || \n\t\ttechResources && techResources.length>0){\n\n\t\tshowTitle = props.showTitle!=null ? props.showTitle : true;\n\t}\n\n\t//\n\t//\tSet number of columns\n\t//\n\tlet maxCol = props.maxCol || 4;\n\tlet classColCount = Math.floor(12/maxCol);\n\n\treturn(\n\t\t<div className=\"row tech-file\">\n\t\t\t{showTitle && <div className=\"col-xs-12 text-center\">\n\t\t\t\t<h2>Ficha Técnica</h2>\n\t\t\t</div>}\n\t\t\t{Years && Years.length>0 && <div className={\"col-xs-12 col-sm-6 col-md-\" + classColCount}>\n\t\t\t\t<h4>Anos</h4>\t\n\t\t\t\t{renderList(Years)}\t\t\n\t\t\t</div>}\t\t\t\n\t\t\t{Subjects && Subjects.length>0 && <div className={\"col-xs-12 col-sm-6 col-md-\" + classColCount}>\n\t\t\t\t<h4>Disciplinas</h4>\n\t\t\t\t{renderList(Subjects)}\t\t\t\n\t\t\t</div>}\n\t\t\t{Domains && Domains.length>0 && <div className={\"col-xs-12 col-sm-6 col-md-\" + classColCount}>\n\t\t\t\t<h4>Domínios</h4>\n\t\t\t\t{renderList(Domains)}\t\n\t\t\t</div>}\n\t\t\t{Languages && Languages.length>0 && <div className={\"col-xs-12 col-sm-6 col-md-\" + classColCount}>\n\t\t\t\t<h4>Idioma</h4>\t\n\t\t\t\t{renderList(Languages)}\t\t\n\t\t\t</div>}\n\t\t\t{techResources && techResources.length>0 && <div className=\"col-xs-12 col-sm-6 col-md-12\">\n\t\t\t\t<h4>Requisitos Técnicos</h4>\t\n\t\t\t\t{techResources}\t\t\n\t\t\t</div>}\n\t\t</div>\n\t);\n}\n\ntechFile.propTypes = {\n\tdetails: PropTypes.object.isRequired,\n\tmaxCol: PropTypes.number\n}\n\nexport default techFile","import React, { Component, PropTypes } from 'react';\nimport CheckboxGroup from 'react-checkbox-group';\n\nimport _ from 'lodash';\n\nexport default class DomainsList extends Component{\n\tconstructor(props){\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tscriptDomains: null\n\t\t}\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\t\t\n\t    this.setState({\n\t    \tscriptDomains: nextProps.script.domains.value\n\t    })\n\t}\n\n\tsetDomains(index, group){\n\t\tthis.props.setDomains(index, group);\n\t}\n\n\t// Check if domains are in any subject\n\t// DOMAINS MUST BE PROVIDED WITH THEIR SUBJECTS ASSOCIATED\n\tdomainsOfSubject(script, domains){\n\n\t\t// Make copy of domains to maintain immutable\n\t\tlet domainsCopy = _.assign([], domains.data);\n\n\t\t// Are any subjects selected\n\t\tif (script.subjects.value && script.subjects.value.length>0){\n\t\n\t\t  domainsCopy = _.filter(domainsCopy, (domain) => {\n\t\t    let exists = false;\n\n\t\t    // If domain subjects was selected\n\t\t    for (let domainSubject of domain.Subjects){\n\t\t      exists = script.subjects.value.indexOf(domainSubject.id) >= 0;\n\t\t    }\n\n\t\t    return exists;\n\t\t  });\n\n\t\t  // Avoid returning duplicates\n\t\t  return _.uniqBy(domainsCopy, 'title');\n\t\t}\n\n\t\treturn null;\n\t}\n\n\trender(){\n\t\tconst { script, scriptIndex, setDomains, domains } = this.props;\n\t\t\n\t\t// Get domains to present\n    \tconst totalDomains = _.sortBy(this.domainsOfSubject(script, domains), 'title');\n\n \t\tif ((!script.subjects.value || script.subjects.value.length==0) || !totalDomains || totalDomains.length==0){\n \t\t\treturn null;\n \t\t}\n\n\t\treturn (\n\t      <div className=\"row\">\n\t        <div className=\"col-xs-12\">\n\t          <label className=\"input-title\">Domínios*</label>\n\t          <div className={`form-group ${script.domains.touched && script.domains.invalid ? 'has-error' : ''}`}>\n\n\t          {(() => {\n\t    \n\t            if (totalDomains && totalDomains.length>0){            \t\n\t              return(\n\t                <CheckboxGroup\n\t                      name={\"domains-checkbox-\"+scriptIndex}\n\t                      value={this.state.scriptDomains}\n\t                      onChange={this.setDomains.bind(this, scriptIndex)}\n\t                    >\n\t                      {\t                     \n\t                        Checkbox => (\n\t                          <div className=\"row\">\n\t                            {totalDomains.map((item,index) => {\n\t                              return (\n\t                                <div key={\"domains-\" + scriptIndex + \"-\" +item.id} className=\"col-xs-6 col-sm-3 domains-selection\">\n\t                                  <Checkbox value={item.id} id={\"domains-\" + scriptIndex + \"-\" + item.id}/> \n\t                                  <label htmlFor={\"domains-\" + scriptIndex + \"-\" +item.id}>{item.title}</label>\n\t                                </div>\n\t                              )\n\t                            })}\n\t                          </div>\n\t                        )\n\t                      }\n\t                </CheckboxGroup>\n\t              )\n\t            }\n\t          })()}            \n\t            {script.domains.touched && script.domains.error && <div className=\"text-danger\">{script.domains.error}</div>}\n\t          </div>\n\t        </div>\n\t      </div>\n\t    )\n\t}\n}\n\nDomainsList.propTypes = {\n\tscript: PropTypes.object.isRequired,\n\tscriptIndex: PropTypes.number.isRequired,\n\tsetDomains: PropTypes.func.isRequired,\n\tdomains: PropTypes.object.isRequired\n}","'use strict';\r\n\r\nimport React, { Component, PropTypes } from 'react';\r\nimport { reduxForm } from 'redux-form';\r\nimport { Link } from 'react-router';\r\nimport _ from 'lodash';\r\n\r\n// Components\r\nimport RadioGroup from '@/components/common/radioGroup';\r\nimport TextArea from '@/components/common/textarea';\r\nimport Collapsible from '@/components/common/collapse';\r\nimport CheckboxGroup from 'react-checkbox-group';\r\nimport DomainsSelection from './common/domains';\r\n\r\n// Validation\r\nimport validate from './validate';\r\n\r\nexport const fields = [ \r\n  'scripts[].id',\r\n  'scripts[].title', \r\n  'scripts[].email',\r\n  'scripts[].organization',\r\n  'scripts[].author',\r\n  'scripts[].description',\r\n  'scripts[].subjects',\r\n  'scripts[].domains',\r\n  'scripts[].years',\r\n  'scripts[].op_proposal',\r\n  'scripts[].op_proposal_author',\r\n  'accept_terms',\r\n  'scripts[].hasDomains'\r\n]\r\n// ^^ All fields on last form\r\n\r\n\r\nclass NewScriptForm extends Component {\r\n  constructor(props){\r\n    super(props);\r\n\r\n    //\r\n    //  Renders\r\n    //\r\n    this.renderSubjects = this.renderSubjects.bind(this);\r\n    this.renderYears = this.renderYears.bind(this);\r\n\r\n    //\r\n    //  Event Handlers\r\n    //\r\n    this.setDomains = this.setDomains.bind(this);\r\n    this.removeEl = this.removeEl.bind(this);\r\n\r\n    //\r\n    //  Helpers\r\n    //\r\n    this.domainsOfSubject = this.domainsOfSubject.bind(this);\r\n    this.hasDomains = this.hasDomains.bind(this);\r\n  }\r\n\r\n\r\n  componentDidMount(){\r\n    this.props.mapProps.fetchYears();\r\n    this.props.mapProps.fetchTerms();\r\n\r\n    this.props.mapProps.fetchSubjects();\r\n    this.props.mapProps.fetchDomainsWithSubject();\r\n  }\r\n\r\n  // Delete script\r\n  removeEl(formScripts, index){\r\n    const { scripts, deleteScript } = this.props.mapProps;\r\n    const { refreshScripts } = this.props;\r\n\r\n    if (confirm('Tem a certeza que deseja eliminar este guião?')){\r\n      formScripts.removeField(index);\r\n      if (scripts.data.length>0 && scripts.data[index] && scripts.data[index].id){\r\n        deleteScript(scripts.data[index].id)\r\n        .then(() => refreshScripts())\r\n      }      \r\n    }    \r\n  }\r\n\r\n  // Check if has domain\r\n  hasDomains(subjects, el){\r\n    let totalDomains = this.domainsOfSubject(subjects);\r\n    if (totalDomains && totalDomains.length>0){\r\n      el.onChange(true);\r\n    }else{\r\n      el.onChange(false);\r\n    }\r\n  }\r\n\r\n  // On change SUBJECTS\r\n  setSubject(scriptIndex, group){   \r\n    this.props.fields.scripts[scriptIndex].domains.onChange([]); \r\n    this.props.fields.scripts[scriptIndex].subjects.onChange(group);  \r\n\r\n    // Are there any domains?\r\n    this.hasDomains(group, this.props.fields.scripts[scriptIndex].hasDomains);\r\n  }\r\n\r\n  // On change YEARS\r\n  setYears(scriptIndex, group){\r\n    this.props.fields.scripts[scriptIndex].years.onChange(group);\r\n  }\r\n\r\n  // On change YEARS\r\n  setDomains(scriptIndex, group){\r\n    this.props.fields.scripts[scriptIndex].domains.onChange(group);\r\n  }\r\n\r\n  // Render subjects list\r\n  renderSubjects(script, scriptIndex){\r\n    return(\r\n      <CheckboxGroup\r\n            name={\"subjects-checkbox-\"+scriptIndex}\r\n            value={script.subjects.value}\r\n            onChange={this.setSubject.bind(this, scriptIndex)}\r\n          >\r\n            {\r\n              Checkbox => (\r\n                <div className=\"row\">\r\n                  {_.sortBy(this.props.mapProps.subjects.data, 'title').map((item,index) => {\r\n                    return (\r\n                      <div key={\"subject-\" + scriptIndex + \"-\" +item.id} className=\"col-xs-6\">\r\n                        <Checkbox value={item.id} id={\"subject-\" + scriptIndex + \"-\" + item.id}/> \r\n                        <label htmlFor={\"subject-\" + scriptIndex + \"-\" +item.id}>{item.title}</label>\r\n                      </div>\r\n                    )\r\n                  })}\r\n                </div>\r\n              )\r\n            }\r\n      </CheckboxGroup>\r\n    )\r\n  }\r\n\r\n  // Render subjects list\r\n  renderYears(script, scriptIndex){\r\n    return(\r\n      <CheckboxGroup\r\n            name={\"years-checkbox-\"+scriptIndex}\r\n            value={script.years.value}\r\n            onChange={this.setYears.bind(this, scriptIndex)}\r\n          >\r\n            {\r\n              Checkbox => (\r\n                <div className=\"row\">\r\n                  {_.sortBy(this.props.mapProps.years.data, 'title').map((item,index) => {\r\n\r\n                    return (\r\n                      <div key={\"year-\" + scriptIndex + \"-\" +item.id} className=\"col-xs-6\">\r\n                        <Checkbox value={item.id} id={\"year-\" + scriptIndex + \"-\" + item.id}/> \r\n                        <label htmlFor={\"year-\" + scriptIndex + \"-\" +item.id}>{item.title}</label>\r\n                      </div>\r\n                    )\r\n                  })}\r\n                </div>\r\n              )\r\n            }\r\n      </CheckboxGroup>\r\n    )\r\n  }\r\n\r\n  // Render domains by subjects\r\n  renderDomains(script, scriptIndex){\r\n    return (\r\n      <DomainsSelection script={script} scriptIndex={scriptIndex} setDomains={this.setDomains} domains={this.props.mapProps.domains}/>\r\n    )\r\n  }\r\n\r\n  // Check if domains are in any subject\r\n  // DOMAINS MUST BE PROVIDED WITH THEIR SUBJECTS ASSOCIATED\r\n  domainsOfSubject(givenSubjects){\r\n    let subjects = givenSubjects;\r\n\r\n    const { domains } = this.props.mapProps;\r\n\r\n    // Make copy of domains to maintain immutable\r\n    let domainsCopy = _.assign([], domains.data);\r\n\r\n    // Are any subjects selected\r\n    if ((subjects && subjects instanceof Array && subjects.length>0)){\r\n      domainsCopy = _.filter(domainsCopy, (domain) => {\r\n        let exists = false;\r\n\r\n        // If domain subjects was selected\r\n        for (let domainSubject of domain.Subjects){\r\n          exists = subjects.indexOf(domainSubject.id) >= 0;\r\n        }\r\n\r\n        return exists;\r\n      });\r\n\r\n      // Avoid returning duplicates\r\n      return _.uniqBy(domainsCopy, 'title');\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n\r\n  render() {\r\n    const {\r\n      fields: { scripts, accept_terms },\r\n      handleSubmit,\r\n      previousPage,\r\n      submitting\r\n      } = this.props;\r\n\r\n    const { mapProps } = this.props;\r\n    \r\n    if (!mapProps.subjects.data || !mapProps.domains.data || !mapProps.years.data || !mapProps.terms.data){\r\n      return null;\r\n    }\r\n    \r\n    return (\r\n      <form onSubmit={handleSubmit} className=\"form script__form\">\r\n\r\n        {!scripts.length && <div className=\"alert alert-warning\">Não existem guiões</div>}\r\n        {scripts.map((script, index) =>\r\n          <div key={index}>\r\n            <Collapsible title={\"Guião nº \" + (index+1)} className=\"cta primary script__form--collapsible\" iconOpen=\"fa fa-chevron-up\" iconClosed=\"fa fa-chevron-down\" deleteEl={()=> this.removeEl(scripts, index)} deleteIcon=\"fa fa-trash-o\" isOpen={true}>\r\n              {/* DETAILS */}\r\n              <section>\r\n                <div className=\"row\">\r\n                  <div className=\"col-xs-12 col-sm-6\">\r\n                    <h1>Detalhes</h1>\r\n                  </div>       \r\n                </div>\r\n\r\n                {/* FIRST COL/ROW */}\r\n                <div className=\"row\">\r\n                  <div className=\"col-xs-12 col-sm-3\">\r\n                    <label className=\"input-title\">Título*</label>\r\n                    <div className={`form-group ${script.title.touched && script.title.invalid ? 'has-error' : ''}`}>\r\n                      <input type=\"text\" className=\"form-control\" placeholder=\"Nome do seu guião\" {...script.title}/>\r\n                      {script.title.touched && script.title.error && <div className=\"text-danger\">{script.title.error}</div>}\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  <div className=\"col-xs-12 col-sm-3\">\r\n                    <label className=\"input-title\">Email*</label>\r\n                    <div className={`form-group ${script.email.touched && script.email.invalid ? 'has-error' : ''}`}>\r\n                      <input type=\"email\" className=\"form-control\" placeholder=\"Email do núcleo ou docente\" {...script.email}/>\r\n                      {script.email.touched && script.email.error && <div className=\"text-danger\">{script.email.error}</div>}\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"col-xs-12 col-sm-3\">\r\n                    <label className=\"input-title\">Escola/Organização*</label>\r\n                    <div className={`form-group ${script.organization.touched && script.organization.invalid ? 'has-error' : ''}`}>\r\n                      <input type=\"text\" className=\"form-control\" placeholder=\"Nome da sua escola/organização\" {...script.organization}/>\r\n                      {script.organization.touched && script.organization.error && <div className=\"text-danger\">{script.organization.error}</div>}\r\n                    </div>\r\n                  </div> \r\n\r\n                  <div className=\"col-xs-12 col-sm-3\">\r\n                    <label className=\"input-title\">Autor*</label>\r\n                    <div className={`form-group ${script.author.touched && script.author.invalid ? 'has-error' : ''}`}>\r\n                      <input type=\"text\" className=\"form-control\" placeholder=\"Nome da sua escola/organização\" {...script.author}/>\r\n                      {script.author.touched && script.author.error && <div className=\"text-danger\">{script.author.error}</div>}\r\n                    </div>\r\n                  </div>   \r\n                </div>\r\n\r\n                {/* DESCRIPTION */}\r\n                <div className=\"row\">\r\n                  <div className=\"col-xs-12\">\r\n                    <label className=\"input-title\">Descrição*</label>\r\n                    <div className={`form-group ${script.description.touched && script.description.invalid ? 'has-error' : ''}`}>\r\n                      <TextArea max=\"300\" min=\"20\" className=\"form-control\" placeholder=\"Descreva este guião sucintamente\" field={script.description} />\r\n                      {script.description.touched && script.description.error && <div className=\"text-danger\">{script.description.error}</div>}\r\n                    </div>            \r\n                  </div>\r\n                </div>\r\n              </section>\r\n\r\n              {/* META */}\r\n              <section>\r\n                <div className=\"row\">\r\n                  <div className=\"col-xs-12 col-sm-6\">\r\n                    <h1>Metadados</h1>\r\n                  </div>       \r\n                </div>\r\n\r\n                {/* SUBJECTS, YEARS AND LANGUAGES */}\r\n                <div className=\"row\">\r\n                  {/* SUBJECTS */}\r\n                  <div className=\"col-xs-12 col-sm-6\">\r\n                    <label className=\"input-title\">Disciplinas*</label>\r\n                    <div className={`form-group ${script.subjects.touched && script.subjects.invalid ? 'has-error' : ''}`}>\r\n                      {this.renderSubjects(script,index)}\r\n                      {script.subjects.touched && script.subjects.error && <div className=\"text-danger\">{script.subjects.error}</div>}\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  {/* YEARS */}\r\n                  <div className=\"col-xs-12 col-sm-6\">\r\n                    <label className=\"input-title\">Anos*</label>\r\n                    <div className={`form-group ${script.years.touched && script.years.invalid ? 'has-error' : ''}`}>\r\n                      {this.renderYears(script,index)}\r\n                      {script.years.touched && script.years.error && <div className=\"text-danger\">{script.years.error}</div>}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* DOMAINS */}\r\n                {this.renderDomains(script,index)}\r\n\r\n                {/* OPERATION PROPOSAL */}\r\n                <div className=\"row\">\r\n                  <div className=\"col-xs-12\">\r\n                    <label className=\"input-title\">Proposta de Operacionalização*</label>\r\n                    <div className={`form-group ${script.op_proposal.touched && script.op_proposal.invalid ? 'has-error' : ''}`}>\r\n                      <TextArea max={800} min={20} className=\"form-control\" placeholder=\"Indique como este recurso pode ser utilizado/operacionalizado\" field={script.op_proposal}/>\r\n                      {script.op_proposal.touched && script.op_proposal.error && <div className=\"text-danger\">{script.op_proposal.error}</div>}\r\n                    </div>            \r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"row\">\r\n                  <div className=\"col-xs-12 col-sm-6\">\r\n                    <label className=\"input-title\">Autor da proposta*</label>\r\n                    <div className={`form-group ${script.op_proposal_author.touched && script.op_proposal_author.invalid ? 'has-error' : ''}`}>\r\n                      <input type=\"text\" className=\"form-control\" placeholder=\"Autor da proposta\" {...script.op_proposal_author}/>\r\n                      {script.op_proposal_author.touched && script.op_proposal_author.error && <div className=\"text-danger\">{script.op_proposal_author.error}</div>}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </section>\r\n            </Collapsible>\r\n          </div>\r\n        )}\r\n\r\n        {/* ADD MORE*/}\r\n        <button type=\"button\" className=\"cta primary more-script\" onClick={() => {\r\n            scripts.addField()    \r\n        }}><i className=\"fa fa-plus\" /> Novo guião\r\n        </button> \r\n\r\n        {/* TERMS AND CONDITIONS */}\r\n        <section className=\"terms-conditions\">          \r\n          <div className=\"row\">\r\n            <div className=\"col-xs-12\">\r\n              <h1>Termos e Condições</h1>\r\n              <p dangerouslySetInnerHTML={{__html: mapProps.terms.data.acceptance}} />\r\n              \r\n              <div className=\"license\">\r\n                <a rel=\"license\" href=\"http://creativecommons.org/licenses/by-sa/4.0/\">\r\n                  <img alt=\"Licença Creative Commons\" src=\"https://i.creativecommons.org/l/by-sa/4.0/88x31.png\" className=\"img-responsive\"/>\r\n                </a>\r\n              </div>\r\n\r\n              <div className=\"buttons\">\r\n                <input type=\"checkbox\" value=\"accept_terms\" id=\"accept_terms\" {...accept_terms}/> \r\n                <label htmlFor=\"accept_terms\">Li e concordo com os “Termos e condições” de submissão.</label> \r\n                {accept_terms.touched && accept_terms.error && <div className=\"text-danger\">{accept_terms.error}</div>}\r\n              </div>\r\n            </div>\r\n\r\n          </div>\r\n        </section>   \r\n\r\n        <footer className=\"form-buttons\">\r\n          <button type=\"submit\" disabled={submitting} className=\"cta primary\">\r\n            {submitting ? <i className='fa fa-spinner fa-spin'></i> : \"\"} Submeter Guiões\r\n          </button>\r\n          <Link to=\"/painel\" className=\"cta no-bg\">Cancelar</Link>\r\n        </footer>\r\n      </form>\r\n    )\r\n  }\r\n}\r\n\r\nNewScriptForm.propTypes = {\r\n  fields: PropTypes.object.isRequired,\r\n  handleSubmit: PropTypes.func.isRequired,\r\n  submitting: PropTypes.bool.isRequired\r\n}\r\n\r\nexport default reduxForm({\r\n  form: 'newScript',              // <------ same form name\r\n  fields,                      // <------ all fields on last wizard page\r\n  validate                     // <------ only validates the fields on this page\r\n})(NewScriptForm)","const requireFields = (...names) => data =>\n  names.reduce((errors, name) => {\n    if (!data[name]) {\n      errors[name] = 'Required'\n    }\n    return errors\n  }, {})\n\nconst validateScript = (values) => {\n  const errors = {};\n\n  // Title\n  if (!values.title) {\n    errors.title = 'O campo é obrigatório'\n  }\n\n  // Email\n  if (!values.email) {\n    errors.email = 'O campo é obrigatório'\n  } else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(values.email)) {\n    errors.email = 'E-mail inserido não é válido';\n  }\n\n  // Organization\n  if (!values.organization) {\n    errors.organization = 'O campo é obrigatório'\n  }\n\n  // Subjects\n  if (!values.subjects || values.subjects.length==0) {\n    errors.subjects = 'Campo é obrigatório'\n  }\n\n  // Domains\n  if (values.hasDomains && (!values.domains || values.domains.length==0)) {\n    errors.domains = 'Campo é obrigatório'\n  }\n\n  // Years\n  if (!values.years || values.years.length==0) {\n    errors.years = 'Campo é obrigatório'\n  }\n\n   // Op Proposal\n  if (!values.description) {\n    errors.description = 'O campo é obrigatório'\n  } else if (values.description.length < 20) {\n    errors.description = 'Deve ter pelo menos 20 caracteres'\n  } else if (values.description.length > 300) {\n    errors.description = 'Apenas deve conter no máximo 300 caracteres'\n  }\n\n  // Op Proposal\n  if (!values.op_proposal) {\n    errors.op_proposal = 'O campo é obrigatório'\n  } else if (values.op_proposal.length < 20) {\n    errors.op_proposal = 'Deve ter pelo menos 20 caracteres'\n  } else if (values.op_proposal.length > 800) {\n    errors.op_proposal = 'Apenas deve conter no máximo 300 caracteres'\n  }\n\n  return errors\n}\n\nconst validateScriptForm = data => {\n  const errors = {};\n\n  // Accepted terms\n  if (!data.accept_terms) {\n    errors.accept_terms = 'Deve aceitar os termos e condições para criar o recurso'\n  }\n\n  errors.scripts = data.scripts.map(validateScript);\n  return errors;\n}\n\n\nexport default validateScriptForm","import React from 'react';\nimport { Component } from 'react';\n\n// Components\nimport Tags from '@/components/common/tags';\n\nconst SearchBar = (props) => {\n    return (\n    \t<div className={\"input-group single-search\"}>\n\t        <Tags setTags={props.onChangeTags} tags={props.tags} className=\"tags-search\" placeholder=\"Palavras-chave\"/>\n\t        <button className=\"cta primary\"  onClick={props.onSubmit}><i className=\"fa fa-search\" aria-hidden=\"true\"></i> Pesquisar</button>\n    \t</div>\n    );\n}\n\nSearchBar.propTypes = {\n  onSubmit: React.PropTypes.func.isRequired,\n  tags: React.PropTypes.array.isRequired,\n  onChangeTags: React.PropTypes.func.isRequired\n}\n\nexport default SearchBar","import React from 'react';\nimport { Component } from 'react';\n\n// Components\nimport Tags from '@/components/common/tags';\n\nexport default class SearchForm extends Component {\n\tconstructor(props){\n\t\tsuper(props);\n\n\t\tthis.state= {\n\t\t\ttags: [],\n\t\t\tsubjects: null,\n\t\t\tdomains: null,\n\t\t\tformats: null,\n\t\t\tyears: null\n\t\t}\n\n\t\t//\n\t\t//\tEvent handlers\n\t\t//\n\t\tthis.onFormSubmit = this.onFormSubmit.bind(this);\n\t\tthis.changeTags = this.changeTags.bind(this);\n\t\tthis.onSubjectChange = this.onSubjectChange.bind(this);\n\n\t\t//\n\t\t//\tRenders\n\t\t//\n\t\tthis.renderYears = this.renderYears.bind(this);\n\t\tthis.renderSubjects = this.renderSubjects.bind(this);\n\t\tthis.renderDomains = this.renderDomains.bind(this);\n\t\tthis.renderFormats = this.renderFormats.bind(this);\n\t}\n\n\tcomponentDidMount(){\n\t\tthis.props.fetchYears(true);\n\t\tthis.props.fetchSubjects(true);\n\t\tthis.props.fetchFormats();\n\t}\n\n\t// Reset form on unmount\n\tcomponentWillUnmount() {\n\t    this.props.resetYears()\n\t    this.props.resetSubjects();\n\t    this.props.resetFormats();\n\t    this.props.resetDomains();\n\t}\n\n\t// Submit search\n\tonFormSubmit(event) {\n\t    event.preventDefault();\n\t    this.props.onSubmit(this.state);\n\t}\n\n\t// Handle tags change\n\tchangeTags(tags){\n\t\tthis.setState({\n\t\t  tags: tags\n\t\t});\n\t}\n\n\t//Handle subject change\n\tonSubjectChange(subject){\n\t\tthis.setState({\n\t\t\tsubjects: [parseInt(subject.target.value)],\n\t\t\tdomains: null\n\t\t});\n\t\tthis.props.fetchDomainsFromSubject(subject.target.value, true);\n\t}\n\n\tcalcColCount(cols){\n\t\treturn Math.floor(12/cols);\n\t}\n\n\t// Render years\n\trenderYears(){\n\t\tconst { data, fetched } = this.props.years;\n\t\tif (fetched){\n\t\t\treturn _.sortBy(data, 'title').map(year => {\n\t\t\t\treturn <option value={year.id} key={year.id}>{year.title}</option>;\n\t\t\t})\n\t\t}\n\t}\n\n\t// Render subjects\n\trenderSubjects(){\n\t\tconst { data, fetched } = this.props.subjects;\n\t\tif (fetched){\n\t\t\treturn _.sortBy(data, 'title').map(subject => {\n\t\t\t\treturn <option value={subject.id} key={subject.id}>{subject.title}</option>;\n\t\t\t})\n\t\t}\n\t}\n\n\t// Render domains\n\trenderDomains(){\n\t\tconst { data, fetched } = this.props.domains;\n\t\tif (fetched){\n\t\t\treturn _.sortBy(data, 'title').map(domain => {\n\t\t\t\treturn <option value={domain.id} key={domain.id}>{domain.title}</option>;\n\t\t\t})\n\t\t}\n\t}\n\n\t// Render formats\n\trenderFormats(){\n\t\tconst { data, fetched } = this.props.formats;\n\t\tif (fetched){\n\t\t\treturn _.sortBy(data, 'title').map(format => {\n\t\t\t\treturn <option value={format.id} key={format.id}>{format.title}</option>;\n\t\t\t})\n\t\t}\n\t}\n\n\trender() {\n\t\t// Count total cols\n\t\tlet maxcol = 6;\n\t\tlet classColCount = this.calcColCount(maxcol);\n\n\t\tconst {searchTags, iconClass, buttonText, domains} = this.props;\n\n\t\treturn (\n\t\t\t<section className=\"search-container\">\n\t\t\t\t<form className=\"input-group search-form\" method=\"get\" onSubmit={this.onFormSubmit}>\n\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t{(() => {\n\t\t\t\t\t\tif (searchTags){\t\t\t\t\t\t\t\n\t\t\t\t\t\t\treturn (<div className={\"col-xs-12\"}>\n\t\t\t\t\t\t\t\t<Tags setTags={this.changeTags} tags={this.state.tags} className=\"tags-search\" placeholder=\"Palavras-chave\"/>\n\t\t\t\t\t\t\t</div>)\n\t\t\t\t\t\t}\n\t\t\t\t\t})()}\n\t\t\t\t\t\t\n\n\t\t\t\t\t\t<div className={\"col-xs-6 col-sm-4 col-md-3\"}>\n\t\t\t\t\t\t\t<select className=\"form-control\" value={this.state.subjects} onChange={this.onSubjectChange}>\n\t\t\t\t\t\t\t\t<option value=\"\" default>Disciplina</option>\n\t\t\t\t\t\t\t\t{this.renderSubjects()}\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className={\"col-xs-6 col-sm-4 col-md-3\"}>\n\t\t\t\t\t\t\t<select className=\"form-control\" disabled={!domains.data || domains.data.length==0} value={this.state.domains} onChange={item => this.setState({domains: [parseInt(item.target.value)]})}>\n\t\t\t\t\t\t\t\t<option value=\"\" default>Domínio</option>\n\t\t\t\t\t\t\t\t{this.renderDomains()}\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className={\"col-xs-6 col-sm-4 col-md-2\"}>\n\t\t\t\t\t\t\t<select className=\"form-control\" value={this.state.formats} onChange={item => this.setState({formats: [parseInt(item.target.value)]})}>\n\t\t\t\t\t\t\t\t<option value=\"\" default>Formato</option>\n\t\t\t\t\t\t\t\t{this.renderFormats()}\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className={\"col-xs-6 col-sm-4 col-md-2\"}>\n\t\t\t\t\t\t\t<select className=\"form-control\" value={this.state.years} onChange={item => this.setState({years: [parseInt(item.target.value)]})}>\n\t\t\t\t\t\t\t\t<option value=\"\" default>Ano</option>\n\t\t\t\t\t\t\t\t{this.renderYears()}\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className={\"col-xs-12 col-sm-4 col-md-2\"}>\n\t\t\t\t\t\t\t<button type=\"submit\" className=\"cta primary\"><i className={iconClass || \"fa fa-search\"} aria-hidden=\"true\"></i>\n\t\t\t\t\t\t\t\t{buttonText || \"Pesquisar\"}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t</section>\n\t\t);\n\t}\n}","import React from 'react';\nimport { Component, PropTypes } from 'react';\n\nimport { Link } from 'react-router';\n\nexport default class UserResume extends Component {\n\tconstructor(props){\n\t\tsuper(props);\n\n\t}\n\n\tcomponentDidMount(){\t\t\n\t\tthis.props.fetchConfig();\n\t}\n\n\trender() {\n\n\t\tconst { auth, config } = this.props;\n\n\t\tif ((!auth.data && !auth.data.user) || !config.data)\n\t\t\treturn null\n\n\t\tconst user = auth.data.user;\n\n\t\tconst image = auth.data.user.image || config.data.icons+\"/user.png\";\n\n\t\treturn (\n\t\t\t<div className=\"container\">\n\t\t\t\t<div className=\"row user-resume\">\n\t\t\t\t\t<div className=\"col-xs-12\">\n\t\t\t\t\t\t<div className=\"user-image\" style={{\"backgroundImage\": `url(${image})`}}></div>\n\t\t\t\t\t\t<h4>{user.name || 'Utilizador sem nome'}</h4>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"col-xs-12 text-center\">\n\t\t\t\t\t\t<Link to=\"/novorecurso\" className=\"cta primary\">Novo Recurso</Link>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nUserResume.propTypes = {\n\tauth: PropTypes.object.isRequired\n}","import React, { PropTypes } from 'react';\nimport { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { browserHistory } from 'react-router';\n\nclass IsAdmin extends Component {\n\n    render() {\n        return (\n            this.props.isAuthenticated === true && this.props.role == 'admin'\n                ? this.props.children\n                : null                \n        )\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    isAuthenticated: state.auth.isAuthenticated,\n    role: state.auth.data.user.role\n});\n\nIsAdmin.contextTypes = {\n  router: PropTypes.object\n}\n\nexport default connect(mapStateToProps)(IsAdmin);","import React, { PropTypes } from 'react';\nimport { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { browserHistory } from 'react-router';\n\nclass IsAuthenticated extends Component {\n\n    render() {\n        return (\n            this.props.isAuthenticated === true ? this.props.children : null       \n        )\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    isAuthenticated: state.auth.isAuthenticated\n});\n\nIsAuthenticated.contextTypes = {\n  router: PropTypes.object\n}\n\nexport default connect(mapStateToProps)(IsAuthenticated);","import React, { PropTypes } from 'react';\nimport { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { browserHistory } from 'react-router';\n\nclass IsNotAuthenticated extends Component {\n\n    render() {\n        return (\n            this.props.isAuthenticated === false ? this.props.children : null          \n        )\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    isAuthenticated: state.auth.isAuthenticated\n});\n\nIsNotAuthenticated.contextTypes = {\n  router: PropTypes.object\n}\n\nexport default connect(mapStateToProps)(IsNotAuthenticated);","import React from 'react';\nimport { reduxForm } from 'redux-form';\nimport LoginForm from '@/components/auth/loginForm';\nimport { loginUser } from '@/actions/auth';\nexport const fields = [ 'email', 'password' ];\n\n/* Validate field types */\nexport const validate = values => {\n  const errors = {}\n  if (!values.email) {\n    errors.email = 'O campo é obrigatório';\n  }\n\n  if (values.email && !validateEmail(values.email)){\n    errors.email = 'Deve inserir um e-mail válido';\n  }\n\n  if (!values.password) {\n    errors.password = 'É necessário inserir a palavra-chave';\n  }\n  return errors\n}\n\n\n/* Email validation */\nconst validateEmail = (value) => {\n  // regex from http://stackoverflow.com/questions/46155/validate-email-address-in-javascript\n  var re = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n  return re.test(value);\n};\n\n/* Set sharable state */\nfunction mapStateToProps(state) {\n  return { auth: state.auth};\n}\n\nexport default reduxForm({\n  form: 'LoginForm',\n  fields,\n  asyncBlurFields: [ 'email' ],\n  validate\n}, mapStateToProps, {loginUser})(LoginForm)","import React, { PropTypes } from 'react';\nimport { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { browserHistory } from 'react-router';\n\nexport function requireAuth(Component) {\n\n    class AuthenticatedComponent extends React.Component {\n\n        componentWillMount() {\n            this.checkAuth();\n        }\n\n        componentWillReceiveProps(nextProps) {\n            this.checkAuth();\n        }\n\n        checkAuth() {\n            if (!this.props.isAuthenticated) {\n                let redirectAfterLogin = this.props.location.pathname;\n                this.context.router.push(`/?next=${redirectAfterLogin}`);\n            }\n        }\n\n        render() {\n            return (\n                <div>\n                    {this.props.isAuthenticated === true\n                        ? <Component {...this.props}/>\n                        : null\n                    }\n                </div>\n            )\n        }\n    }\n\n    const mapStateToProps = (state) => ({\n        isAuthenticated: state.auth.isAuthenticated,\n        resource: state.resource.data\n    });\n\n    AuthenticatedComponent.contextTypes = {\n\t  router: PropTypes.object\n\t}\n\n    return connect(mapStateToProps)(AuthenticatedComponent);\n}","import React from 'react';\nimport { reduxForm } from 'redux-form';\nimport SignupForm from '@/components/auth/signupForm';\nimport { signupUser } from '@/actions/auth';\nexport const fields = [ \n  'email', \n  'password', \n  'organization', \n  'authKey'\n];\n\n/* Validate field types */\nexport const validate = values => {\n  const errors = {}\n  if (!values.email) {\n    errors.email = 'O campo é obrigatório';\n  }\n\n  if (values.email && !validateEmail(values.email)){\n    errors.email = 'Deve inserir um e-mail válido';\n  }\n\n  if (!values.password) {\n    errors.password = 'É necessário inserir a palavra-chave';\n  }\n\n  if (!values.organization) {\n    errors.organization = 'Campo é obrigatório';\n  }\n\n  if (!values.authKey) {\n    errors.authKey = 'Deve inserir a chave que lhe foi fornecida pela organização';\n  }\n\n  return errors\n}\n\n/* Async validation*/\nconst asyncValidate = (values/*, dispatch */) => {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      if ([ 'asd@asd.com' ].includes(values.email)) {\n        reject({ email: 'Email inserido já se encontra registado' })\n      }\n\n      if (!values.authKey){\n        reject({ authKey: 'A chave fornecida já não é válida' })\n      }\n\n      resolve();\n\n    }, 1000) // simulate server latency\n  })\n}\n\n/* Email validation */\nconst validateEmail = (value) => {\n  // regex from http://stackoverflow.com/questions/46155/validate-email-address-in-javascript\n  var re = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n  return re.test(value);\n};\n\n\n\n/* Set sharable state */\nfunction mapStateToProps(state) {\n  return { auth: state.auth};\n}\n\nexport default reduxForm({\n  form: 'SignupForm',\n  fields,\n  asyncValidate,\n  asyncBlurFields: [ 'email' ],\n  validate\n}, mapStateToProps, {signupUser})(SignupForm)","import React from 'react';\nimport { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport ContributeBlock from '@/components/blocks/contribute';\n\nfunction mapStateToProps(state) {\n  return { \n  \tauth: state.auth\n  };\n}\n\n\nexport default connect(mapStateToProps, null)(ContributeBlock);","import React from 'react';\nimport { reduxForm } from 'redux-form';\nimport CommentForm from '@/components/resources/comments/form';\n//import { loginUser } from '../../actions/auth';\nexport const fields = [ 'description' ];\n\n/* Validate field types */\nexport const validate = values => {\n  const errors = {}\n  return errors\n}\n\n/* Make request to server to check data */\nexport const asyncValidate = (values/*, dispatch */) => {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      if ([ 'john', 'paul', 'george', 'ringo' ].includes(values.description)) {\n        reject({ description: 'Forbidden words' })\n      } else {\n        resolve()\n      }\n    }, 1000) // simulate server latency\n  })\n}\n\n/* Set sharable state */\nfunction mapStateToProps(state) {\n  return { auth: state.auth};\n}\n\nexport default reduxForm({\n  form: 'CommentForm',\n  fields,\n  asyncValidate,\n  asyncBlurFields: [ 'description' ],\n  validate\n}, mapStateToProps, null)(CommentForm)","import React from 'react';\nimport { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { fetchComments } from '@/actions/comments';\nimport { bindActionCreators } from 'redux';\nimport ResourceComments from '@/components/resources/comments/list';\n\nfunction mapStateToProps(state) {\n  return { \n  \tcomments: state.comments,\n  \tauth: state.auth\n  };\n}\n\nfunction mapDispatchToProps(dispatch) { \n  return bindActionCreators({ fetchComments }, dispatch);\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ResourceComments);","import React from 'react';\nimport { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { removeAlert } from '@/actions/alerts';\nimport { bindActionCreators } from 'redux';\nimport AlertBox from '@/components/common/alerts';\n\nfunction mapStateToProps(state) {\n  return { \n  \talerts: state.alerts\n  };\n}\n\nfunction mapDispatchToProps(dispatch) { \n  return bindActionCreators({ removeAlert }, dispatch);\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AlertBox);","import React from 'react';\nimport { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport DashboardMenu from '@/components/navigation/dashboardMenu';\n\nfunction mapStateToProps(state) {\n  return { \n  \tauth: state.auth\n  };\n}\n\n\nexport default connect(mapStateToProps, null)(DashboardMenu);","import React from 'react';\nimport { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { fetchMyResources, setHighlight, setFavorite, resetResources } from '@/actions/resources';\nimport { resetFilters } from '@/actions/filters';\nimport { fetchConfig } from '@/actions/config';\nimport { bindActionCreators } from 'redux';\nimport MyResources from '@/components/dashboard/resources/myResources';\n\nfunction mapStateToProps(state) {\n  return { \n  \tresources: state.resources,\n  \tauth: state.auth,\n  \tconfig: state.config\n  };\n}\n\nfunction mapDispatchToProps(dispatch) { \n  return bindActionCreators({ \n  \tfetchMyResources, \n  \tsetHighlight, \n  \tsetFavorite,\n  \tfetchConfig, \n  \tresetFilters,\n    resetResources\n  }, dispatch);\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MyResources);","'use strict';\n\nimport React, { Component, PropTypes } from 'react';\nimport { connect } from 'react-redux';\n\n// Alerts\nimport * as alertMessages from '@/actions/message-types';\n\n// Components\nimport { fetchResource, submitResource, resetResource } from '@/actions/resources';\nimport { fetchFormats } from '@/actions/formats';\nimport { fetchAccess } from '@/actions/access';\nimport { fetchSubjects } from '@/actions/subjects';\nimport { fetchDomains, fetchDomainsWithSubject } from '@/actions/domains';\nimport { fetchLanguages } from '@/actions/languages';\nimport { fetchYears } from '@/actions/years';\nimport { fetchTerms } from '@/actions/terms';\nimport { addAlert } from '@/actions/alerts';\nimport { bindActionCreators } from 'redux';\nimport { reset, initialize, destroy } from 'redux-form';\n\nimport WizardFormFirstPage from '@/components/resources/newResource/newResourceFormFirstPage';\nimport WizardFormSecondPage from '@/components/resources/newResource/newResourceFormSecondPage';\n\nclass NewResourceFormContainer extends Component {\n  constructor(props) {\n    super(props)\n\n    //\n    //  Event handlers\n    //\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.nextPage = this.nextPage.bind(this);\n    this.previousPage = this.previousPage.bind(this);\n    \n    //\n    //  Helpers\n    //\n    this.initForm = this.initForm.bind(this);\n\n    //\n    // Set state\n    // \n    this.state = {\n      page: 1\n    }\n  }\n\n  componentDidMount(){\n    const { resource } = this.props.params;\n\n    //\n    //  If to edit, get resource\n    //\n    if (resource){      \n      this.props.fetchResource(resource)\n      .then(() => {\n        const { data } = this.props.resource;\n        const { user } = this.props.auth.data;\n\n        // If the owner is not current user and current is not admin, go back\n        if (this.props.resource.errorMessage || (data.user_id!=user.id && user.role!='admin')){\n          this.context.router.push('/painel');\n        }else{\n          this.initForm();\n        }\n      });\n    }\n  }\n\n  // Reset form on leave\n  componentWillUnmount(){\n    this.props.resetForm();\n    this.props.destroy();\n    this.props.resetResource();\n  }\n\n  // Set next page\n  nextPage() {\n    this.setState({ page: this.state.page + 1 })\n  }\n\n  // Set previous page\n  previousPage() {\n    this.setState({ page: this.state.page - 1 })\n  }\n\n  // Print breadcrumbs\n  printFormBreadcrumbs(){\n    if (this.state.page==1){\n      return(\n        <span><strong>Detalhes</strong> > Metadados</span>\n      )\n    }else if(this.state.page==2){\n      return(\n        <span>Detalhes > <strong>Metadados</strong></span>\n      )\n    }\n  }\n\n  //\n  //  Submit form\n  //\n  handleSubmit(values, dispatch){\n\n    const { resource } = this.props.params;\n\n    // MAKE SUBMITION\n    return new Promise((resolve, reject) => {\n\n      return this.props.submitResource(values, resource)\n      .then(() => {\n        const { errorMessage } = this.props.resource;\n\n        // Dispatch errors to form if any\n        if (errorMessage && errorMessage.form_errors){\n          reject(errorMessage.form_errors);\n          this.props.addAlert(alertMessages.ALERT_RESOURCE_ADD_ERROR, alertMessages.ERROR);\n\n          // Else, resolve form\n          // Add alert of success\n          // Redirect to panel\n        }else{          \n          resolve();  \n          this.props.addAlert(!resource ? alertMessages.ALERT_RESOURCE_CREATE_SUCCESS : alertMessages.ALERT_RESOURCE_EDIT_SUCCESS, alertMessages.SUCCESS);\n          this.context.router.push('/painel');             \n        }\n\n      })\n      .catch(error => {\n        reject(error);\n        this.props.addAlert(error, alertMessages.ERROR);\n      })\n    })\n  }\n\n  //\n  //  INIT form after server fetch\n  //\n  initForm(){\n    const { data } = this.props.resource;\n\n    const fields = [ \n      'title',\n      'author', \n      'email',\n      'organization',\n      'tags',\n      'format',\n      'file',\n      'duration',\n      'embed',\n      'link',\n      'access',\n      'techResources',\n      'description',\n      'exclusive',\n      'isOnline',\n      'subjects',\n      'domains',\n      'years',\n      'language',\n      'op_proposal',\n      'op_proposal_author',\n      'hasDomains'\n    ]\n\n    let initValues = {\n      title: data.title,\n      author: data.author,\n      email: data.email,\n      organization: data.organization,\n      tags: data.Tags.map(item => item.title),\n      format: data.Format,\n      file: data.Files && data.Files.length > 0 && data.Files[0],\n      duration: data.duration,\n      embed: data.embed,\n      link: data.link,\n      access: data.Modes.map(item => item.id),\n      techResources: data.techResources,\n      description: data.description,\n      exclusive: data.exclusive,\n      isOnline: !data.Files || data.Files.length == 0,\n      subjects: data.Subjects.map(item => item.id),\n      domains: data.Domains.map(item => item.id),\n      years: data.Years.map(item => item.id),\n      language: data.Languages && data.Languages.length > 0 && data.Languages[0],\n      op_proposal: data.operation,\n      op_proposal_author: data.operation_author,\n      hasDomains: data.Domains && data.Domains.length > 0\n    }\n\n    this.props.initForm(initValues, fields);\n  }\n\n  render() {\n    const { page } = this.state;\n    const { resource } = this.props;\n\n    return (\n      <div className=\"new-resource\">\n        <header className=\"new-form-header text-center\">\n          <h1>{resource && resource.data ? resource.title : \"Novo Recurso\"}</h1>\n          {this.printFormBreadcrumbs()}\n        </header>\n        <div className=\"new-resource__container\">\n          <section className=\"container\">\n            {page === 1 && <WizardFormFirstPage onSubmit={this.nextPage} mapProps={this.props} />}\n            {page === 2 && <WizardFormSecondPage previousPage={this.previousPage} onSubmit={this.handleSubmit} mapProps={this.props} submitionErr={this.props.resource.errorMessage}/>}\n          </section>\n        </div>        \n      </div>\n    )\n  }\n}\n\n\nfunction mapStateToProps(state) {\n  return { \n    formats: state.formats,\n    access: state.access,\n    subjects: state.subjects,\n    domains: state.domains,\n    languages: state.languages,\n    years: state.years,\n    terms: state.terms,\n    resource: state.resource,\n    auth: state.auth\n  };\n}\n\nfunction mapDispatchToProps(dispatch) { \n  return bindActionCreators({ \n    fetchResource,\n    fetchFormats,\n    fetchAccess,\n    fetchSubjects,\n    fetchDomains,\n    fetchDomainsWithSubject,\n    fetchLanguages,\n    fetchYears,\n    fetchTerms,\n    submitResource,\n    resetResource,\n    addAlert,\n    resetForm: () => dispatch(reset('newResource')),\n    destroy: () => dispatch(destroy('newResource')),\n    initForm: (initValues, fields) => dispatch(initialize('newResource', initValues, fields))\n  }, dispatch);\n}\n\nNewResourceFormContainer.contextTypes = {\n  router: PropTypes.object\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NewResourceFormContainer);","'use strict';\n\nimport React, { Component, PropTypes } from 'react';\nimport { connect } from 'react-redux';\nimport { fetchUserScripts, resetScripts, deleteScript, submitScripts } from '@/actions/scripts';\nimport { fetchResource, resetResource } from '@/actions/resources';\nimport { fetchSubjects } from '@/actions/subjects';\nimport { fetchDomainsWithSubject } from '@/actions/domains';\nimport { fetchYears } from '@/actions/years';\nimport { fetchTerms } from '@/actions/terms';\nimport { addAlert } from '@/actions/alerts';\nimport { bindActionCreators } from 'redux';\nimport { reset, initialize, destroy } from 'redux-form';\n\n// Alerts\nimport * as alertMessages from '@/actions/message-types';\n\nimport FormBody from '@/components/scripts/newScriptForm';\n\nclass NewScriptFormContainer extends Component {\n  constructor(props) {\n    super(props)\n\n    //\n    //  Event handlers\n    //\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.getNewScripts = this.getNewScripts.bind(this);\n\n    //\n    //  Helpers\n    //\n    this.initScripts = this.initScripts.bind(this);\n  }\n\n  componentDidMount(){\n    const { resource } = this.props.params;\n    const { fetchUserScripts } = this.props;\n\n    //\n    //  If to edit, get resource\n    //\n    if (resource){\n      this.props.fetchResource(resource)\n      .then(() => fetchUserScripts(this.props.resource.data.id))    \n      .then(() => {\n        const { user } = this.props.auth.data;\n        const { scripts } = this.props;\n\n        // If errors, go back\n        if (scripts.errorMessage){\n          this.context.router.push('/painel');\n        }else{          \n          this.initScripts();\n        }\n      });\n    }\n  }\n\n  // On exit, reset states\n  componentWillUnmount(){\n    this.props.resetForm();\n    this.props.destroy();\n    this.props.resetScripts();\n    this.props.resetResource();\n  }\n\n  //\n  //  Script submition\n  //\n  handleSubmit(values, dispatch){\n    const { resource } = this.props;\n\n    // MAKE SUBMITION\n    return new Promise((resolve, reject) => {\n\n      return this.props.submitScripts(values, resource.data.id)\n      .then(() => {\n        console.log(values);\n        const { errorMessage } = this.props.scripts;\n\n\n        // Dispatch errors to form if any\n        if (errorMessage && errorMessage.form_errors){\n          reject(errorMessage.form_errors);\n          this.props.addAlert(alertMessages.ALERT_SCRIPT_MANAGE_ERROR, alertMessages.ERROR);\n\n          // Else, resolve form\n          // Add alert of success\n          // Redirect to panel\n        }else{          \n          resolve();  \n          this.props.addAlert(alertMessages.ALERT_SCRIPT_MANAGE_SUCCESS, alertMessages.SUCCESS);\n          this.context.router.push('/painel');   \n        }\n\n      })\n      .catch(error => {\n        reject(error);\n        this.props.addAlert(error, alertMessages.ERROR);\n      })\n    })\n  }\n\n  //\n  //  Refresh scripts\n  //\n  getNewScripts(){\n    const { fetchUserScripts, resource } = this.props;\n\n    // Refresh only if there was any data before\n    resource.data && fetchUserScripts(resource.data.id)\n  }\n\n  //\n  //  INIT form after server fetch\n  //\n  initScripts(){\n    const { data } = this.props.scripts;\n\n    let initValues = { scripts:[] };\n\n    const fields = [ \n      'scripts[].id',\n      'scripts[].title', \n      'scripts[].email',\n      'scripts[].organization',\n      'scripts[].author',\n      'scripts[].description',\n      'scripts[].subjects',\n      'scripts[].domains',\n      'scripts[].years',\n      'scripts[].op_proposal',\n      'scripts[].op_proposal_author',\n      'scripts[].hasDomains'\n    ]\n\n    if (data && data.length>0){\n      for(let script of data){\n        initValues.scripts.push({\n          id: script.id || null,\n          title: script.title,\n          email: script.email,\n          organization: script.organization,\n          author: script.author,\n          description: script.description,\n          subjects: script.Subjects.map(item => item.id),\n          domains: script.Domains.map(item => item.id),\n          years: script.Years.map(item => item.id),\n          op_proposal: script.operation,\n          op_proposal_author: script.operation_author,\n          hasDomains: script.Domains && script.Domains.length>0\n        })\n      }\n      this.props.initScripts(initValues, fields);      \n    }    \n  }\n\n  render() {\n    return (\n      <div className=\"new-resource\">\n        <header className=\"new-form-header text-center\">\n          <h1>Gerir Guiões</h1>\n          <span>{this.props.resource.data && this.props.resource.data.title} > <strong>Guiões</strong></span>\n        </header>\n        <div className=\"new-resource__container\">\n          <section className=\"container\">\n            <FormBody onSubmit={this.handleSubmit} mapProps={this.props} refreshScripts={this.getNewScripts}/>\n          </section>\n        </div>        \n      </div>\n    )\n  }\n}\n\nNewScriptFormContainer.propTypes = {\n}\n\n\nfunction mapStateToProps(state) {\n  return { \n    subjects: state.subjects,\n    domains: state.domains,\n    years: state.years,\n    terms: state.terms,\n    scripts: state.scripts,\n    auth: state.auth,\n    resource: state.resource\n  };\n}\n\nfunction mapDispatchToProps(dispatch) { \n  return bindActionCreators({ \n    fetchResource,\n    fetchSubjects,\n    fetchDomainsWithSubject,\n    fetchYears,\n    fetchTerms,\n    fetchUserScripts,\n    resetResource,\n    resetScripts,\n    deleteScript,\n    submitScripts,\n    addAlert,\n    resetForm: () => dispatch(reset('newScript')),\n    destroy: () => dispatch(destroy('newScript')),\n    initScripts: (initValues, fields) => dispatch(initialize('newScript', initValues, fields))\n  }, dispatch);\n}\n\nNewScriptFormContainer.contextTypes = {\n  router: PropTypes.object\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NewScriptFormContainer);","import React from 'react';\nimport { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { fetchFormats, resetFormats } from '@/actions/formats';\nimport { fetchSubjects, resetSubjects } from '@/actions/subjects';\nimport { fetchDomains, resetDomains } from '@/actions/domains';\nimport { fetchYears, resetYears } from '@/actions/years';\nimport { fetchAccess, resetAccess } from '@/actions/access';\nimport { setFilters, getFilters, resetFilters, searchResourcesFilters } from '@/actions/filters';\nimport { bindActionCreators } from 'redux';\nimport ResourcesFilters from '@/components/resources/common/filters';\n\nfunction mapStateToProps(state) {\n  return { \n  \tformats: state.formats,\n  \tsubjects: state.subjects,\n  \tdomains: state.domains,\n    years: state.years,\n    access: state.access,\n    filters: state.filters\n  };\n}\n\nfunction mapDispatchToProps(dispatch) { \n  return bindActionCreators({ \n  \tfetchFormats,\n  \tfetchSubjects,\n  \tfetchDomains,\n    fetchYears,\n    fetchAccess,\n    resetYears,\n    resetDomains,\n    resetFormats,\n    resetYears,\n    resetSubjects,\n    resetAccess,\n    setFilters,\n    getFilters,\n    resetFilters,\n    searchResourcesFilters\n  }, dispatch);\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ResourcesFilters);","import React from 'react';\nimport { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { searchResources } from '@/actions/resources';\nimport { fetchFormats } from '@/actions/formats';\nimport { fetchConfig } from '@/actions/config';\nimport { setFilters } from '@/actions/filters';\nimport { bindActionCreators } from 'redux';\nimport FormatsBanner from '@/components/formats';\n\nfunction mapStateToProps(state) {\n  return { \n  \tformats: state.formats,\n  \tconfig: state.config\n  };\n}\n\nfunction mapDispatchToProps(dispatch) { \n  return bindActionCreators({ \n  \tfetchFormats, \n  \tfetchConfig,\n  \tsearchResources, \n  \tsetFilters\n  }, dispatch);\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FormatsBanner);","import React from 'react';\nimport { Component } from 'react';\nimport { connect } from 'react-redux';\nimport TopNav from '@/components/navigation/topNav';\nimport HighlightsContainer from '@/containers/highlights';\nimport SearchContainer from '@/containers/search';\nimport UserResume from '@/containers/user/resume';\n\n\nclass Header extends Component {\n\tconstructor(props){\n\t\tsuper(props);\n\t}\n\n\t/* Get Page Type from LOCATION */\n\theaderType(location){\n\t\tlocation = location.length > 1 ? location.replace(/^\\//, '') : location;\t\t\n\t\tlocation = location.length > 1 && location.indexOf('/')>0 ? location.substring(0, location.indexOf('/')) : location;\n\t\treturn (location === \"/\") ? \"home-page\" : location;\n\t}\n\n\trender() {\n\t\tvar curPage = this.headerType(this.props.location.pathname);\n\t\treturn (\n\t\t\t<div className={\"header-container \" + curPage}>\n\t\t\t\t<TopNav location={this.props.location} auth={this.props.auth}/>\n\t\t\t\t{(() => {\n\t\t\t\t\t// IS HOME\n\t\t\t\t\tif (curPage == \"home-page\" ){\n\t\t\t\t\t\treturn[\n\t\t\t\t\t\t\t<HighlightsContainer key=\"highlights-container\"/>,\n\t\t\t\t\t\t\t<div className=\"container\" key=\"search-container\">\n\t\t\t\t\t\t\t\t<SearchContainer key=\"search-container\" searchTags={true}/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t// IS ACCOUNT\n\t\t\t\t\tif (curPage == \"painel\" || curPage == \"perfil\"){\n\t\t\t\t\t\treturn <UserResume />\n\t\t\t\t\t}\n\t\t\t\t\treturn null;\n\t\t\t\t})()}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => ({\n    auth: state.auth\n});\n\n\nexport default connect(mapStateToProps)(Header);","import React from 'react';\nimport { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { fetchHighlights } from '@/actions/resources';\nimport { bindActionCreators } from 'redux';\nimport ResourceHighlights from '@/components/resources/highlights';\n\nfunction mapStateToProps(state) {\n  return { \n  \thighlights: state.highlights,\n  \tauth: state.auth\n  };\n}\n\nfunction mapDispatchToProps(dispatch) { \n  return bindActionCreators({ fetchHighlights }, dispatch);\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ResourceHighlights);","import React from 'react';\r\nimport { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { deleteResources } from '@/actions/resources';\r\nimport { bindActionCreators } from 'redux';\r\nimport DeleteCollectiveResources from '@/components/resources/common/deleteCollective';\r\n\r\nfunction mapStateToProps(state) {\r\n  return { \r\n  \tauth: state.auth\r\n  };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) { \r\n  return bindActionCreators({ \r\n  \tdeleteResources\r\n  }, dispatch);\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(DeleteCollectiveResources);","import React from 'react';\r\nimport { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { deleteResource } from '@/actions/resources';\r\nimport { bindActionCreators } from 'redux';\r\nimport DeleteResource from '@/components/resources/common/deleteResource';\r\n\r\nfunction mapStateToProps(state) {\r\n  return { \r\n  \tauth: state.auth\r\n  };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) { \r\n  return bindActionCreators({ \r\n  \tdeleteResource\r\n  }, dispatch);\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(DeleteResource);","import React from 'react';\nimport { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { fetchResource, resetResource } from '@/actions/resources';\nimport { fetchScripts, resetScripts } from '@/actions/scripts';\nimport { fetchComments, resetComments } from '@/actions/comments';\nimport { fetchConfig } from '@/actions/config';\nimport { bindActionCreators } from 'redux';\nimport ResourcesDetails from '@/components/resources/details';\n\nfunction mapStateToProps(state) {\n  return { \n  \tresource: state.resource,\n  \tscripts: state.scripts,\n    comments: state.comments,\n  \tauth: state.auth,\n  \tconfig: state.config\n  };\n}\n\nfunction mapDispatchToProps(dispatch) { \n  return bindActionCreators({ \n  \tfetchResource, \n  \tfetchConfig, \n  \tfetchScripts,\n    resetResource,\n    resetScripts,\n    resetComments\n  }, dispatch);\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ResourcesDetails);","import React from 'react';\nimport { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { fetchResources, setHighlight, setFavorite, searchResources, resetResources } from '@/actions/resources';\nimport { fetchConfig } from '@/actions/config';\nimport { getFilters, resetFilters } from '@/actions/filters';\nimport { bindActionCreators } from 'redux';\nimport ResourcesListing from '@/components/resources/listing';\n\nfunction mapStateToProps(state) {\n  return { \n  \tresources: state.resources,\n  \tauth: state.auth,\n  \tconfig: state.config,\n  \tfilters: state.filters\n  };\n}\n\nfunction mapDispatchToProps(dispatch) { \n  return bindActionCreators({ \n  \tfetchResources, \n  \tfetchConfig, \n  \tsetHighlight, \n    setFavorite,\n  \tresetFilters,\n    searchResources,\n    resetResources\n  }, dispatch);\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ResourcesListing);","import React from 'react';\r\nimport { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { fetchResources, setHighlight, setFavorite } from '@/actions/resources';\r\nimport { fetchConfig } from '@/actions/config';\r\nimport { bindActionCreators } from 'redux';\r\nimport RecentResources from '@/components/resources/recent';\r\n\r\nfunction mapStateToProps(state) {\r\n  return { \r\n  \tresources: state.resources,\r\n  \tauth: state.auth,\r\n  \tconfig: state.config\r\n  };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) { \r\n  return bindActionCreators({ \r\n  \tfetchResources, \r\n  \tfetchConfig,\r\n  \tsetHighlight, \r\n    setFavorite,\r\n  }, dispatch);\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(RecentResources);","import React from 'react';\nimport { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { fetchRelatedResources, resetRelatedResources } from '@/actions/resources';\nimport { fetchConfig } from '@/actions/config';\nimport { bindActionCreators } from 'redux';\nimport RelatedResources from '@/components/resources/related';\n\nfunction mapStateToProps(state) {\n  return { \n  \trelatedResources: state.relatedResources,\n  \tauth: state.auth,\n  \tconfig: state.config\n  };\n}\n\nfunction mapDispatchToProps(dispatch) { \n  return bindActionCreators({ \n  \tfetchRelatedResources,\n  \tresetRelatedResources,\n  \tfetchConfig \n  }, dispatch);\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(RelatedResources);","import React, { PropTypes } from 'react';\nimport { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { fetchYears, resetYears } from '@/actions/years';\nimport { fetchSubjects, resetSubjects } from '@/actions/subjects';\nimport { fetchDomains, fetchDomainsFromSubject, resetDomains } from '@/actions/domains';\nimport { fetchFormats, resetFormats } from '@/actions/formats';\nimport { searchResourcesFilters, setFilters } from '@/actions/filters';\nimport { bindActionCreators } from 'redux';\nimport SearchForm from '@/components/search/searchForm';\n\n\nclass SearchContainer extends Component {\n  constructor(props){\n    super(props);\n\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n  //\n  //  Submit search form\n  //\n  onSubmit(filters){\n    // Request new resources\n    // Save filters for further use\n    // Redirect to results page\n    this.props.searchResourcesFilters(filters)\n    .then(() => {\n      this.props.setFilters(filters);\n      this.context.router.push('/descobrir');     \n    });\n  }\n\n\trender() {\n\t\treturn (\n\t\t\t<SearchForm {...this.props} onSubmit={this.onSubmit}/>\n\t\t);\n\t}\n}\n\nfunction mapStateToProps(state) {\n  return { \n  \tyears: state.years,\n  \tsubjects: state.subjects,\n  \tdomains: state.domains,\n    formats: state.formats\n  };\n}\n\nfunction mapDispatchToProps(dispatch) { \n  return bindActionCreators({ \n  \tfetchYears,\n  \tfetchSubjects,\n  \tfetchDomains,\n    fetchDomainsFromSubject,\n    fetchFormats,\n    resetYears,\n    resetDomains,\n    resetFormats,\n    resetYears,\n    resetSubjects,\n    setFilters,\n    searchResourcesFilters\n  }, dispatch);\n}\n\nSearchContainer.contextTypes = {\n  router: PropTypes.object\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SearchContainer);","import React from 'react';\nimport { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { fetchUserData } from '@/actions/user';\nimport { fetchConfig } from '@/actions/config';\nimport { bindActionCreators } from 'redux';\nimport UserResume from '@/components/user/resume';\n\nfunction mapStateToProps(state) {\n  return { \n  \tauth: state.auth,\n  \tconfig: state.config\n  };\n}\n\nfunction mapDispatchToProps(dispatch) { \n  return bindActionCreators({ fetchUserData, fetchConfig }, dispatch);\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UserResume);","import React from 'react';\nimport { Component } from 'react';\nimport { connect } from 'react-redux';\n\n// Components\nimport AlertBox from '@/containers/common/alerts';\nimport Progress from \"react-progress-2\";\n\nexport default class App extends Component {\n  render() {\n    return (\n      <div>\n      \t<Progress.Component/>\n      \t<AlertBox />\n        {this.props.children}\n      </div>\n    );\n  }\n}\n","import React from 'react';\r\nimport { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nexport default class Empty extends Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        {this.props.children}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","'use strict';\r\nrequire('es6-promise').polyfill();\r\nimport fetch from 'isomorphic-fetch';\r\n\r\n// Components\r\nimport Progress from \"react-progress-2\";\r\n\r\n// Actions\r\nimport * as alertMessages from '@/actions/message-types';\r\nimport * as alertActions from '@/actions/alerts';\r\n\r\nconst BASE_URL = 'http://devbox.dev/api/';\r\n\r\nfunction callApi(endpoint, sendToken, mustAuth, method, data) {\r\n  \r\n  let token = localStorage.getItem('token') || null\r\n  let config = { \r\n    method: method || 'GET',\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    }\r\n  }\r\n\r\n  if (data){\r\n    config.body = JSON.stringify(data);\r\n  }\r\n\r\n  \r\n  if(sendToken) {\r\n    if(token) {\r\n      config.headers.Authorization = `${token}`;\r\n    } else if(mustAuth){\r\n      throw \"No token saved!\"\r\n    }\r\n  }\r\n  \r\n  return fetch(BASE_URL + endpoint, config)\r\n    .then(response =>{\r\n      \r\n        return response.json()\r\n        .then(json => ({ json, response }))\r\n      }\r\n    ).then(({ json, response }) => {\r\n\r\n      if (!response.ok) {        \r\n        return Promise.reject({error: json, response})\r\n      }\r\n      \r\n      return json;\r\n    }).catch(err => Promise.reject(err))\r\n}\r\n\r\nexport const CALL_API = Symbol('Call API')\r\n\r\nexport default store => next => action => {\r\n  \r\n  const callAPI = action[CALL_API]\r\n  \r\n  // So the middleware doesn't get applied to every single action\r\n  if (typeof callAPI === 'undefined') {\r\n    return next(action)\r\n  }\r\n\r\n  Progress.show();\r\n  \r\n  return makeAPIRequest(callAPI, next, store);\r\n  \r\n}\r\n\r\nfunction makeAPIRequest(callAPI, next, store){\r\n  let { endpoint, types, sendToken, mustAuth, method, data } = callAPI;\r\n  \r\n  const [ requestType, successType, errorType ] = types;\r\n\r\n  // Passing the authenticated boolean back in our data will let us distinguish between normal and secret quotes\r\n  return callApi(endpoint, sendToken, mustAuth, method, data).then(\r\n    response => {\r\n      Progress.hide();\r\n\r\n      next({\r\n        data: response,\r\n        type: successType\r\n      })\r\n    })   \r\n    .catch((result) => {\r\n      Progress.hide();\r\n\r\n      // Recursive if the error is a new token\r\n      if (result.error && result.error.new_token){\r\n        localStorage.setItem('token', result.error.new_token);\r\n        return makeAPIRequest(callAPI, next, store);\r\n      }\r\n      \r\n      // Dispatch alert if any error\r\n      if (result && result.error && result.error.message){\r\n        store.dispatch(alertActions.addAlert(result.error.message, alertMessages.ERROR));\r\n      }      \r\n\r\n      next({\r\n        message: (result.error) ? (result.error.message || result.error) : 'There was an error.',\r\n        status: result.response ? result.response.status : null,\r\n        type: errorType\r\n      })\r\n    }\r\n  )\r\n}","import React from 'react';\nimport { Component } from 'react';\nimport Header from '@/containers/header';\nimport ProfileNav from '@/components/navigation/profileNav';\n\nimport DashBoard from '@/components/dashboard';\n\nimport BottomNav from '@/components/navigation/bottomNav';\n\nexport default class DiscoverPage extends Component {\n  render() {\n    return (\n    \t<div>\n  \t\t\t<Header location={this.props.location}/>\n        <ProfileNav location={this.props.location}/>\n        <DashBoard location={this.props.location}/>\n  \t\t\t<BottomNav location={this.props.location}/>\n    \t</div>\n    );\n  }\n}","import React from 'react';\nimport { Component } from 'react';\nimport Header from '@/containers/header';\nimport ResourcesContainer from '@/containers/resources';\nimport { AppBreadcrumbs } from '@/components/common/breadcrumbs';\nimport BottomNav from '@/components/navigation/bottomNav';\n\nexport default class DiscoverPage extends Component {\n  render() {    \n    return (\n    \t<div>\n  \t\t\t<Header location={this.props.location}/>\n  \t\t\t<AppBreadcrumbs routes={this.props.routes} params={this.props.params} setDocumentTitle={true} />\n  \t\t\t<ResourcesContainer location={this.props.location}/>\n  \t\t\t<BottomNav location={this.props.location}/>\n    \t</div>\n    );\n  }\n}","import React from 'react';\nimport { Component } from 'react';\n\n// Containers\nimport HeaderContainer from '@/containers/header';\nimport FormatsContainer from '@/containers/formats';\nimport ExploreBlock from '@/components/blocks/explore';\nimport RecentContainer from '@/containers/resources/recent';\nimport ContributeBlockContainer from '@/containers/blocks/contribute';\nimport BottomNav from '@/components/navigation/bottomNav';\n\nexport default class IndexPage extends Component {\n  render() {   \n    return (\n    \t<div>\n\t    \t<HeaderContainer location={this.props.location} />\n            <FormatsContainer />\t\n            <ExploreBlock />\n            <RecentContainer />\n            <ContributeBlockContainer />\n            <BottomNav location={this.props.location} />\n    \t</div>\n    );\n  }\n}","import React from 'react';\nimport { Component } from 'react';\nimport Header from '@/containers/header';\nimport NewResourceFormContainer from '@/containers/dashboard/newResourceForm';\nimport BottomNav from '@/components/navigation/bottomNav';\n\nexport default class NewResourcePage extends Component {\n  render() {\n    return (\n    \t<div>\n  \t\t\t<Header location={this.props.location}/>\n        \t<NewResourceFormContainer params={this.props.params} />\n  \t\t\t<BottomNav location={this.props.location}/>\n    \t</div>\n    );\n  }\n}","import React from 'react';\nimport { Component } from 'react';\nimport Header from '@/containers/header';\nimport NewScriptFormContainer from '@/containers/dashboard/newScriptForm';\nimport BottomNav from '@/components/navigation/bottomNav';\n\nexport default class NewResourcePage extends Component {\n  render() {\n    return (\n    \t<div>\n    \t\t<Header location={this.props.location}/>\n        \t<NewScriptFormContainer params={this.props.params}/>\n  \t\t\t<BottomNav location={this.props.location}/>\n    \t</div>\n    );\n  }\n}","import React, { PropTypes } from 'react';\nimport { Component } from 'react';\nimport Header from '@/containers/header';\nimport BottomNav from '@/components/navigation/bottomNav';\n\nexport default class NotFoundPage extends Component {\n  render() {\n    return (\n    \t<div>\n        <Header location={this.props.location}/>\n        <div className=\"page-not-found light-background\">\n          <div className=\"container\">\n            <div className=\"col-xs-10 col-xs-offset-1 text-center\">\n              <h1>Oops! Não foi possível encontrar a página pretendida.</h1>\n              <p>Talvez seja melhor <button onClick={() => this.context.router.goBack()} className=\"cta primary outline\">Voltar</button></p>\n            </div>\n          </div>          \n        </div>\n  \t\t\t<BottomNav location={this.props.location}/>\n    \t</div>\n    );\n  }\n}\n\nNotFoundPage.contextTypes = {\n  router: PropTypes.object\n}","import React from 'react';\nimport { Component } from 'react';\nimport Header from '@/containers/header';\nimport { AppBreadcrumbs } from '@/components/common/breadcrumbs';\nimport SearchForm from '@/components/search/searchForm';\nimport SearchContainer from '@/containers/search';\nimport ResourceDetails from '@/containers/resources/details';\nimport BottomNav from '@/components/navigation/bottomNav';\n\nexport default class ResourceDetailsPage extends Component {\n  render() {\n    return (\n    \t<div>\n  \t\t\t<Header location={this.props.location}/>\n        <div className=\"resource-detail-search\">\n          <div className=\"container\">\n              <SearchContainer searchKeywords={false}/>\n          </div>          \n        </div>        \n  \t\t\t<AppBreadcrumbs routes={this.props.routes} params={this.props.params} setDocumentTitle={true} />\n        <ResourceDetails params={this.props.params}/>\n  \t\t\t<BottomNav location={this.props.location}/>\n    \t</div>\n    );\n  }\n}","import React from 'react';\nimport { Component } from 'react';\nimport Header from '@/containers/header';\nimport SignupForm from '@/containers/auth/signupForm';\nimport BottomNav from '@/components/navigation/bottomNav';\n\nexport default class NewResourcePage extends Component {\n  render() {\n    return (\n    \t<div>\n  \t\t\t<Header location={this.props.location}/>\n        <SignupForm />\n  \t\t\t<BottomNav location={this.props.location}/>\n    \t</div>\n    );\n  }\n}","import assign from 'object-assign';\nimport { \n\tACCESS_REQUEST, \n\tACCESS_SUCCESS,\n\tACCESS_FAILURE,\n  ACCESS_RESET\n} from '@/actions/action-types';\n\nconst INITIAL_STATE = { fetching: false, fetched: false, data: null, errorMessage: null, errorStatus: null };\n\nexport default function(state = INITIAL_STATE, action) {\n  switch(action.type) {\n    case ACCESS_REQUEST:\n      return assign({}, state, {\n        fetching: true\n      })\n    case ACCESS_SUCCESS:\n      return assign({}, state, {\n        fetching: false,\n        fetched: true,\n        data: action.data.result\n      })\n    case ACCESS_FAILURE:\n      return assign({}, state, {\n        fetching: false,\n        errorMessage: action.message,\n        errorStatus: action.status\n      })\n    case ACCESS_RESET:\n      return assign({}, state, {\n        fetching: false,\n        fetched: false,\n        data: null,\n        errorMessage: null,\n        errorStatus: null\n      })\n    default:\n      return state;\n  }\n}\n\n","import assign from 'object-assign';\nimport { \n\tALERT_ADD, \n  ALERT_REMOVE\n} from '@/actions/action-types';\n\nconst INITIAL_STATE = { message: null };\n\nexport default function(state = INITIAL_STATE, action) {\n  switch(action.type) {\n    case ALERT_ADD:\n      return assign({}, state, {\n        message: action.message,\n        resultType: action.resultType\n      })\n    case ALERT_REMOVE:\n      return assign({}, state, {\n        message: null,\n        resultType: null\n      })\n    default:\n      return state;\n  }\n}","import assign from 'object-assign';\nimport { \n\tLOGIN_REQUEST, \n  LOGIN_SUCCESS,\n  LOGIN_FAILURE,\n  LOGOUT_REQUEST,\n  SIGNUP_REQUEST, \n  SIGNUP_SUCCESS,\n  SIGNUP_FAILURE\n} from '@/actions/action-types';\n\nconst INITIAL_STATE = { fetching: false, fetched: false, data: null, errors: null, isAuthenticated: false };\n\nexport default function(state = INITIAL_STATE, action) {\n  switch(action.type) {\n    case LOGIN_REQUEST:\n      return assign({}, state, {\n        fetching: true\n      })\n    case LOGIN_SUCCESS:\n      return assign({}, state, {\n        fetching: false,\n        fetched: true,\n        data: {\n          token: action.data.token,\n          user: action.data.user\n        },\n        isAuthenticated: true\n      })\n    case LOGIN_FAILURE:\n      return assign({}, state, {\n        fetching: false,\n        errors: action.errors\n      })\n    case LOGOUT_REQUEST:\n      return assign({}, state, INITIAL_STATE)\n    case SIGNUP_REQUEST:\n      return assign({}, state, {\n        fetching: true\n      })\n    case SIGNUP_SUCCESS:\n      return assign({}, state, {\n        fetching: false,\n        fetched: true,\n        data: action.data,\n        isAuthenticated: true\n      })\n    case SIGNUP_FAILURE:\n      return assign({}, state, {\n        fetching: false,\n        errors: action.errors\n      })\n    default:\n      return state;\n  }\n}","import assign from 'object-assign';\nimport { \n\tCOMMENTS_REQUEST, \n  COMMENTS_SUCCESS,\n  COMMENTS_FAILURE,\n  COMMENTS_RESET\n} from '@/actions/action-types';\n\nconst INITIAL_STATE = { fetching: false, fetched: false, data: null, errors: null, isAuthenticated: false };\n\nexport default function(state = INITIAL_STATE, action) {\n  switch(action.type) {\n    case COMMENTS_REQUEST:\n      return assign({}, state, {\n        fetching: true\n      })\n    case COMMENTS_SUCCESS:\n      return assign({}, state, {\n        fetching: false,\n        fetched: true,\n        data: action.data,\n        isAuthenticated: true\n      })\n    case COMMENTS_FAILURE:\n      return assign({}, state, {\n        fetching: false,\n        errors: action.errors\n      })\n    case COMMENTS_RESET:\n      return assign({}, state, {\n        fetching: false,\n        fetched: false,\n        data: null,\n        errors: null\n      })\n    default:\n      return state;\n  }\n}","import assign from 'object-assign';\nimport { \n\tCONFIG_REQUEST, \n\tCONFIG_SUCCESS,\n\tCONFIG_FAILURE\n} from '@/actions/action-types';\n\nconst INITIAL_STATE = { fetching: false, fetched: false, data: null, errorMessage: null };\n\nexport default function(state = INITIAL_STATE, action) {\n  switch(action.type) {\n    case CONFIG_REQUEST:\n      return assign({}, state, {\n        fetching: true\n      })\n    case CONFIG_SUCCESS:\n      return assign({}, state, {\n        fetching: false,\n        fetched: true,\n        data: action.data\n      })\n    case CONFIG_FAILURE:\n      return assign({}, state, {\n        fetching: false,\n        errorMessage: action.message\n      })\n    default:\n      return state;\n  }\n}","import assign from 'object-assign';\nimport { \n\tDOMAINS_REQUEST, \n\tDOMAINS_SUCCESS,\n\tDOMAINS_FAILURE,\n  DOMAINS_RESET\n} from '@/actions/action-types';\n\nconst INITIAL_STATE = { fetching: false, fetched: false, data: null, errorMessage: null, errorStatus: null };\n\nexport default function(state = INITIAL_STATE, action) {\n  switch(action.type) {\n    case DOMAINS_REQUEST:\n      return assign({}, state, {\n        fetching: true\n      })\n    case DOMAINS_SUCCESS:\n\n      return assign({}, state, {\n        fetching: false,\n        fetched: true,\n        data: action.data.result\n      })\n    case DOMAINS_FAILURE:\n      return assign({}, state, {\n        fetching: false,\n        errorMessage: action.message,\n        errorStatus: action.status\n      })\n    case DOMAINS_RESET:\n      return assign({}, state, {\n        fetching: false,\n        fetched: false,\n        data: null,\n        errorMessage: null,\n        errorStatus: null\n      })\n    default:\n      return state;\n  }\n}\n\n","import assign from 'object-assign';\r\nimport { \r\n\tFILTERS_GET, \r\n\tFILTERS_SET,\r\n  FILTERS_RESET\r\n} from '@/actions/action-types';\r\n\r\nconst INITIAL_STATE = { filters: null};\r\n\r\nexport default function(state = INITIAL_STATE, action) {\r\n  switch(action.type) {\r\n    case FILTERS_GET:\r\n      return state;\r\n    case FILTERS_SET:\r\n      return assign({}, state, {\r\n        filters: action.filters\r\n      })\r\n    case FILTERS_RESET:\r\n      return assign({}, state, {\r\n        filters: null\r\n      })\r\n    default:\r\n      return state;\r\n  }\r\n}","import assign from 'object-assign';\nimport { \n\tFORMATS_REQUEST, \n\tFORMATS_SUCCESS,\n\tFORMATS_FAILURE,\n  FORMATS_RESET\n} from '@/actions/action-types';\n\nconst INITIAL_STATE = { fetching: false, fetched: false, data: null, errorMessage: null, errorStatus: null };\n\nexport default function(state = INITIAL_STATE, action) {\n  switch(action.type) {\n    case FORMATS_REQUEST:\n      return assign({}, state, {\n        fetching: true\n      })\n    case FORMATS_SUCCESS:\n\n      return assign({}, state, {\n        fetching: false,\n        fetched: true,\n        data: action.data.result\n      })\n    case FORMATS_FAILURE:\n      return assign({}, state, {\n        fetching: false,\n        errorMessage: action.message,\n        errorStatus: action.status\n      })\n    case FORMATS_RESET:\n      return assign({}, state, {\n        fetching: false,\n        fetched: false,\n        data: null,\n        errorMessage: null,\n        errorStatus: null\n      })\n    default:\n      return state;\n  }\n}\n\n","'use strict';\n\nimport { combineReducers } from 'redux';\nimport { reducer as form } from 'redux-form';\nimport highlights, {resources, resource, relatedResources }  from './resources';\nimport scripts  from './scripts';\nimport comments  from './comments';\nimport formats  from './formats';\nimport access  from './access';\nimport subjects  from './subjects';\nimport domains  from './domains';\nimport languages  from './languages';\nimport years  from './years';\nimport terms  from './terms';\nimport auth from './auth';\nimport user from './user';\nimport alerts  from './alerts';\nimport filters from './filters';\nimport config from './config';\n\nconst rootReducer = combineReducers({\n\tconfig,\n\tform,\n\thighlights,\n\tformats,\n\taccess,\n\tsubjects,\n\tdomains,\n\tlanguages,\n\tyears,\n\tcomments,\n\tresources,\n\tresource,\n\tscripts,\n\trelatedResources,\n\tterms,\n\tauth,\n\tuser,\n\tfilters,\n\talerts\n}); \n\nexport default rootReducer;","import assign from 'object-assign';\nimport { \n\tLANGUAGES_REQUEST, \n\tLANGUAGES_SUCCESS,\n\tLANGUAGES_FAILURE,\n  LANGUAGES_RESET\n} from '@/actions/action-types';\n\nconst INITIAL_STATE = { fetching: false, fetched: false, data: null, errorMessage: null, errorStatus: null };\n\nexport default function(state = INITIAL_STATE, action) {\n  switch(action.type) {\n    case LANGUAGES_REQUEST:\n      return assign({}, state, {\n        fetching: true\n      })\n    case LANGUAGES_SUCCESS:\n\n      return assign({}, state, {\n        fetching: false,\n        fetched: true,\n        data: action.data.result\n      })\n    case LANGUAGES_FAILURE:\n      return assign({}, state, {\n        fetching: false,\n        errorMessage: action.message,\n        errorStatus: action.status\n      })\n    case LANGUAGES_RESET:\n      return assign({}, state, {\n        fetching: false,\n        fetched: false,\n        data: null,\n        errorMessage: null,\n        errorStatus: null\n      })\n    default:\n      return state;\n  }\n}\n\n","import assign from 'object-assign';\nimport { \n\tHIGHLIGHTS_REQUEST, \n\tHIGHLIGHTS_SUCCESS,\n\tHIGHLIGHTS_FAILURE,\n  HIGHLIGHTS_RESET,\n  TOGGLE_HIGHLIGHT_RESOURCE,\n  RESOURCES_REQUEST, \n  RESOURCES_SUCCESS,\n  RESOURCES_FAILURE,\n  RESOURCES_RESET,\n  RESOURCE_REQUEST, \n  RESOURCE_SUCCESS,\n  RESOURCE_FAILURE,\n  RESOURCE_RESET,\n  TOGGLE_FAVORITE_RESOURCE,\n  RELATED_RESOURCES_REQUEST, \n  RELATED_RESOURCES_SUCCESS,\n  RELATED_RESOURCES_FAILURE,\n  RELATED_RESOURCES_RESET\n} from '@/actions/action-types';\n\nconst INITIAL_STATE = { fetching: false, fetched: false, data: null, errorMessage: null, errorStatus: null };\n\nexport default function(state = INITIAL_STATE, action) {\n  switch(action.type) {\n    case HIGHLIGHTS_REQUEST:\n      return assign({}, state, {\n        fetching: true\n      })\n    case HIGHLIGHTS_SUCCESS:\n      return assign({}, state, {\n        fetching: false,\n        fetched: true,\n        data: action.data.result\n      })\n    case HIGHLIGHTS_FAILURE:\n      return assign({}, state, {\n        fetching: false,\n        errorMessage: action.message,\n        errorStatus: action.status\n      })  \n    case HIGHLIGHTS_RESET:\n      return assign({}, state, {\n        fetching: false,\n        fetched: false,\n        data: null,\n        errorMessage: null,\n        errorStatus: null\n      })  \n    default:\n      return state;\n  }\n}\n\nexport function resources(state = INITIAL_STATE, action) {\n  switch(action.type) {\n    case RESOURCES_REQUEST:\n      return assign({}, state, {\n        fetching: true\n      })\n    case RESOURCES_SUCCESS:\n      return assign({}, state, {\n        fetching: false,\n        fetched: true,\n        curPage: action.data.page,\n        total: action.data.total,\n        totalPages: action.data.totalPages,\n        data: action.data.result\n      })\n    case RESOURCES_FAILURE:\n      return assign({}, state, {\n        fetching: false,\n        errorMessage: action.message,\n        errorStatus: action.status\n      })\n    case RESOURCES_RESET:\n      return assign({}, state, {\n        fetching: false,\n        fetched: false,\n        data: null,\n        errorMessage: null,\n        errorStatus: null\n      })\n    case TOGGLE_HIGHLIGHT_RESOURCE:\n      \n      // CALL SINGLE RESOURCE REDUCER TO MAKE THE CHANGE\n      return assign({}, state, {\n        data: state.data.map(item => resource(item, action))\n      })\n\n    case TOGGLE_FAVORITE_RESOURCE:\n      \n      // CALL SINGLE RESOURCE REDUCER TO MAKE THE CHANGE\n      return assign({}, state, {\n        data: state.data.map(item => resource(item, action))\n      })\n\n    default:\n      return state;\n  }\n};\n\nexport function resource(state = INITIAL_STATE, action) {\n  switch(action.type) {\n    case RESOURCE_REQUEST:\n      return assign({}, state, {\n        fetching: true\n      })\n    case RESOURCE_SUCCESS:\n      return assign({}, state, {\n        fetching: false,\n        fetched: true,\n        data: action.data.result\n      })\n    case RESOURCE_FAILURE:\n      return assign({}, state, {\n        fetching: false,\n        errorMessage: action.message,\n        errorStatus: action.status\n      })\n    case RESOURCE_RESET:\n      return assign({}, state, {\n        fetching: false,\n        fetched: false,\n        data: null,\n        errorMessage: null,\n        errorStatus: null\n      })\n    case TOGGLE_HIGHLIGHT_RESOURCE:\n      if (state.id != action.id){\n        return state;\n      }\n\n      return assign({}, state, {\n        highlight: !state.highlight\n      });\n    case TOGGLE_FAVORITE_RESOURCE:\n      if (state.id != action.id){\n        return state;\n      }\n\n      return assign({}, state, {\n        isFavorite: !state.isFavorite\n      });\n    default:\n      return state;\n  }\n};\n\nexport function relatedResources(state = INITIAL_STATE, action) {\n  switch(action.type) {\n    case RELATED_RESOURCES_REQUEST:\n      return assign({}, state, {\n        fetching: true\n      })\n    case RELATED_RESOURCES_SUCCESS:\n      return assign({}, state, {\n        fetching: false,\n        fetched: true,\n        data: action.data.result\n      })\n    case RELATED_RESOURCES_FAILURE:\n      return assign({}, state, {\n        fetching: false,\n        errorMessage: action.message,\n        errorStatus: action.status\n      })\n    case RELATED_RESOURCES_RESET:\n      return assign({}, state, {\n        fetching: false,\n        fetched: false,\n        data: null,\n        errorMessage: null,\n        errorStatus: null\n      })\n    default:\n      return state;\n  }\n};","import assign from 'object-assign';\r\nimport { \r\n\tSCRIPTS_REQUEST, \r\n\tSCRIPTS_SUCCESS,\r\n\tSCRIPTS_FAILURE,\r\n  SCRIPTS_RESET\r\n} from '@/actions/action-types';\r\n\r\nconst INITIAL_STATE = { fetching: false, fetched: false, data: null, errorMessage: null, errorStatus: null };\r\n\r\nexport default function(state = INITIAL_STATE, action) {\r\n  switch(action.type) {\r\n    case SCRIPTS_REQUEST:\r\n      return assign({}, state, {\r\n        fetching: true\r\n      })\r\n    case SCRIPTS_SUCCESS:\r\n      return assign({}, state, {\r\n        fetching: false,\r\n        fetched: true,\r\n        data: action.data.result\r\n      })\r\n    case SCRIPTS_FAILURE:\r\n      return assign({}, state, {\r\n        fetching: false,\r\n        errorMessage: action.message,\r\n        errorStatus: action.status\r\n      })\r\n    case SCRIPTS_RESET:\r\n      return assign({}, state, {\r\n        fetching: false,\r\n        fetched: false,\r\n        data: null,\r\n        errorMessage: null,\r\n        errorStatus: null\r\n      })\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\n","import assign from 'object-assign';\nimport { \n\tSUBJECTS_REQUEST, \n\tSUBJECTS_SUCCESS,\n\tSUBJECTS_FAILURE,\n  SUBJECTS_RESET\n} from '@/actions/action-types';\n\nconst INITIAL_STATE = { fetching: false, fetched: false, data: null, errorMessage: null, errorStatus: null };\n\nexport default function(state = INITIAL_STATE, action) {\n  switch(action.type) {\n    case SUBJECTS_REQUEST:\n      return assign({}, state, {\n        fetching: true\n      })\n    case SUBJECTS_SUCCESS:\n\n      return assign({}, state, {\n        fetching: false,\n        fetched: true,\n        data: action.data.result\n      })\n    case SUBJECTS_FAILURE:\n      return assign({}, state, {\n        fetching: false,\n        errorMessage: action.message,\n        errorStatus: action.status\n      })\n    case ~SUBJECTS_RESET:\n      return assign({}, state, {\n        fetching: false,\n        fetched: false,\n        data: null,\n        errorMessage: null,\n        errorStatus: null\n      })\n    default:\n      return state;\n  }\n}","import assign from 'object-assign';\nimport { \n\tTERMSANDCONDITIONS_REQUEST, \n\tTERMSANDCONDITIONS_SUCCESS,\n\tTERMSANDCONDITIONS_FAILURE\n} from '@/actions/action-types';\n\nconst INITIAL_STATE = { fetching: false, fetched: false, data: null, errorMessage: null, errorStatus: null };\n\nexport default function(state = INITIAL_STATE, action) {\n  switch(action.type) {\n    case TERMSANDCONDITIONS_REQUEST:\n      return assign({}, state, {\n        fetching: true\n      })\n    case TERMSANDCONDITIONS_SUCCESS:\n\n      return assign({}, state, {\n        fetching: false,\n        fetched: true,\n        data: action.data\n      })\n    case TERMSANDCONDITIONS_FAILURE:\n      return assign({}, state, {\n        fetching: false,\n        errorMessage: action.message,\n        errorStatus: action.status\n      })\n    default:\n      return state;\n  }\n}\n\n","import assign from 'object-assign';\nimport { \n\tUSER_REQUEST, \n\tUSER_SUCCESS,\n\tUSER_FAILURE\n} from '@/actions/action-types';\n\nconst INITIAL_STATE = { fetching: false, fetched: false, data: null, errorMessage: null, errorStatus: null };\n\nexport default function(state = INITIAL_STATE, action) {\n  switch(action.type) {\n    case USER_REQUEST:\n      return assign({}, state, {\n        fetching: true\n      })\n    case USER_SUCCESS:\n      return assign({}, state, {\n        fetching: false,\n        fetched: true,\n        data: action.data\n      })\n    case USER_FAILURE:\n      return assign({}, state, {\n        fetching: false,\n        errorMessage: action.message,\n        errorStatus: action.status\n      })\n    default:\n      return state;\n  }\n}\n\n","import assign from 'object-assign';\nimport { \n\tYEARS_REQUEST, \n\tYEARS_SUCCESS,\n\tYEARS_FAILURE,\n  YEARS_RESET\n} from '@/actions/action-types';\n\nconst INITIAL_STATE = { fetching: false, fetched: false, data: null, errorMessage: null, errorStatus: null };\n\nexport default function(state = INITIAL_STATE, action) {\n  switch(action.type) {\n    case YEARS_REQUEST:\n      return assign({}, state, {\n        fetching: true\n      })\n    case YEARS_SUCCESS:\n      return assign({}, state, {\n        fetching: false,\n        fetched: true,\n        data: action.data.result\n      })\n    case YEARS_FAILURE:\n      return assign({}, state, {\n        fetching: false,\n        errorMessage: action.message,\n        errorStatus: action.status\n      })\n    case YEARS_RESET:\n      return assign({}, state, {\n        fetching: false,\n        fetched: false,\n        data: null,\n        errorMessage: null,\n        errorStatus: null\n      })\n    default:\n      return state;\n  }\n}\n\n","'user strict';\n\nimport React from 'react';\nimport { Route, IndexRoute } from 'react-router';\n\nimport App from '@/layouts/app';\nimport Empty from '@/layouts/empty';\n\n// Pages\nimport IndexPage from '@/pages/indexPage';\nimport DiscoverPage from '@/pages/discoverPage';\nimport SignupFormPage from '@/pages/signupFormPage';\nimport DashboardPage from '@/pages/dashboardPage';\nimport ResourceDetailsPage from '@/pages/resourceDetailsPage';\nimport NewResourcePage from '@/pages/newResourcePage';\nimport NewScriptPage from '@/pages/newScriptPage';\nimport NotFoundPage from '@/pages/notFoundPage';\n\n// Required\nimport { requireAuth } from '@/containers/auth/requireAuth';\n\n\nexport default (\n  <Route path=\"/\" name=\"Início\" component={App}>\n  \t<IndexRoute component={IndexPage} />\n\n  \t<Route name=\"Descobrir\" path=\"descobrir\" component={DiscoverPage} />\n  \t<Route name=\"Descobrir\" path=\"descobrir\" component={Empty}>  \t\t\n\t\t  <Route name=\"Detalhes de Recurso\" path=\"detalhes-recurso/:resource\" component={ResourceDetailsPage} />\n  \t</Route>\n    \n  \t<Route name=\"Painel de Gestão\" path=\"painel\" component={DashboardPage} />\n    <Route name=\"Novo Recurso\" path=\"novorecurso\" component={NewResourcePage} />\n    <Route name=\"Editar Recurso\" path=\"editarrecurso/:resource\" component={NewResourcePage} />\n    <Route name=\"Gerir Guiões\" path=\"gerirguioes/:resource\" component={NewScriptPage} /> \n\n    <Route name=\"Registar\" path=\"registar\" component={SignupFormPage} />\n\n  \t<Route name=\"Não Encontrado\" path=\"*\" component={NotFoundPage} />\n  </Route>\n);","import moment from 'moment';\n\n//\n//  Set date and time localization\n//\nmoment.locale('pt', {\n    months : \"janeiro_fevereiro_março_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro\".split(\"_\"),\n    monthsShort : \"jan._fev._mar_abr._mai_jun_jul._ago_set._out._nov._dez.\".split(\"_\"),\n    weekdays : \"domingo_segunda_terça_quarta_quinta_sexta_sábado\".split(\"_\"),\n    weekdaysShort : \"dom._seg._ter._qua._qui._sex._sab.\".split(\"_\"),\n    weekdaysMin : \"Do_Se_Te_Qua_Qui_Se_Sab\".split(\"_\"),\n    longDateFormat : {\n        LT : \"HH:mm\",\n        LTS : \"HH:mm:ss\",\n        L : \"DD/MM/YYYY\",\n        LL : \"D MMMM YYYY\",\n        LLL : \"D MMMM YYYY LT\",\n        LLLL : \"dddd D MMMM YYYY LT\"\n    },\n    calendar : {\n        sameDay: \"[Hoje às] LT\",\n        nextDay: '[Amanhã às] LT',\n        nextWeek: 'dddd [às] LT',\n        lastDay: '[Ontem às] LT',\n        lastWeek: '[a última] dddd LT',\n        sameElse: 'L'\n    },\n    relativeTime : {\n        future : \"em %s\",\n        past : \"%s atrás\",\n        s : \"segundos\",\n        m : \"um minuto\",\n        mm : \"%d minutos\",\n        h : \"uma hora\",\n        hh : \"%d horas\",\n        d : \"um dia\",\n        dd : \"%d dias\",\n        M : \"um mês\",\n        MM : \"%d meses\",\n        y : \"um ano\",\n        yy : \"%d anos\"\n    },\n    week : {\n        dow : 1, // Monday is the first day of the week.\n        doy : 4  // The week that contains Jan 4th is the first week of the year.\n    }\n});\n\n\n//\n//  Convert date format\n//\nexport const setDateFormat = (date, formatDate) => {\n\tmoment.locale('pt');\n\treturn moment(date).format(formatDate);\n}\n\n//\n//  Set string to url if no HTTP exists\n//\nexport const setUrl = (content) => {\n    if (content.indexOf(\"http://\") == -1){\n        return \"http://\"+content;\n    }\n\n    return content;\n}\n\n//\n//  Sort with locale the TITLE property\n//\nexport const sortByTitle = function(s1, s2){\n    return s1.title.localeCompare(s2.title);\n}\n\n//\n//  Build query string to get data\n//\nexport const toQueryString = function(data){\n    let finalString = \"\";\n\n    if (data){\n        let keys = Object.keys(data);\n\n\n        for(let key of keys){ \n            let customKey = key==\"access\" ? \"modes\" : key;\n\n            if (data[key] instanceof Array){\n                for (let value of data[key]){             \n\n                    finalString = finalString.length>0 && keys.length>0 ? finalString+\"&\" : finalString;\n                    finalString += customKey+\"[]=\"+value;\n                }\n            }else if(data[key]){\n                finalString = finalString.length>0 && keys.length>0 ? finalString+\"&\" : finalString;\n                finalString += customKey+\"[]=\"+data[key];\n            }\n        }\n    }\n    return finalString;\n}\n\n//\n//  Build query string from complex structure\n//\nexport const complexToQueryString = function(data){\n    let finalString = \"\";\n\n    if (data){\n        let keys = Object.keys(data);\n\n        for(let key of keys){ \n            let customKey = key==\"access\" ? \"modes\" : key;\n\n            if (data[key] instanceof Array){\n                for (let value of data[key]){             \n\n                    finalString = finalString.length>0 && keys.length>0 ? finalString+\"&\" : finalString;\n                    finalString += customKey+\"[]=\"+value;\n                }\n            }\n\n            // If nested 1 level\n            else if(data[key] instanceof Object){\n                let thisKeyObjs = Object.keys(data[key]);\n\n                // Go for all keys\n                for (let thisKey of thisKeyObjs){   \n                    let customKey = thisKey==\"access\" ? \"modes\" : thisKey;  \n\n                    // If is an array\n                    if (data[key][thisKey] instanceof Array){\n                       // For each key, get value\n                        for (let value of data[key][thisKey]){             \n\n                            finalString = finalString.length>0 && keys.length>0 ? finalString+\"&\" : finalString;\n                            finalString += customKey+\"[]=\"+value;\n                        } \n                    // If it is just a plain value\n                    }else if(data[key][thisKey]){\n                        finalString = finalString.length>0 && keys.length>0 ? finalString+\"&\" : finalString;\n                        finalString += customKey+\"[]=\"+data[key][thisKey];\n                    }                       \n                }\n            }\n            else if(data[key]){\n                finalString = finalString.length>0 && keys.length>0 ? finalString+\"&\" : finalString;\n                finalString += data[key] instanceof Array ? customKey+\"[]=\"+data[key] : customKey+\"=\"+data[key];\n            }\n        }\n    }\n\n    return finalString;\n}\n\n//\n//  Return average\n//\n\nexport const getAvg = (ratings) => {\n    let total = ratings.length;\n    let sum = 0;\n\n    for (let rating of ratings){\n        sum = sum + parseInt(rating.value);\n    }\n\n    return sum/total;\n}\n\n//\n//  Truncate text\n//\nexport const truncate = (str,num) => {\n  var words = str.split(' ');\n  words = words.splice(0,num);\n\n  var final = words.join(' ');\n  return final.length>=str.length ? words.join(' ') : words.join(' ')+\" ...\";\n}"]}